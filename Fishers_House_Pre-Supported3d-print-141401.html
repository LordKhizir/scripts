<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="canonical" href="https://www.myminifactory.com/object/3d-print-141401" />
  <title>    3D Printable Fisher&#039;s House (Pre-Supported)
            by Cast n Play
    </title>
  	<meta name="description" content=" | Download free and paid 3D printable STL files" />

      <link href="https://static.myminifactory.com/css/stylesheet.min.css?v108" rel="stylesheet" type="text/css">
  <noscript>
    <link href="https://static.myminifactory.com/css/no-js.min.css?v108" rel="stylesheet" type="text/css">
  </noscript>
  <link rel="stylesheet" href="https://static.myminifactory.com/css/foundation/foundation.min.css?v108" type="text/css">
  <link rel="stylesheet preload" href="https://static.myminifactory.com/css/font-awesome.min.css?v108" type="text/css" as="style">
  <link rel="stylesheet" href="https://static.myminifactory.com/css/app-banner/smart-app-banner.css?v108" type="text/css" media="screen">
      
      <link rel="stylesheet" href="https://static.myminifactory.com/js/build/footer.ba0416a6.css?v108">

    <link rel="stylesheet preload" href="https://static.myminifactory.com/css/flaticon.min.css?v108" type="text/css" as="style">
  <link rel="stylesheet preload" href="https://static.myminifactory.com/css/foundation/foundation-icons.min.css?v108" type="text/css" as="style">

    <meta name="apple-itunes-app" content="app-id=1313773617">
  <meta name="google-play-app" content="app-id=com.myminifactoryapps">
  <meta name="theme-color" content="#333">
  <link rel="apple-touch-icon" href="https://static.myminifactory.com/images/app-banner/app-icon.png?v108">
  <link rel="android-touch-icon" href="https://static.myminifactory.com/images/app-banner/app-icon.png?v108" />

<script>
(function(){
    var listeners = {};

    window.customEventDispatcher = {
        addEventListener: function(type, listener) {
            if (listeners[type] === undefined) {
                listeners[type] = [];
            }
    
            if (listeners[type].indexOf(listener) === -1) {
                listeners[type].push(listener);
            }
        },
        removeEventListener: function(type, listener) {
            if (listeners[type] !== undefined) {
                var index = listeners[type].indexOf(listener);
                if (index !== - 1) {
                    listeners[type].splice(index, 1);
                }
            }
        },
        dispatchEvent: function(type, data) {
            if (listeners[type] !== undefined) {
                for (var i = 0; i < listeners[type].length; i++) {
                    listeners[type][i](data);
                }
            }
        }
    };
})()
</script>

      <script src="https://static.myminifactory.com/js/jquery-1.12.4.min.js?v108"></script>
    <script src="https://static.myminifactory.com/js/jquery-ui-1.10.4.min.js?v108"></script>
    <script src="https://static.myminifactory.com/js/js-collection.js?v108" type="text/javascript"></script>
    <script src="https://static.myminifactory.com/js/foundation/foundation.min.js?v108" type="text/javascript"></script>
    <script type='text/javascript' src='https://www.google.com/jsapi'></script>
  

  <script src="https://static.myminifactory.com/js/app-banner/smart-app-banner.js?v108"></script>
  <script async defer type="text/javascript">
  var isiDevice = /ipad|iphone|ipod/i.test(navigator.userAgent.toLowerCase());
  if(isiDevice)
    var force = 'ios';
  var isAndroid = /android/i.test(navigator.userAgent.toLowerCase());
  if (isAndroid)
    var force = 'android';

    if(isiDevice || isAndroid)
    {
        new SmartBanner({
                daysHidden: 14,
                daysReminder: 92,
                appStoreLanguage: 'GB',
                title: 'MyMiniFactory',
                author: 'Search and Explore',
                button: 'VIEW',
                force: force,
                price: {
                  ios: 'FREE',
                  android: 'FREE'
              },
              store: {
                  ios: 'On the App Store',
                  android: 'In Google Play'
              }
        });
    }
    </script>


  
  <link rel="shortcut icon" href="https://static.myminifactory.com/favicon.png?v108" />
  <link rel="manifest" href="/manifest.json">

  <link href='https://static.myminifactory.com/css/fonts/Open-Sans.css?v108' rel='stylesheet' type='text/css'>
      	<link rel="canonical" href="https://www.myminifactory.com/object/3d-print-141401" />
                	<meta property="og:image" content="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/720X720-kot-fishershouse-castnplay.jpg">
    	<meta property="og:image:type" content="image/jpeg">
    	<meta property="og:image:width" content="720">
    	<meta property="og:image:height" content="720">
                    <link rel="canonical" href="https://www.myminifactory.com/object/3d-print-fisher-s-house-pre-supported-141401" />
    	<link href="https://static.myminifactory.com/css/threedobject/show.css?v108" rel="stylesheet" type="text/css">
	<link href="https://static.myminifactory.com/css/flatpickr/flatpickr.min.css?v108" rel="stylesheet" type="text/css">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
	<script type="text/javascript" src="/js/ad_internal.js"></script>
	<script src="https://static.myminifactory.com/js/modernizr.js?v108" type="text/javascript"></script>
	<script src="https://static.myminifactory.com/js/flatpickr/flatpickr.min.js?v108"></script>
        <!-- User objects - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '');
      </script>
    <!-- End Google Analytics -->


<script type="text/javascript">
    function showMessage(text,status){
        return '<div data-alert class="alert-box '+status+'">'+
        '<strong>'+text+'</strong></div>';
    }

    var state = {
      'saved':false,
      'liked':0,
      'following':false,
      'page':2,
      'focus':true,
      'mobile':false,
      'shells':0,
      'missingFile':true,
      'share3DFiles': [],
      'filesInfo': {},
      'remixChildrenPage': 1,
      'remixParentsPage': 1,
      'remixChildrenCount': 0,
      'remixParentsCount': 0,
      'adBlock': 'none'
    };

                            
                                                      	  	  	                  	
    $(document).ready(function () {

        setTimeout(function(){
            if($('.result-adv .adsbygoogle').is(':empty') && navigator.userAgent.search("Firefox") == -1) {
                adblock = 'block';
                $('.imgSponsorDefault').css("display", "block");
            } else if($('.result-adv .adsbygoogle').is(':empty')){
                adblock = 'block';
                $('.imgSponsorDefault').css("display", "block");
            }
        }, 2000);

        var remixLogo = $('#remix-logo'); // Only exists if the object is a Remix
        if (remixLogo != null){
            $(remixLogo).click(function(){

                if (!$('#remix-opener').hasClass('opened')){
                    $('#remix-opener').trigger('click');
                }

                $('html, body').animate({
                    scrollTop: $("#remix-curtain").offset().top - 150
                }, 800);
            });
        }

        $('.amzn-native-header').remove();
        $('.amzn-native-header-text').remove();

        $('.btn-buy').on('click', function(){
                          if (typeof ga !== 'undefined') {
                ga('send', 'event', 'Store', 'click-buy-loggedin', "141401 - Fisher&#039;s House (Pre-Supported)");
              }
                    });

        
                    $('input[type=radio][value='+1+']').prop('checked', true);
                    
                
        
      var textAutoLink = document.getElementsByClassName('text-auto-link');
      if(textAutoLink.length > 0){
        textAutoLink[0].innerHTML = Autolinker.link(textAutoLink[0].innerHTML);
      }

      $(document).on('opened.fndtn.reveal', '#printModal', function () {
          $('.container-comments-modal').css('max-height', $('.container-pic-modal').height());
      });

      setTimeout( function() {
        if($('.adsbygoogle').is(':empty') && navigator.userAgent.search("Firefox") == -1 ){
          $('.imgSponsorDefault').css("display", "inline-block");
        } else if($('.adsbygoogle').is(':empty')){
          $('.search-result-each.result-adv').hide();
        }
      }, 5000 );

      
      var $carousel = $('.slide-prdimg-gallery');
      $(document).on('keydown', function(e) {
        if(state.focus == true){
          if(e.keyCode == 37) {
              $carousel.slick('slickPrev');
          }
          if(e.keyCode == 39) {
              $carousel.slick('slickNext');
          }
        }
      });

      // Change primary img to 720X720
              $('.slide-prdimg-gallery').on('init', function(e, slick){
          $(slick.$slides[0]).find('img').attr('src', $(slick.$slides[0]).find('img').attr('src').replace('/70X70-', '/720X720-'));
          $('#loader-gallery').hide();
          $('.slide-prdimg-gallery').removeClass('hide');
                      $('.slide-prdimg-gallery .slick-cloned.slick-center').find('img').attr('src', $('.slide-prdimg-gallery .slick-cloned.slick-center').find('img').attr('src').replace('/70X70-', '/720X720-'))
            var image = new Image();
            image.src = $('.slide-prdimg-gallery .slick-cloned.slick-center').find('img').attr('src');
            image.onload = function() {
              if(this.height < 720 && this.height != 0){
                var $nextImg = $('.slide-prdimg-gallery .slick-cloned.slick-center').find('img');
                $nextImg.css('height', this.height);
                $nextImg.css('margin-top', (720 - this.height) / 2);
              }
            };
            $('.slide-prdimg-gallery .slick-cloned.slick-center').find('img').css('filter', 'none');
            $('.slide-prdimg-gallery .slick-cloned.slick-center').find('img').css('opacity', '0.4');
                    var image = new Image();
          image.src = $(slick.$slides[0]).find('img').attr('src');
          image.onload = function() {
            if(this.height < 720 && this.height != 0){
              var $nextImg = $(slick.$slides[0]).find('img');
              $nextImg.css('height', this.height);
              $nextImg.css('margin-top', (720 - this.height) / 2);
            }
          };
        });
                  $('.small-gallery').on('init', function(e, slick){
            $('.small-gallery').removeClass('hide');
          });
              
              $('.print-list-ul').removeClass('hide');
      
      // Carousel images
      $('.slide-prdimg-gallery').slick({
        dots: false,
        infinite: true,
        speed: 400,
        centerMode: true,
        swipeToSlide: true,
        slidesToShow: 1,
        accessibility: false,
      });


      var makeItNice = function(){
          $('.prdimg').height($('.prdimg').width());
          $('.slide-prdimg-gallery').height($('.slide-prdimg-gallery').width());
          $('.slide-prdimg-gallery .slick-slide').height($('.slide-prdimg-gallery').width());
          $('.prdimg-gallery').height($('.slide-prdimg-gallery').width());
          $('.slide-gallery').width($('.viewer-3d').width() - 16);
          $('.viewer-3d').height($('.viewer-3d').width());
          if($('.viewer-360').is(':visible')){
            $('.slide-gallery-360').width($('.viewer-360').width() - 16);
            $('.viewer-360').height($('.viewer-360').width());
          }
          $('.container-comments-modal').css('max-height', $('.container-pic-modal').height());
          if($('#printModal').is(':visible')){
            $('.modal-print-list-ul').height($('.modal-print-list-ul').width());
            $('.modal-print-list-ul .slick-slide').height($('.modal-print-list-ul').width());
          }
          if($('#viewer-image').is(':visible')){
            var heightViewer = $('.viewer-360').height();
            $('#viewer-image').css("background-size", 16*heightViewer+"px " + heightViewer + "px")
            $('#viewer-image').css("background-position", "0px 0px")
          }
          $('#smurf-hat').css('width', $('#smurf-nohat').width());
          $('#smurf-hat').css('margin', $('#smurf-nohat').css('margin'));
          var leftswitch = ($('.prdimg').width() - $('.switch-360-orientation').width());
          var leftloader = (($('.prdimg').width() / 2) - ($('#loader-threesixty').width() / 2));
          if($('#label-switch-360').html() == '<i class="fa fa-picture-o" aria-hidden="true"></i>'){
              $('.viewer-360').show();
            } else {
              $('.viewer-360').hide();
              $("#loader-threesixty").css('display', 'none');
            };
          if($('#label-switch-3d').html() == '<i class="fa fa-picture-o" aria-hidden="true"></i>'){
              $('.viewer-3d').show();
            } else {
              $('.viewer-3d').hide();
              $("#loader-threesixty").css('display', 'none');
            };
          $('.switch-360-orientation').css("left", leftswitch+"px");
          $("#loader-threesixty").css("left", leftloader+"px");
          $("#loader-threesixty").css("top", leftloader+"px");
          $("#loader-threesixty").css('display', 'none');
          if($('.switch-3d').is(':visible') && $('.switch-360').is(':visible')){
            if($('#label-switch-360').html() == '<i class="fa fa-picture-o" aria-hidden="true"></i>'){
              $('.viewer-360').show();
              $('.switch-360').css('left', '30px');
              $('.switch-3d').css('left', '90px');
            } else {
              $('.switch-360').css("left", "90px");
              $('.viewer-360').hide();
            };
          }
          if ($(window).width() <= 1009) {
              $('#toComments').removeClass('limit-columns');
              $('#toComments').addClass('limit-container');
              $('.container-collections').css('margin-top', '0');
              $('.container-actions').insertAfter('.container-collections');
              $('.main-info').insertAfter('.container-actions');
              $('.obj-container').prepend($('.object-alert'));
              // $('.main-info').css('margin-top', '20px');
              // $('#container-users-likes').addClass('cont-obj-info');
              // $('#container-users-likes').css('margin-top', '20px !important');
              $('#toComments').addClass('cont-obj-info');
              $('.related-info').insertBefore('#container-comments');
              $('.main-adv-right').insertBefore('#toComments');
          }else{
              $('#toComments').addClass('limit-columns');
              $('#toComments').removeClass('limit-container');
              $('.container-r').prepend($('.main-info'));
              $('.container-r').prepend($('.object-alert'));
              $('.container-r').append($('.main-adv-right'));
              $('.container-r').append($('.related-info'));
              $('.main-info').css('margin-top', '0');
              $('#container-users-likes').removeClass('cont-obj-info');
              $('#toComments').removeClass('cont-obj-info');
              $('.container-actions-container').prepend($('.container-actions'));
              // $('.container-actions').insertAfter('.container-collections');
              // $('#sharediv').insertAfter('.container-actions');
              $('.container-collections').css('margin-top', '0');
          }

      };

      /* Remove styles in description */
      $('.text-auto-link').find('p').removeAttr('style');
      $('.text-auto-link').find('span').removeAttr('style');

      /* Apply height to image */
      makeItNice();
      $(window).resize(function () {
          if(!document.fullscreenElement){
            makeItNice();
          }
      });

      /* Switch between 3D - 2D view */
      $('.switch-3d').click(function(){
        toggleViewerFiles(0, true);
      });

      /* Switch between 360 - 2D view */
      $('.switch-360').click(function(){
        toggle360Files(0, true);
      });

      /* Toggle between 360 horizontal view  and vertical view */
      $('.switch-360-orientation').click(function(){
        toggle360View();
        loadBg360()
      });

      $(".viewer-360").mouseover(function() {
        if($('#viewer-image').is(':visible')){
          $("#viewer-image").mousemove(function(event) {
              var offset = $(this).offset();
              var x = event.pageX - offset.left;

              animate360(x);
          });
        }
      });

      $('.viewer-360').on('touchstart', function(event){
        if($('#viewer-image').is(':visible')){ 
          $('#viewer-image').on('touchmove', function(event) {
            var offset = $(this).offset();
            var x = event.originalEvent.touches[0].pageX - offset.left;


            animate360(x);
          });
        }
      });

      function animate360(x){
        var heightViewer = $('.viewer-360').height();
        var frameSize = heightViewer/16;

        if ( x > 0 && x < frameSize) {

          $('#viewer-image').css("background-position", heightViewer+"px " + "0px")

        } else if ( x > frameSize && x < frameSize*2) {

          $('#viewer-image').css("background-position", heightViewer*2+"px " + "0px")

        } else if ( x > frameSize*2 && x < frameSize*3) {

          $('#viewer-image').css("background-position", heightViewer*3+"px " + "0px")

        } else if ( x > frameSize*3 && x < frameSize*4) {

          $('#viewer-image').css("background-position", heightViewer*4+"px " + "0px")

        } else if ( x > frameSize*4 && x < frameSize*5) {

          $('#viewer-image').css("background-position", heightViewer*5+"px " + "0px")

        } else if ( x > frameSize*5 && x < frameSize*6) {

          $('#viewer-image').css("background-position", heightViewer*6+"px " + "0px")

        } else if ( x > frameSize*6 && x < frameSize*7) {

          $('#viewer-image').css("background-position", heightViewer*7+"px " + "0px")

        } else if ( x > frameSize*7 && x < frameSize*8) {

          $('#viewer-image').css("background-position", heightViewer*8+"px " + "0px")

        } else if ( x > frameSize*8 && x < frameSize*9) {

          $('#viewer-image').css("background-position", heightViewer*9+"px " + "0px")

        } else if ( x > frameSize*9 && x < frameSize*10) {

          $('#viewer-image').css("background-position", heightViewer*10+"px " + "0px")

        } else if ( x > frameSize*10 && x < frameSize*11) {

          $('#viewer-image').css("background-position", heightViewer*11+"px " + "0px")

        } else if ( x > frameSize*11 && x < frameSize*12) {

          $('#viewer-image').css("background-position", heightViewer*12+"px " + "0px")

        } else if ( x > frameSize*12 && x < frameSize*13) {

          $('#viewer-image').css("background-position", heightViewer*13+"px " + "0px")

        } else if ( x > frameSize*13 && x < frameSize*14) {

          $('#viewer-image').css("background-position", heightViewer*14+"px " + "0px")

        } else if ( x > frameSize*14 && x < frameSize*15) {

          $('#viewer-image').css("background-position", heightViewer*15+"px " + "0px")

        } else if ( x > frameSize*15 && x < frameSize*16) {

          $('#viewer-image').css("background-position", heightViewer*16+"px " + "0px")

        }
      }

      function loadBg360(){
        $("#loader-threesixty").show();
        var src = $("#viewer-image").css('background-image');
        var url = src.match(/\((.*?)\)/)[1].replace(/('|")/g,'');
        $("#viewer-image").hide();

        var img = new Image();
        img.onload = function() {
            $("#loader-threesixty").hide();
            $("#viewer-image").show();
        }
        img.src = url;
        if (img.complete) img.onload();
      }

      
              loadRecomendedObjects(1);
      
      $('.title-open').click(function(){
            $(this).next('div').slideToggle();
            if($(this).hasClass('opened')) {
                $(this).removeClass('opened');
            } else {
                $(this).addClass('opened');
                if($(this).hasClass('title-description') && $('div.text-auto-link').hasClass('short-text')){
                    $('div.text-auto-link').toggleClass("short-text full-text", 400).promise().done(function(){
                        $('.object-description .btnMore').hide();
                        $('.object-description .btnLess').show();
                    });
                }
                if($(this).hasClass('title-description-store') && $('div.text-auto-link').hasClass('short-text')){
                    $('div.text-auto-link').toggleClass("short-text full-text", 400).promise().done(function(){
                        $('.object-description-store .btnMore').hide();
                        $('.object-description-store .btnLess').show();
                    });
                }
            }
      });

      
      $('#btn-share').on('click', function(e){
        $('#share-modal').foundation('reveal', 'open');
        $('.fi-share').hasClass('color-mmfgreen2') ? $('.fi-share').removeClass('color-mmfgreen2') : $('.fi-share').addClass('color-mmfgreen2');
      });

      $('#generate-viewer').on('click', function(e){
        if(isEmpty($('.viewer-p2slice'))){
          var url = "/gcode/generateviewer/141401";
          $.ajax({
            url: url,
            success: function(data){
              $('.viewer-p2slice').html(data);
              $("#loading-viewer-p2").hide();
            },
            error: function(){
              console.log("Error");
            }
          });
        }
      });

      $("#add-object-to-collection").prop('disabled', true);

      $("#addToCollection").keyup(function(){
        $("#add-object-to-collection").prop('disabled', false);
      });

      var col_exists = [];
                    
      $("#collection_bundle_add_to_collection").change(function(e) {
                $('#add-object-to-collection').hide();
        var $option = $('option:selected', this);
        if ($("#collection_bundle_add_to_collection").val() == "create_new" ) {
          $("#add-object-to-collection").prop('disabled', true);
          $('#createCollectionModal').foundation('reveal','open','/collection/create-collection-in-object/141401');
        }else if ($("#collection_bundle_add_to_collection").val() == ""){
          $("#add-object-to-collection").prop('disabled', true);
          $('#add-object-to-collection').hide();
        }else if (col_exists.indexOf($("#collection_bundle_add_to_collection").val()) >= 0 || $option.hasClass('added')) {
          $("#add-object-to-collection").prop('disabled', false);
          $('#add-object-to-collection').addClass('added');
          $('#add-object-to-collection').show();
          $("#add-object-to-collection").attr('value', "Remove");
          var path = "/collection/delete-collection-object/141401/XXXXXXXX";
          path = path.replace('XXXXXXXX', $("#collection_bundle_add_to_collection").val());
          $("#addToCollection").attr("action", path);
        }else if (col_exists.indexOf($("#collection_bundle_add_to_collection").val()) >= 0 || $option.hasClass('removed')) {
          $("#add-object-to-collection").prop('disabled', false);
          $('#add-object-to-collection').removeClass('added');
          $('#add-object-to-collection').show();
          $("#add-object-to-collection").attr('value', "Add");
          var path = "/collection/submit-to-collection/141401";
          $("#addToCollection").attr("action", path);
        }else {
          $("#add-object-to-collection").prop('disabled', false);
          $('#add-object-to-collection').removeClass('added');
          $('#add-object-to-collection').show();
          $("#add-object-to-collection").attr('value', "Add");
          var path = "/collection/submit-to-collection/141401";
          $("#addToCollection").attr("action", path);
        }
      });

      $(document).on('close.fndtn.reveal', '#createCollectionModal', function () {
          $("#collection_bundle_add_to_collection").val(null);
      });

      // Collections that contain this object
      $("#modal-collections-object").click(function() {
        if($('.container-objs-collection').html().trim() == ""){
                      var url = '/api/v2/collections/799928';
            $.ajax({
              url: url,
              dataType: 'json',
              data: {per_page:7},
              success: function(data){
                var username = data.owner.username;
                var name = data.owner.name;
                var path = "/users/XXXXXXXX-799928";
                path = path.replace('XXXXXXXX-799928', username);

                if (data.owner.avatar_url == null){
                  var image = "https://static.myminifactory.com/images/profile-default.jpg?v108";
                }else{
                  var image = data.owner.avatar_url;
                }

                var listObjects = "";
                $.each( data['objects']['items'], function( key, value ) {
                  var primaryImage = null;
                  var urlObject = value['url'];
                  for(var i=0;i<value['images'].length;i++){
                    if(value['images'][i]['is_primary'] == true){
                      primaryImage = value['images'][i]['thumbnail']['url'];
                    }
                  }
                  if(primaryImage == null){
                    primaryImage = value['images'][0]['thumbnail']['url'];
                  }
                  listObjects += '<li>'+
                    '<a href='+urlObject+'>'+
                      '<img width="130" src='+primaryImage+'>'+
                    '</a>'+
                  '</li>';
                });

                if(data.objects.total_count > 7){
                  listObjects += '<li>'+
                    '<a href='+data.url+' title="Discover all objects in '+data.name+' collection">'+
                      '<img class="img-show-more-collection" src="https://static.myminifactory.com/images/show-object/show-more.jpg?v108"/>'+
                      '<span class="show-more-collection">See more</span>'+
                    '</a>'+
                  '</li>';
                }

                var colName = data.name;
                if(data.name.length > 20)
                  colName = $.trim(data.name).substring(0, 20).split(" ").slice(0, -1).join(" ") + "...";

                var txtCount = "object";
                if(data.objects.total_count > 1){
                  txtCount = "objects";
                }


                var singleCollection = '<div class="small-12 columns no-padding row-modal-collection">'+
                  '<div class="medium-12 large-4 columns no-padding" style="display: flex;align-items: center;">'+
    								'<div class="img-user-print">'+
    									'<a href="'+path+'" class="profileimg profileimg-collection" style="background:url('+image+'); background-size: cover;"></a>'+
    								'</div>'+
    								'<div class="name-user-print">'+
    									'<a href="'+path+'" title="'+name+'s Profile" class="txt-user"> <span>'+name+',<br> @'+username+'</span></a><br>'+
                      '<a href='+data.url+' title="'+data.name+' Collection"><span>'+colName+'</span><span> | '+data.objects.total_count+' '+txtCount+ '</span></a>'+
    								'</div>'+
                  '</div>'+
                  '<div class="medium-12 large-8 columns no-padding">'+
    								'<div class="prints-user-print">'+
    									'<ul class="list-objs-collection">'+
                        listObjects+
    									'</ul>'+
    								'</div>'+
                  '</div>'+
  							'</div>';
                if(data.is_public == true){
                  $('.container-objs-collection').append(singleCollection);
                  $('.list-objs-collection').not('.slick-initialized').slick({
            				dots: false,
            				infinite: true,
            				speed: 400,
            				slidesToShow: 9,
            				slidesToScroll: 5,
            				swipeToSlide: true,
            		 });
                }
                                  $('#objs-collection-loader').hide();
                              },
              error: function(){
                console.log("Error");
              }
            });
      		        }
        $('#objectsInCollectionsModal').foundation('reveal','open');
      });

      // Small Pictures Gallery Click
      $('.smimg-gallery').on('click', function(e) {
        if($('#label-switch-3d').html() == '<i class="fa fa-picture-o" aria-hidden="true"></i>') {
          $('.viewer-3d').html("");
          $('#obj-files').slideUp();
          $('#label-switch-3d').html('3D');
          $('#obj-no-picture').show();
          $('.slide-prdimg-gallery').show();
          $("#loader-threesixty").css('display', 'none');
        } else if($('#label-switch-360').html() == '<i class="fa fa-picture-o" aria-hidden="true"></i>'){
          $('.viewer-360').html("");
          $('#obj-files-360').slideUp();
          $('#label-switch-360').html('360°');
          $('#obj-no-picture').show();
          $('.slide-prdimg-gallery').show();
          $('.switch-360-orientation').hide();
          $("#loader-threesixty").css('display', 'none');
        }
        $('.small-gallery .slick-list').blur();
        $('.slide-prdimg-gallery').slick('slickGoTo', $(this).data('slick-index'));
      });

      // Open gallery community prints
      $('.print-thumbnails').on('click', function(e) {
        state.focus = false;
        $('.modal-print-list-ul .slick-slide.slick-active.slick-center').css('width', '100%');
        var gallery = $(this).data('gallery');
        $('.desc-modal[data-gallery="'+gallery+'"]').show();
        var slickIndex = $(this).parent().data('slick-index');
        
        $('#printModal').foundation('reveal','open');
      });

      $(document).on('close.fndtn.reveal', '#printModal', function () {
          $('.desc-modal').hide();
          state.focus = true;
      });

      // Open pop up add community print
      $("#upload_object_prints, .upload_object_prints").click(function () {
          $("#upload_object_prints, .upload_object_prints").fancybox({
              'type': 'iframe',
              'speedIn': 400,
              'speedOut': 200,
              'autoSize': false,
              'width': '600',
              'height': '540',
              'afterClose': function() {
                  if($('#submit-prints-success').length > 0){
                    location.reload();
                  }
              },
              helpers: {
    				    overlay: {
    				      locked: false
    				    }
    				  }
          });
      });

      // Social Networks
      $('#socialshare').share({
                    networks: ['facebook', 'reddit', 'pinterest', 'googleplus', 'twitter', 'linkedin', 'tumblr', 'stumbleupon'],
                    theme: 'icon'
      });

          // Save for later
      $(".btn-save-for-later").click(function () {
        if(state.saved){
          window.dispatchEvent(new CustomEvent("save-for-later-update", {detail: {"isObjectSavedForLater": 0}}));
        }else{
           window.dispatchEvent(new CustomEvent("save-for-later-update", {detail: {"isObjectSavedForLater": 1}}));
        }
        var url = '/collection/submit-save-later/141401';
        $.ajax({
          url: url,
          dataType: 'json',
          success: function(data){
            if (data.deleted){
              state.saved = false;
            }else if(data.added){
              state.saved = true;
            }
          },
          error: function(){
            console.log("Error saving for later");
            if(state.saved){
               window.dispatchEvent(new CustomEvent("save-for-later-update", {detail: {"isObjectSavedForLater": 1}}));
            }else{
               window.dispatchEvent(new CustomEvent("save-for-later-update", {detail: {"isObjectSavedForLater": 0}}));
            }
          }
        });
      });

      window.addEventListener("save-for-later-update", function(event) {
        if(event.detail.isObjectSavedForLater === 0){
          $('.btn-save-for-later span').text('Save for later');
          $('.btn-save-for-later').attr("title", "Save for later");
          $('.btn-save-for-later i').removeClass('color-mmfgreen');
        }else{
          $('.btn-save-for-later span').text('Saved');
          $('.btn-save-for-later').attr("title", "Saved");
          $('.btn-save-for-later i').addClass('color-mmfgreen');
       }
      });

      // Follow / Unfollow user
      var requestFollow = false;
      $(".btn-follow").on('click', function (e) {
        e.preventDefault();
        if (requestFollow) {
          return;
        }
        var noCommas = $("#noFollowers").text();
        noCommas = noCommas.replace(',', '');
        var noFollowers = parseInt(noCommas);
        if(state.following || $('.btn-follow').hasClass('following')){
          noFollowers--;
          state.following = false;
          $('.btn-follow').removeClass('following');
          $('#ico-follow').removeClass('color-mmfgreen');
          $('#ico-follow').removeClass('fa-check');
          $('#ico-follow').addClass('fa-user-plus');
        }else{
          noFollowers++;
          state.following = true;
          $('.btn-follow').addClass('following');
          $('#ico-follow').addClass('color-mmfgreen');
          $('#ico-follow').addClass('fa-check');
          $('#ico-follow').removeClass('fa-user-plus');
        }

        $("#noFollowers").text(addCommas(noFollowers));
        var url = '/users/CastnPlay/request-follow';
        requestFollow = true;
        $.ajax({
          url: url,
          dataType: 'json',
          data: {
              foreign_entity_id: '141401',
              foreign_entity_type: 'object'
          },
          success: function(data){
            if (data.follow){
              state.following = true;
              $('.btn-follow').attr('title', 'Click to unfollow');
            }else if(data.unfollow){
              $('.btn-follow').attr('title', 'Click to follow');
              state.following = false;
            }
          },
          error: function(){
            console.log("Error following user");
          },
          complete: function() {
            requestFollow = false;
          }
        });
      });

      // Like / Dislike main object
      var requestLike = false;
      $("#like-button").click(function (e) {
        e.preventDefault();
        if (requestLike) {
          return;
        }
        var noLikes = parseInt($("#numberoflikes").text());
        if(state.liked == 1){
          noLikes--;
          $('#like-button i').removeClass('red-heart');
          $('#like-button').removeClass('btn-activated');
        }else{
          noLikes++;
          $('#like-button i').addClass('red-heart');
          $('#like-button').addClass('btn-activated');
        }
        $("#numberoflikes").text(noLikes);
        var url = '/user_likes/request-like/141401';
        requestLike = true;
        $.ajax({
          url: url,
          dataType: 'json',
          success: function(data){
            if (data.like){
              state.liked = 1;
            }else if(data.dislike){
              state.liked = 0;
            }
          },
          error: function(){
            if(state.liked == 1){
              noLikes++;
              $('#numberoflikes').prev().addClass('red-heart');
            }else{
              noLikes--;
              $('#numberoflikes').prev().removeClass('red-heart');
            }
            $("#numberoflikes").text(noLikes);
          },
          complete: function() {
            requestLike = false;
          }
        });
      });
     // User login

    $('.slide-prdimg-gallery').on('beforeChange', function(e, slick, currentSlide, nextSlide){
      if(nextSlide == 0){
        $('.slide-prdimg-gallery .slick-cloned:nth-child(2)').find('img').attr('src', $('.slide-prdimg-gallery .slick-cloned:nth-child(2)').find('img').attr('src').replace('/70X70-', '/720X720-'))
        var image = new Image();
        image.src = $('.slide-prdimg-gallery .slick-cloned:nth-child(2)').find('img').attr('src');
        image.onload = function() {
          if(this.height < 720 && this.height != 0){
            var $nextImg = $('.slide-prdimg-gallery .slick-cloned:nth-child(2)').find('img');
            $nextImg.css('height', this.height);
            $nextImg.css('margin-top', (720 - this.height) / 2);
          }
        };
        $('.slide-prdimg-gallery .slick-cloned:nth-child(2)').find('img').css('filter', 'none');
        $('.slide-prdimg-gallery .slick-cloned:nth-child(2)').find('img').css('opacity', '0.4');
      }else{
        $(slick.$slides[currentSlide]).find('img').css('filter', 'none');
        $(slick.$slides[currentSlide]).find('img').css('opacity', '0.4');
        $(slick.$slides[nextSlide]).find('img').css('opacity', '1');
        $(slick.$slides[nextSlide]).find('img').attr('src', $(slick.$slides[nextSlide]).find('img').attr('src').replace('/70X70-', '/720X720-'));
        var image = new Image();
        image.src = $(slick.$slides[nextSlide]).find('img').attr('src');
        image.onload = function() {
          if(this.height < 720 && this.height != 0){
            var $nextImg = $(slick.$slides[nextSlide]).find("img");
            $nextImg.css('height', this.height);
            $nextImg.css('margin-top', (720 - this.height) / 2);
          }
        };
      }

      $(slick.$slides[currentSlide]).find('img').addClass('loaded');

    });

    $('.slide-prdimg-gallery.slick-slider').on('click', '.slick-slide', function (e) {
      e.stopPropagation();
      if($(this).hasClass('slick-active')){
        state.focus = false;
        $('.slide-prdimg-gallery .slick-list').blur();
        var bg = $(this).find('img').attr('src');
        if($(this).find('img').data('picked')){
          bg = bg.replace('/720X720-', '/');
        }else{
          bg = bg.replace('/720X720-', '/resize-');
        }
        var images = [];
        images.push({
          href: bg
        });

        $('.small-gallery div.slick-list div.slick-track li.slick-slide:not(.slick-cloned)').each(function(key, item){
            var url = $(item).css('background-image').slice(5, -2);
            if($(item).data('picked')){
              url = url.replace('/70X70-', '/');
            }else{
              url = url.replace('/70X70-', '/resize-');
            }
            if(url != bg){
              images.push({
                  href: url
              });
            }
        });
        $.fancybox.open(images);
      }else{
        var index = $(this).attr('data-slick-index');
        if ($('.slick-slider').slick('slickCurrentSlide') !== index) {
          $('.slick-slider').slick('slickGoTo', index);
        }
      }
    });

    $('.slide-gallery').slick({
     dots: false,
     infinite: true,
     speed: 400,
     slidesToShow: 5,
     slidesToScroll: 3,
     variableWidth: true,
     accessibility: false,
   });

   $('.slide-gallery-360').slick({
     dots: false,
     infinite: true,
     speed: 400,
     slidesToShow: 5,
     slidesToScroll: 3,
     variableWidth: true,
     accessibility: false,
   });


   $('.small-gallery').on('init', function(event, slick) {
    slick.refresh = slick.unfilterSlides;
    }).slick({
     dots: false,
     infinite: true,
     speed: 400,
     slidesToShow: 10,
     slidesToScroll: 5,
     variableWidth: true,
     adaptiveHeight: false,
     accessibility: false,
     reconstruct: false,
     responsive:
     [{
       breakpoint: 1340,
       settings: {
         slidesToShow: 9,
         slidesToScroll: 4,
         infinite: true,
         dots: false
       }
     },
     {
       breakpoint: 1227,
       settings: {
         slidesToShow: 8,
         slidesToScroll: 4,
         infinite: true,
         dots: false
       }
     },
     {
       breakpoint: 1100,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 7,
         slidesToScroll: 4
       }
     },
     {
       breakpoint: 1025,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 10,
         slidesToScroll: 5
       }
     },
     {
       breakpoint: 794,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 9,
         slidesToScroll: 5
       }
     },
     {
       breakpoint: 715,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 8,
         slidesToScroll: 4
       }
     },
     {
       breakpoint: 648,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 7,
         slidesToScroll: 3
       }
     },
     {
       breakpoint: 578,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 6,
         slidesToScroll: 3
       }
     },
     {
       breakpoint: 506,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 5,
         slidesToScroll: 3
       }
     },
     {
       breakpoint: 430,
       settings: {
         infinite: true,
         dots: false,
         slidesToShow: 4,
         slidesToScroll: 2
      }
     }]
  });

   // Community prints gallery
   
    // Click eye to see file in viewer-3d
    $('.view-file:not(.nonapp)').on('click', function(e){
      e.preventDefault();
      toggleViewerFiles($(this).data('index'), false);
      $('html,body').animate({
          scrollTop: 0
      }, 700);
    });

    $('.btn-to-comments').on('click', function(e){
      e.preventDefault();
      $('html,body').animate({
          scrollTop: $('#toComments').offset().top
      }, 700);
    });


    // Show more / less description
    $('.object-description a').on('click', function(e){
      e.preventDefault();
      $('.object-description .btnMore, .object-description .btnLess').toggle();
      $(this).parent().prev("div.text-auto-link").toggleClass("short-text full-text", 400);
    });

    $('.object-description-store a').on('click', function(e){
      e.preventDefault();
      $('.object-description-store .btnMore, .object-description-store .btnLess').toggle();
      $(this).parent().prev("div.text-auto-link").toggleClass("short-text full-text", 400);
    });

    $('.object-tags a').on('click', function(e){
      e.preventDefault();
      $('.object-tags .btnMore, .object-tags .btnLess').toggle();
      $(this).parent().prev("div.container-tags").toggleClass("short-text-tags full-text", 400);
    });

    /* Copy to clipboard */
    $('.copyBoard').on('click', function(e){
      var data = $(this).data('element');
      var $temp = $("<input>");
      $("body").append($temp);
      $temp.val($('#'+data).val()).select();
      document.execCommand("copy");
      $temp.remove();
      var $prevText = $('#'+data).val();
      $('#'+data).val("Copied!");
      setTimeout(function() { $('#'+data).val($prevText); }, 2000);
    });

    $('.shortcopyBoard').on('click', function(e){
      var data = $(this).data('element');
      var $temp = $("<input>");
      $("body").append($temp);
      $temp.val($('#'+data).val()).select();
      document.execCommand("copy");
      $temp.remove();
      var $prevText = $('#'+data).val();
      $('#'+data).val("Copied!");
      setTimeout(function() { $('#'+data).val($prevText); }, 2000);
    });

    $('.file-gallery').on('click', function(e){
      var filename = $(this).attr('title');
      changeViewer(filename);
    });

    $('.file-gallery-360').on('click', function(e){
      var filename = $(this).attr('title');
      change360File(filename);
      loadBg360()
    });

    $('input[type=radio][name=shells]').change(function() {
        $('label.label-shells').css('color', '#4d4d4d');
        var url = "/object/141401/clickandprint/update";
        var value = this.value;
        $.ajax({
          url: url,
          data: {value:value},
          success: function(data){
              if(data == 1){
                  $('label[for=shells-'+value+']').css('color', 'green');
                  if(value == 0){
                      $('#container-viewer').hide();
                  }else if(value == 1 && !state.missingFile && state.shells == "1"){
                      $('#container-viewer').show();
                  }else if(value == 2 && !state.missingFile){
                      $('#container-viewer').show();
                  }else{
                      $('#container-viewer').hide();
                  }
              }
          },
          error: function(){
            $(this).val(value);
            console.log("Error changing click and print condition");
          }
        });
    });

    $('#formnewcomment').focusin(function() {
       state.focus = false;
    });
    $('#formnewcomment').focusout(function() {
       state.focus = true;
    });

    $(document).on('click', '.shareFb3d', function(e) {
        e.preventDefault();
        var id = (new Date()).getTime();
        // window.open($(this).attr('href'),'fbShareWindow'+id, );
        return false;
    });

    $(document).on('click', '.share-3d-fb, #fb-sharemodal', function(e) {
        $('#modal-fb-share').removeClass('fb-visible');
        // prevent block https://stackoverflow.com/questions/2587677/avoid-browser-popup-blockers
        var fb_popup = window.open('', '', 'width=450, height=550, top=' + ($(window).height() / 2 - 275) + ', left=' + ($(window).width() / 2 - 225) + ', toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');
        if (window.focus()) {fb_popup.focus()};

        fb_popup.document.write('<div style="text-align: center;"><span id="fbShareText">Converting STL to GLB for Facebook...<span></div><div style="height:100%; width:100%; display: -webkit-flex;-webkit-flex-direction: row-reverse;display: flex;flex-direction: row; align-items:center; justify-content:center;"><img src=https://static.myminifactory.com/images/loader.gif?v108></div>');

        $('#modal-fb-share').foundation('reveal', 'close');
        $(this).children(":first").replaceWith('<i class="fa fa-spinner fa-pulse"></i>');
        var fileId = $(this).data('share');
        var url = "/derivativefile/prepare3dshare/fileId";
        url = url.replace("fileId", state.share3DFiles[0]);
        $.ajax({
          url: url,
          success: function(data){
              if(data == true) {
                  var id = state.share3DFiles[0];
                  var name = state.filesInfo[id].name;
                  var index = name.lastIndexOf('.');
                  name = name.substr(0, index)+'.glb';
                  var url = window.location.href + '?3dshare=1&fileName=' + name;
                  url = encodeURIComponent(url);
                  var fbLink = "http://www.facebook.com/share.php?u="+url;
                  fb_popup.location.href = fbLink;
                  setCookie("fb-3d-share", "true", 92);
              }
          },
          error: function(){
              fb_popup.document.getElementById("fbShareText").innerHTML = '<span style="font-family: sans-serif">Error, will close window in 3 seconds...</span>';
              setTimeout(function(){fb_popup.close()}, 3000);
          },
          complete: function(){
            $('a[data-share="'+fileId+'"]').children(":first").replaceWith('<i class="fa fa-facebook-f"></i>');
          }
        });
    });

    $('#noask-fb-share').on('click', function(e){
        setCookie("fb-3d-share", "true", 92);
        $('#modal-fb-share').foundation('reveal', 'close');
    });

    $('#remind-later-fb').on('click', function(e){
        $('#modal-fb-share').foundation('reveal', 'close');
    });

    loadChildrenObjects(state.remixChildrenPage);
    state.remixChildrenPage = state.remixChildrenPage + 1;

    loadParentsObjects(state.remixParentsPage);
    state.remixParentsPage = state.remixParentsPage + 1;

    
        $(document).on('click', '.btn-like', function () {
        if ($(this).hasClass('liked')){
            $(this).removeClass('liked');
            var url = '/api/v2/objects/XXXXXXXX/like';
            url = url.replace('XXXXXXXX', $(this).attr('objid'));
            $.ajax({
                url: url,
                dataType: 'json',
                type: 'DELETE',
                success: function(data){
                        if ($(this).hasClass('liked')){
                            $(this).removeClass('liked');
                        }
                },
                error: function(){
                        if (!$(this).hasClass('liked')){
                            $(this).addClass('liked');
                        }
                }
            });
        }else {
            $(this).addClass('liked');
            var url = '/api/v2/objects/XXXXXXXX/like';
            url = url.replace('XXXXXXXX', $(this).attr('objid'));
            $.ajax({
                url: url,
                dataType: 'json',
                type: 'POST',
                success: function(data){
                        if (!$(this).hasClass('liked')){
                            $(this).addClass('liked');
                        }
                },
                error: function(){
                        if ($(this).hasClass('liked')){
                            $(this).removeClass('liked');
                        }
                }
            });
        }
    });

    $(document).on('click', '.btn-save-later', function () {
        if ($(this).hasClass('saved')){
            $(this).removeClass('saved');
            var url = '/api/v2/objects/XXXXXXXX/save';
            url = url.replace('XXXXXXXX', $(this).attr('objid'));
            $.ajax({
                url: url,
                dataType: 'json',
                type: 'DELETE',
                success: function(data){
                    if ($(this).hasClass('saved')){
                        $(this).removeClass('saved');
                    }
                    $(this).attr("title", "Save for later");
                },
                error: function(){
                    if (!$(this).hasClass('saved')){
                        $(this).addClass('saved');
                    }
                }
            });
        }else{
            $(this).addClass('saved');
            var url = '/api/v2/objects/XXXXXXXX/save';
            url = url.replace('XXXXXXXX', $(this).attr('objid'));
            $.ajax({
                url: url,
                dataType: 'json',
                type: 'POST',
                success: function(data){
                    if (!$(this).hasClass('saved')){
                        $(this).addClass('saved');
                    }
                    $(this).attr("title", "Saved");
                },
                error: function(){
                    if ($(this).hasClass('saved')){
                        $(this).removeClass('saved');
                    }
                }
            });
        }
    });
    
    $(document).on('click', '#more-objects-related', function () {
        $('#more-objects-related').hide();
        $('#more-objects-related-loader').show();
        loadRecomendedObjects(state.page);
        state.page = state.page + 1;
    });

    // Trigger download if there's #download in the adddress (Redirected from Register)
    if(window.location.hash && window.location.hash == '#download') {
      window.location.href = "https://www.myminifactory.com/download/141401";
      window.location.hash = '';
    }

  }); // document ready


  

  function loadChildrenObjects(page) {
      var url = "/api/v2/objects/141401/remix_children?page=XXXXXXXX";
      url = url.replace('XXXXXXXX', page);
      $.ajax({
          url: url
      }).done(function(data){
          var childObjects = data['items'];

          //If there are some children objects to display
          if(childObjects.length > 0){
              // var idsLiked = dataExport["idsLiked"];
              // var objectsSaved = dataExport["objectsSaved"];
              var limit = data['total_count'];

              if (limit>1 && page == 1)
                  $('#remixes-count').append( " • " + limit+ " Objects");
              else if (limit == 1 && page == 1)
                  $('#remixes-count').append( " • 1 Object");

              for(var i = 0; i < childObjects.length; i++){
                  var object = childObjects[i];
                  state.remixChildrenCount = state.remixChildrenCount + 1;

                  var urlPath = object.url;

                  var userPath = "/users/XXXXXXXX";
                  userPath = userPath.replace('XXXXXXXX', object.designer.username);

                  var primaryImage = null;
                  if (object.images.length > 0) {
                      for(var j=0; j<object.images.length; j++) {
                          if (object.images[j].is_primary === true){
                              primaryImage = object.images[j].thumbnail.url;
                          }
                      }
                  } else {
                      primaryImage = "https://static.myminifactory.com/images/objnoimg.gif?v108";
                  }


                  var likeTitle, likeClass = "" ;
                  if (object.is_liked){
                      likeTitle = "Liked";
                      likeClass = "liked";
                  }
                  else{
                      likeTitle = "Like";
                  }

                  var saveTitle, saveClass = "";
                  if (object.is_saved){
                      saveTitle = "Save for later";
                      saveClass = "saved";
                  }
                  else{
                      saveTitle = "Save for later";
                  }

                  var loginTest = ""+"objid='"+object.id+"'"+"";

                  $('#more-remixes-loader').hide();
                  $('#more-objects-related-remix').show();
                  $('#remix-objects').append(
                      "<div class='small-12 columns margin-tb-10 single-related' data-url='" + urlPath + "' data-id='"+object.id+"' style='margin-bottom: 12px; '>"
                      +"<div class='small-4 columns img-related' style=''>"
                      +"<img src='"+primaryImage+"' alt='"+object.name+"' title='"+object.name+"' style='max-width: 100%'>"
                      +"<div class='content-over thumbnail'>"
                      +"<a title='"+ object.name+"' href='"+urlPath+"' target='_blank' style='width: 100%; height: 100%;'></a>"
                      +"<div class='row icons-container'>"
                      +"<div class='small-6 columns div-like' style='text-align: center;'>"
                      // +"<input type='button' title='\{\% if object.is_liked \%\}\{\{ 'pages.category.clickliked'|trans }}\{\% else %}\{\{ 'pages.category.clicklike'|trans }}\{\% endif %}\{\% if not is_granted('ROLE_USER') %}data-reveal-id='loginscreen'\{\% else %}objid='"+object.id+"'\{\% endif %}class='btn-over btn-like \{\% if object.is_liked %}liked\{\% endif %}'>"
                      +"<input type='button' title='"+likeTitle+"' "+loginTest+" class='btn-over btn-like "+likeClass+"'>"
                      +"</div>"
                      +"<div class='small-6 columns'style='text-align: center;'>"
                      +"<input type='button' title='"+saveTitle+"' "+loginTest+" class='btn-over btn-save-later "+saveClass+"'>"
                      +"</div>"
                      +"</div>"
                      +"</div>"
                      +"</div>"
                      +"<div class='small-8 columns' style='font-size: 90%'>"
                      +"<a title='"+ object.name +"' href='"+ urlPath +"' target='_blank'>"
                      +"<p class='txt-obj-small'>"+object.name+"</p>"
                      +"</a>"
                      +"<p class='txt-obj-small txt-obj-grey'  >by <a class='under user-card' data-username='"+object.designer.username+"' href='"+ userPath +"' target='_blank' title='"+ object.designer.name +"'s Profile'>"+ object.designer.name +"</a></p>"
                      +"<i class='fi-eye large txt-obj-grey'></i> <span class='txt-obj-grey'>"+ object.views +" Views</span>"
                      +"</div>"
                      +"</div>"
                      +"</div>"
                  );
              }

              if (state.remixChildrenCount < limit){
                  $('.container-more-objs-remixes').show();
                  $('#more-objects-related-remix').unbind('click');
                  $('#more-objects-related-remix').click(function () {
                      $(".btn-like").unbind('click');
                      $(".btn-save-for-later").unbind('click');
                      $('#more-remixes-loader').show();
                      $('#more-objects-related-remix').hide();

                      loadChildrenObjects(state.remixChildrenPage);
                      state.remixChildrenPage = state.remixChildrenPage + 1;
                  });
              }
              else {
                  $('.container-more-objs-remixes').hide();
              }

              loadLikesSaveButtons();
          }
          else if (childObjects.length === 0 && page === 1) {
              $('#more-remixes-loader').hide();
              noChildrenInfo = "Be the first to share a Remix of this object!";

              $('#remix-objects').append(
                  "<p style='font-size: 90%; text-align: center'>"
                  +"<span class='txt-obj-grey txt-obj-medium'>"+noChildrenInfo+"</span>"
                  +"</p>"
              );
          }
      })
  }

    function loadParentsObjects(page) {
        var url = "/api/v2/objects/141401/remix_parents?page=XXXXXXXX";
        url = url.replace('XXXXXXXX', page);
        $.ajax({
            url: url
        }).done(function(data){
            var parentObjects = data['items'];

            //If there are some children objects to display
            if(parentObjects.length > 0){
                // var idsLiked = dataExport["idsLiked"];
                // var objectsSaved = dataExport["objectsSaved"];
                var limit = data['total_count'];

                for(var i = 0; i < parentObjects.length; i++){
                    var object = parentObjects[i];
                    state.remixParentsCount = state.remixParentsCount + 1;

                                                            var urlPath = object.url;

                    var userPath = "/users/XXXXXXXX";
                    userPath = userPath.replace('XXXXXXXX', object.designer.username);

                    var primaryImage = null;
                    if (object.images.length > 0) {
                        for(var j=0; j<object.images.length; j++) {
                            if (object.images[j].is_primary === true){
                                primaryImage = object.images[j].thumbnail.url;
                            }
                        }
                    } else {
                        primaryImage = "https://static.myminifactory.com/images/objnoimg.gif?v108";
                    }


                    var likeTitle, likeClass = "" ;
                    if (object.is_liked){
                        likeTitle = "Liked";
                        likeClass = "liked";
                    }
                    else{
                        likeTitle = "Like";
                    }

                    var saveTitle, saveClass = "";
                    if (object.is_saved){
                        saveTitle = "Save for later";
                        saveClass = "saved";
                    }
                    else{
                        saveTitle = "Save for later";
                    }

                    var loginTest = ""+"objid='"+object.id+"'"+"";

                    $('#more-parents-loader').hide();
                    $('#more-parents-related').show();
                    $('#remix-parents').append(
                        "<div class='small-12 columns margin-tb-10 single-related' data-url='" + urlPath + "' data-id='"+object.id+"' style='margin-bottom: 12px; '>"
                        +"<div class='small-4 columns img-related' >"
                        +"<img src='"+primaryImage+"' alt='"+object.name+"' title='"+object.name+"' style='max-width: 100%'>"
                        +"<div class='content-over thumbnail'>"
                        +"<a title='"+ object.name+"' href='"+urlPath+"' target='_blank' style='width: 100%; height: 100%;'></a>"
                        +"<div class='row icons-container'>"
                        +"<div class='small-6 columns div-like' style='text-align: center;'>"
                        // +"<input type='button' title='\{\% if object.is_liked \%\}\{\{ 'pages.category.clickliked'|trans }}\{\% else %}\{\{ 'pages.category.clicklike'|trans }}\{\% endif %}\{\% if not is_granted('ROLE_USER') %}data-reveal-id='loginscreen'\{\% else %}objid='"+object.id+"'\{\% endif %}class='btn-over btn-like \{\% if object.is_liked %}liked\{\% endif %}'>"
                        +"<input type='button' title='"+likeTitle+"' "+loginTest+" class='btn-over btn-like "+likeClass+"'>"
                        +"</div>"
                        +"<div class='small-6 columns'style='text-align: center;'>"
                        +"<input type='button' title='"+saveTitle+"' "+loginTest+" class='btn-over btn-save-later "+saveClass+"'>"
                        +"</div>"
                        +"</div>"
                        +"</div>"
                        +"</div>"
                        +"<div class='small-8 columns' style='font-size: 90%'>"
                        +"<a title='"+ object.name +"' href='"+ urlPath +"' target='_blank'>"
                        +"<p class='txt-obj-small'>"+object.name+"</p>"
                        +"</a>"
                        +"<p class='txt-obj-small txt-obj-grey'  >by <a class='under user-card' data-username='"+object.designer.username+"' href='"+ userPath +"' target='_blank' title='"+ object.designer.name +"'s Profile'>"+ object.designer.name +"</a></p>"
                        +"<i class='fi-eye large txt-obj-grey'></i> <span class='txt-obj-grey'>"+ object.views +" Views</span>"
                        +"</div>"
                        +"</div>"
                        +"</div>"
                    );
                }

                if (state.remixParentsCount < limit){
                    $('.container-more-objs-parents').show();
                    $('#more-parents-related').unbind('click');
                    $('#more-parents-related').click(function () {
                        $(".btn-like").unbind('click');
                        $(".btn-save-for-later").unbind('click');
                        $('#more-parents-loader').show();
                        $('#more-parents-related').hide();

                        loadParentsObjects(state.remixParentsPage);
                        state.remixParentsPage = state.remixParentsPage + 1;
                    });
                }
                else {
                    $('.container-more-objs-parents').hide();
                }

                loadLikesSaveButtons();
            }
            else if (parentObjects.length === 0 && page === 1) { //Never happens
                $('#more-parents-loader').hide();
                noChildrenInfo = "No object to show.";

                $('#remix-parents').append(
                    "<p style='font-size: 90%; text-align: center'>"
                    +"<span class='txt-obj-grey txt-obj-medium'>"+noChildrenInfo+"</span>"
                    +"</p>"
                );
            }
        })
    }

  function loadLikesSaveButtons() {
        $('.btn-like').unbind('click');
        $('.btn-save-later').unbind('click');

        // Like / Dislike parent object
        $(".btn-like").click(function () {
            if ($(this).hasClass('liked')){
                $(this).removeClass('liked');
                var url = '/api/v2/objects/XXXXXXXX/like';
                url = url.replace('XXXXXXXX', $(this).attr('objid'));
                $.ajax({
                    url: url,
                    dataType: 'json',
                    type: 'DELETE',
                    success: function(data){
                            if ($(this).hasClass('liked')){
                                $(this).removeClass('liked');
                            }
                    },
                    error: function(){
                            if (!$(this).hasClass('liked')){
                                $(this).addClass('liked');
                            }
                    }
                });
            }else {
                $(this).addClass('liked');
                var url = '/api/v2/objects/XXXXXXXX/like';
                url = url.replace('XXXXXXXX', $(this).attr('objid'));
                $.ajax({
                    url: url,
                    dataType: 'json',
                    type: 'POST',
                    success: function(data){
                            if (!$(this).hasClass('liked')){
                                $(this).addClass('liked');
                            }
                    },
                    error: function(){
                            if ($(this).hasClass('liked')){
                                $(this).removeClass('liked');
                            }
                    }
                });
            }
        });

      // Save for later
      $(".btn-save-later").click(function () {
          if ($(this).hasClass('saved')){
              $(this).removeClass('saved');
              var url = '/api/v2/objects/XXXXXXXX/save';
              url = url.replace('XXXXXXXX', $(this).attr('objid'));
              $.ajax({
                  url: url,
                  dataType: 'json',
                  type: 'DELETE',
                  success: function(data){
                        if ($(this).hasClass('saved')){
                            $(this).removeClass('saved');
                        }
                        $(this).attr("title", "Save for later");
                  },
                  error: function(){
                      if (!$(this).hasClass('saved')){
                          $(this).addClass('saved');
                      }
                  }
              });
          }else{
              $(this).addClass('saved');
              var url = '/api/v2/objects/XXXXXXXX/save';
              url = url.replace('XXXXXXXX', $(this).attr('objid'));
              $.ajax({
                  url: url,
                  dataType: 'json',
                  type: 'POST',
                  success: function(data){
                        if (!$(this).hasClass('saved')){
                            $(this).addClass('saved');
                        }
                        $(this).attr("title", "Saved");
                  },
                  error: function(){
                      if ($(this).hasClass('saved')){
                          $(this).removeClass('saved');
                      }
                  }
              });
          }
      });
  }

  function changeViewer(filename){
    $('.viewer-3d').html("<div id='loading-viewer' style='background-image: url(\"https://static.myminifactory.com/images/loader.gif?v108\");display:none;'></div>");
    $("#loading-viewer").show();
    var path = "/object/viewer/5fac3d1e23eda/filename?embedded=0";
    path = path.replace("filename", filename);
    $('.viewer-3d').append("<iframe id='viewer-iframe' onload='iframeViewerLoading()' src='"+path+"' style='width:100%;height:100%;' allowfullscreen='true' webkitallowfullscreen='true' mozallowfullscreen='true' oallowfullscreen='true' msallowfullscreen='true' ></iframe>");
  }

  function change360File(filename){
    $('.viewer-360').html("<div id=\"viewer-image\" class=\"viewer-image\" style=\"background-image: url('https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/renders/"+filename+"');\"></div>");
    var heightViewer = $('.viewer-360').height();
    $('#viewer-image').css("background-size", 16*heightViewer+"px " + heightViewer + "px");
    $('#viewer-image').css("background-position", heightViewer+"px " + "0px");
    $("#switch-360-orientation-checkbox").prop('checked', true);
    toggle360View();
  }

  function iframeViewerLoading() {
    $("#loading-viewer").hide();
    $("#loading-viewer-p2").hide();
  }

  function toggleViewerFiles(index, swi) {
    if($('#label-switch-3d').html() == '3D') {
      if($('#label-switch-360').html('<i class="fa fa-picture-o" aria-hidden="true"></i>')){
        $('#label-switch-360').html('360°');
      };
      $('.switch-3d').css('left', '30px');
      $('.switch-360').css('left', '90px');
      $('.viewer-360').hide();
      $('.viewer-3d').show();
      $("#obj-files").show();
      $("#obj-files-360").hide();
      $("#loader-threesixty").css('display', 'none');
      state.focus = false;
      $('.slide-prdimg-gallery .slick-list').blur();
      $('#obj-files').slideDown();
      $('#label-switch-3d').html('<i class="fa fa-picture-o" aria-hidden="true"></i>');
      $('#obj-files').find('[data-slick-index='+index+'] div').click();
      $('.slide-prdimg-gallery').hide();
      $('#obj-no-picture').hide();
      if($("#obj-files li").length == 1){
        $("#obj-files").hide();
      }
      $('.report-image').hide();
      $('.switch-360-orientation').css('display', 'none');
    } else {
      $("#loader-threesixty").css('display', 'none');
      $('.switch-3d').css('left', '30px');
      $('.switch-360').css('left', '90px');
      state.focus = true;
      $('.slide-prdimg-gallery .slick-list').focus();
      $('.slide-prdimg-gallery .slick-list').show();
      if(swi == true){
        $('.viewer-3d').html("");
        $('#obj-files').slideUp();
        $('#label-switch-3d').html('3D');
        $('#obj-no-picture').show();
        $('.slide-prdimg-gallery').show();
        $('.report-image').show();
        $('.viewer-3d').hide();
        $('.switch-360-orientation').css('display', 'none');
      }else{
        $('#obj-files').find('[data-slick-index='+index+'] div').click();
      }
    }
  }

  function toggle360Files(index, swi) {
    if($('#label-switch-360').html() == '360°') {
      if($('#label-switch-3d').html('<i class="fa fa-picture-o" aria-hidden="true"></i>')){
        $('#label-switch-3d').html('3D');
      };
      $("#loader-threesixty").hide();
      if($('#viewer-image').is(':visible')){
        var heightViewer = $('.viewer-360').height();
        $('#viewer-image').css("background-size", 16*heightViewer+"px " + heightViewer + "px")
        $('#viewer-image').css("background-position", "0px 0px")
      }
      if($('.switch-3d').is(':visible') && $('.switch-360').is(':visible')){
        $('.switch-360').css('left', '30px');
        $('.switch-3d').css('left', '90px');
      };
      $('.viewer-360').show();
      $('.viewer-3d').hide();
      $("#obj-files-360").show();
      $("#obj-files").hide();
      state.focus = false;
      $('.slide-prdimg-gallery .slick-list').blur();
      $('#obj-files-360').slideDown();
      $('#label-switch-360').html('<i class="fa fa-picture-o" aria-hidden="true"></i>');
      $('#obj-files-360').find('[data-slick-index='+index+'] div').click();
      $('.slide-prdimg-gallery').hide();
      $('#obj-no-picture').hide();
      if($("#obj-files-360 li").length == 1){
        $("#obj-files-360").hide();
      }
      $('.switch-360-orientation').css('display', 'inline-flex');
      $('.report-image').hide();
      $("#switch-360-orientation-checkbox").prop('checked', true);
      toggle360View();
    } else {
      $("#loader-threesixty").css('display', 'none');
      if($('.switch-3d').is(':visible') && $('.switch-360').is(':visible')){
        $('.switch-3d').css('left', '30px');
        $('.switch-360').css('left', '90px');
      };
      state.focus = true;
      $('.slide-prdimg-gallery .slick-list').focus();
      $('.slide-prdimg-gallery .slick-list').show();
      if(swi == true){
        $('.viewer-360').html("");
        $('#obj-files-360').slideUp();
        $('#label-switch-360').html('360°');
        $('#obj-no-picture').show();
        $('.slide-prdimg-gallery').show();
        $('.switch-360-orientation').css('display', 'none');
        $('.report-image').show();
        $('.viewer-360').hide();
      }else{
        $('#obj-files-360').find('[data-slick-index='+index+'] div').click();
      }
    }
  }

  function toggle360View(){
    if($("#switch-360-orientation-checkbox").prop('checked') == false) {
      $("#switch-360-orientation-checkbox").prop('checked', true);
      var bgUrl = $('#viewer-image').css('background-image');
      var newUrl = bgUrl.replace('_w_','_h_');
      $('#viewer-image').css('background-image', newUrl);
    } else {
      $("#switch-360-orientation-checkbox").prop('checked', false);
      var bgUrl = $('#viewer-image').css('background-image');
      var newUrl = bgUrl.replace('_h_','_w_');
      $('#viewer-image').css('background-image', newUrl);
    }
  }

    function loadRecomendedObjects(page){
        var ids = [];
        $('.single-related').each(function() {
            ids.push($(this).data('id'));
        });

        var url = "/object/141401/related";
        var store = "1";
        var data = {page:page};

        if(ids.length){
        ids = ids.join(',');
        data['ids'] = ids;
        }

        if(store){
        data['store'] = store;
        }

        $.ajax({
        url: url,
        data: data,
        }).done(function(data){
            var prevLength = $('#recomended-objects').children('.single-related').length;
            var currentLength = $(data).filter('.single-related').length;
            $('#recomended-objects').append(data);
            $('#objs-related-loader').hide();
            $('#more-objects-related-loader').hide();
            $('#more-objects-related').show();
            $('.container-more-objs').show();

                            if(currentLength > 1){
                    insertAdvertisementRight(prevLength, currentLength);
                }
                    });
    }

    function insertAdvertisementRight(prevLength, currentLength){
      for(var i = 0; i < currentLength; i++){
        if(i % 5 === 2){
          var advRelated = '<div class="adv-related margin-tb-10">'+
                          '<ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-dx+96-3b-bp+xm" data-ad-client="ca-pub-4138683835438948" data-ad-slot="5990097747"></ins>'+
                          '</div>';
          $(advRelated).insertAfter($('#recomended-objects').children().eq(prevLength + i));
          (adsbygoogle = window.adsbygoogle || []).push({});
        }
      }
    }

    function loadPrintCommentsSectionAPI(foreignId, parentId = null){
        var printPath = "/prints/XXXXXXXX";
        printPath = printPath.replace('XXXXXXXX', foreignId);
        $('#print-page-button').attr('href', printPath );

        loadPrintLikeButton(foreignId);
        // $('#print-comments-section').empty();
        const selector = "#print-comments-section[data-print-id='" + foreignId + "']";
        var url = "/api/v2/print/YYYYYYYY/comments";
        url = url.replace('YYYYYYYY', foreignId);

        if (isEmpty($(selector))) {
            var me = $(this);
            if ( me.data('requestRunning') ) {
                return;
            }

            me.data('requestRunning', true);

            $.ajax({
                url: url,
                success: function (data) {
                    const selectorList = "#comment_list[data-print-id='" + foreignId + "']";
                    const selectorLoader = "#comments-loader[data-print-id='" + foreignId + "']";
                    const selectorMoreComments = "#more-comments[data-print-id='" + foreignId + "']";

                    $(selectorLoader).hide();
                    $(selectorMoreComments).remove();

                    $(selector).append(
                        '<div class="row" id="comment_row" data-print-id="' + foreignId + '"><div class="small-12 columns" id="comment_list" data-print-id="' + foreignId + '" style="padding-right: 0"></div></div>' +
                        '<input type="hidden" id="type" value="Prints"/>' +
                        '<input type="hidden" id="printEntityid" value="' + foreignId + '"/>'
                    );
                    loadPrintCommentField(foreignId, parentId); //Load the comment field
                    loadPrintCommentFieldEvent(foreignId, parentId); //Link the Submit button to its action

                    if (data['total_count'] > 0) {
                        if (data['items'].length > 0) {
                            const isAdmin = false;
                            $.each(data['items'], function (index, comment) {
                                if (comment.user.username === 'maxthompson1' || comment.status !== 2 || isAdmin) {
                                    if (!comment['parent_comment_id'] ) {
                                        $(selectorList).append(buildComment(comment, true));

                                        if (comment.is_print && comment['print_id'] != null ){  //Print comment section inside the Object comments
                                            $('#reply-'+comment.id).append(
                                                '<div class="row" id="comment-Prints-'+comment.print_id+'"></div>'
                                            );

                                            var printId = comment['print_id'];
                                            const printUrl = '/api/v2/print/XXXXXXXX/comments'.replace('XXXXXXXX', printId);
                                            getPrintComments(1, printUrl, printId);
                                        }
                                    }
                                    else {
                                        var selectorPrintModalSection  = selectorList + ' #reply-' + comment['parent_comment_id'];
                                        if($(selectorPrintModalSection).length == 0){
                                          selectorPrintModalSection  = selectorList;
                                        }
                                        $(selectorPrintModalSection).append(buildComment(comment, true));

                                        if (comment.is_print && comment['print_id'] != null ){  //Print comment section inside the Object comments
                                            $('#reply-'+comment.id).append(
                                                '<div class="row" id="comment-Prints-'+comment.print_id+'"></div>'
                                            );

                                            var printId = comment['print_id'];
                                            const printUrl = '/api/v2/print/XXXXXXXX/comments'.replace('XXXXXXXX', printId);
                                            getPrintComments(1, printUrl, printId);
                                        }
                                    }
                                }
                            });
                            if (data['items'].length != data['total_count']) {
                                shouldFetch = true;
                                $(selectorList).append(
                                    '<div class="container-loader" id="more-comments">' +
                                        '<div id="comments-loader" data-print-id="' + foreignId + '">Loading comments... ' +
                                                '<div class="working" id="more-objects-loader" style=" margin-top: 8px"></div>' +
                                        '</div>' +
                                    '</div>');
                            }
                        } else {
                            $(selectorMoreComments).remove();
                        }
                    }
                    else {

                        const commentList = $(selectorList);
                        commentList.html('Be the first to comment. <i class="fa fa-smile-o" aria-hidden="true"></i>');
                        commentList.css('text-align', 'center');
                        commentList.css('color', '#6b6b6b');
                    }

                    // Bind the Prints in Print replies to the opening modal action
                    //$('.commentprintimagelink').unbind('click');
                    $('.commentprintimagelink').on('click', function(e) {
                        if (this.getAttribute("data-gallery")!== null){
                            e.preventDefault();
                            state.focus = false;
                            $('.modal-print-list-ul .slick-slide.slick-active.slick-center').css('width', '100%');
                            $('.print-list-ul .slick-list').blur();
                            $('.slide-prdimg-gallery .slick-list').blur();
                            var gallery = $(this).data('gallery');
                            var parentComment = this.getAttribute("data-comment");
                            loadPrintCommentsSectionAPI(gallery, parentComment);
                            $('.desc-modal[data-gallery="'+gallery+'"]').show();

                            var imagesSelector = $('.slick-slide:not(".slick-cloned")').find('.print-thumbnails[data-gallery="'+gallery+'"]');
                            var slickIndex = $(imagesSelector).parent().data('slick-index');
                            var imageIndex = $(this).data('index');
                            if (typeof(imageIndex) !== 'undefined'){
                                $('.modal-print-list-ul').slick('slickGoTo', slickIndex + imageIndex ); //TODO: add this.index to slickIndex
                            } else {
                                $('.modal-print-list-ul').slick('slickGoTo', slickIndex ); //TODO: add this.index to slickIndex
                            }

                            if (imagesSelector.length > 1){
                                var $carousel = $('.modal-print-list-ul');
                                $(document).on('keydown', function(e) {
                                    if(e.keyCode == 37) {
                                        $carousel.slick('slickPrev');
                                    }
                                    if(e.keyCode == 39) {
                                        $carousel.slick('slickNext');
                                    }
                                });
                            }
                            else {
                                var gallery = $(this).data('gallery');
                                // loadPrintCommentsSectionAPI(gallery);
                            }

                            if (!$('#printModal').is(':visible')){
                                $('#printModal').foundation('reveal', 'open');
                            }
                        }
                    });

                    $(document).on('close.fndtn.reveal', '#printModal', function () {
                        $('.desc-modal').hide();
                        state.focus = true;
                    });
                },
                error: function () {
                    console.log("Error loading comment data from API");
                },
                complete: function(){
                    me.data('requestRunning', false);
                }
            });
        }
    }

  function loadPrintCommentField(foreignId, parentId = null){
      const selector ="#print-comments-section[data-print-id='"+foreignId+"']";
      var actionUrl = "/api/v2/comment";
              var userShow = "/users/maxthompson1";
        var userImg = "https://cdn.myminifactory.com/uploads/profile-thumbnails/6def27194753230cc5298b72ba544ad2cc378cc9.jpg";
      
      var profileDefault = "https://static.myminifactory.com/images/profile-default.jpg?v108";

      var commentList = $('#comment_list[data-print-id='+foreignId+']');

      $(selector).prepend(
          "" +"<form name='form' method='post' action='"+actionUrl+"' class='new-print-comment' data-print-id='"+foreignId+"' style=''>" + ""
          +"<div class='row' style='margin-top: 40px; margin-right: 0; margin-left: 0'>"
            +"<div class='small-2 medium-2 large-2 columns'>"
                +"<div class='avatar' style='width:42px;'>"
                + ""
                    +"<a href='"+userShow+"' class='commentuserimg' style='width:42px;' target='_blank'>"
                       +"<img src='"+userImg+"'/>"
                    +"</a>"
                +""
                +"</div>"
            +"</div>"
          +"<div class='small-7 medium-7 large-8 columns' style='padding-left: 0px'>"
          +"<textarea id='formnewcomment' data-print-id='"+foreignId+"' title='comment' name='comment' required='required' rows='4' style='float:left; width:100%; margin:auto; display:block; padding:10px 40px 10px 10px; resize:none; margin-bottom: 20px; height: 50px;'></textarea>"
      +""
      +"<div id='uploadattachment'></div>"
          +"</div>"
          +"<div class='small-3 medium-3 large-2 columns' style='padding: 0;'>"
            +"<button type='submit'  id='post-comment-submit' data-print-id='"+foreignId+"' name='submit' class='right radius mmfgreen expand' style='height:50px; font-size: 13px;'>Comment</button>"
          +"</div>"
          +"</div>"
          +"<div class='row' style='margin:0;'>"
          +"<div class='small-12 columns'>"
          +"<select id='attachments' data-print-id='"+foreignId+"' title='attachments' name='attachments[]' multiple style='display: none;'></select>"
          +"<ul id='attachments_ul' data-print-id='"+foreignId+"' class='small-block-grid-2 medium-block-grid-3 large-block-grid-4'></ul>"

          +"</div>"
          +"</div>"
          +"<div class='container-loader'>"
            +"<span id='post-comment-loader' data-print-id='"+foreignId+"' style='display: none'><div class='working' id='more-comments-loader' style=' margin-top: 8px'></div></span>"
          +"</div>"
          +"<input type='hidden' id='type' value='Prints'/>"
          +"<input type='hidden' id='printEntityid' value='"+foreignId+"'/>"

              +"</form>"
      );
  }

  function loadPrintCommentFieldEvent(foreignId, parentId = null){
    const selectorForm= ".new-print-comment[data-print-id='"+foreignId+"']";
    const selectorPostLoader = "#post-comment-loader[data-print-id='"+foreignId+"']";
      $(selectorForm).submit(function(e) {
          e.preventDefault();
          const selectorTextArea = "#formnewcomment[data-print-id='"+foreignId+"']";
          const content = $(selectorTextArea).val();
          if($.trim(content) === '')
              return;

          $('button').attr('disabled', 'disabled');
          $(selectorPostLoader).show();
          const attachments =[];
          $('[id="attachments"] option:selected').each(function(index, element) {
              element = $(element);
              attachments.push({
                  'upload_id': element.val(),
                  'filename': element.text()
              });
          });

          $.ajax({
              url: '/api/v2/comment',
              type: 'POST',
              data: {
                  comment: content,
                  attachments: attachments,
                  object_type: 'Prints',
                  object_id: foreignId,
                  parent_id: parentId,
                  is_print: false
              },
              success: function(comment) {
                  if(comment) {
                      var commentList = $('#comment_list[data-print-id='+foreignId+']');
                      const selectorCommentList = "#comment_list[data-print-id='"+foreignId+"']";
                      const selectorAttachmentsUl = "#attachments_ul[data-print-id='"+foreignId+"']";
                      const selectorAttachments = "#attachments[data-print-id='"+foreignId+"']";
                      const selectorFormNewComment = "#formnewcomment[data-print-id='"+foreignId+"']";

                      if ($(selectorCommentList).html() === 'Be the first to comment. <i class="fa fa-smile-o" aria-hidden="true"></i>') {
                          $(selectorCommentList).html('');
                          $(selectorCommentList).css('text-align', 'left');
                      }else if(commentList === 'undefined') {
                          $('#main[data-print-id='+foreignId+']').prepend(
                              '<div class="row"><div class="large-12 small-12 columns" id="comment_list"></div></div>' +
                              '<input type="hidden" id="type" value="' + comment['foreignEntityType'] + '"/>' +
                              '<input type="hidden" id="printEntityid" value="' + comment['foreignEntityId'] + '"/>'
                          );
                      }
                      $(selectorCommentList).prepend(buildComment(comment, true));
                      $(selectorAttachmentsUl).empty();
                      $(selectorAttachments).empty();
                      $(selectorFormNewComment).val('');
                      const commentsCounter = $('.noComments');
                      commentsCounter.text(parseInt(commentsCounter.first().text()) + 1);
                  }
              },
              error: function(){
                  console.log("Error posting comment");
              }
          }).always(function() {
              $('button').attr('disabled', false);
              $(selectorPostLoader).hide();
          });
      });
  }

  function loadPrintLikeButton(foreignId) {
      const selectorButton = "#like-button[data-gallery='"+foreignId+"']";

            var url = '/api/v2/prints/XXXXXXXX/is-liked';
        url = url.replace("XXXXXXXX", foreignId);

        if ($(selectorButton).hasClass('loaded')){
        }
        else {
            //AJAX getting the entity isLiked state & showing Like button
            $.ajax({
                url: url,
                type: 'GET',
                success: function(data){
                    $(selectorButton).show();
                    $(selectorButton).addClass('loaded');
                    if (data === '1' || data === true){
                        $(selectorButton +' #button-img').addClass('red-heart');
                    }
                },
                error: function(){
                    console.log("error getting isLiked");
                }
            });

            var requestLike = false;
            $(selectorButton).click(function (e) {
                e.preventDefault();

                if (requestLike){
                    return ;
                }

                var noLikes = parseInt($(selectorButton + ' #numberoflikes').text());

                if ($(selectorButton + ' #button-img').hasClass('red-heart')) { // if already liked
                    noLikes--;
                    $(selectorButton + ' #button-img').removeClass('red-heart');
                    $(selectorButton + ' #button-img').removeClass('btn-activated');
                    var urlAction = '/api/v2/prints/XXXXXXXX/like';
                    urlAction = urlAction.replace('XXXXXXXX', foreignId);
                    var method = 'DELETE';
                }
                else { // if not liked
                    noLikes++;
                    $(selectorButton + ' #button-img').addClass('red-heart');
                    $(selectorButton + ' #button-img').addClass('btn-activated');
                    var urlAction = '/api/v2/prints/XXXXXXXX/like';
                    urlAction = urlAction.replace('XXXXXXXX', foreignId);
                    var method = 'POST';
                }
                $(selectorButton + ' #numberoflikes').text(noLikes);


                requestLike = true;
                $.ajax({
                    url: urlAction,
                    dataType: 'json',
                    method: method,
                    success: function(data) {
                    },
                    error: function() {
                        if ($(selectorButton + ' #button-img').hasClass('red-heart')){
                            noLikes--;
                            $(selectorButton + ' #button-img').removeClass('red-heart');
                        } else {
                            $(selectorButton + ' #button-img').addClass('red-heart');
                            noLikes++;
                        }
                        $(selectorButton + ' #numberoflikes').text(noLikes);
                    },
                    complete: function() {
                        requestLike = false;
                    }
                });
            });
        }

        }

  function isEmpty( el ){
      return !$.trim(el.html())
  }

  function addCommas(nStr)
  {
    nStr += '';
    x = nStr.split('.');
    x1 = x[0];
    x2 = x.length > 1 ? '.' + x[1] : '';
    var rgx = /(\d+)(\d{3})/;
    while (rgx.test(x1)) {
      x1 = x1.replace(rgx, '$1' + ',' + '$2');
    }
    return x1 + x2;
  }

  function isMobileDevice() {
    return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
  };

  function setPdfContent(isMobile){
        $('.doc-attach').removeClass('hide');
  }

    function checkP2Slice(){
        var url = "/derivativefile/checkp2slice/141401";
        $.ajax({
          url: url,
          success: function(data){
                                      },
          error: function(){
            console.log("Error checking p2slice");
          }
        });
    }

    function checkFileseNoSplit(files){
        checkCookieModal();
        for (var fileId in files) {
            if(files[fileId].noSplits === 1 && files[fileId].noP2slice === 1){
                state.share3DFiles.push(parseInt(fileId));
                $('<a class="share-3d-fb right share-3d-fb-inline" data-share="'+fileId+'" title="Share 3D Post on Facebook" style="display: inline-block;"><i class="fa fa-facebook-f"></i></a>').insertAfter('button[data-file="'+fileId+'"]');
                $('#socialshare').prepend('<div style="width: 40px; height: 40px"><a title="Share 3D Post on Facebook" class="share-3d-fb pop share-icon share-icon-facebook" style="display: inline-block;"></a><span class="fb3dlabel">3D</span><span class="fb3dnew">NEW!</span></div>');
            }
        }
    }

    function checkCookieModal() {
        var hidden = getCookie("fb-3d-share");
        if (hidden == "true") {
            $('#modal-fb-share').removeClass('fb-visible');
        }
    }

    function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + "; " + expires;
    }

    function getCookie(cname) {
        var name = cname + "=";
        var ca   = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var  c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if ( c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

</script>
    <style>
/* Small only */
@media screen and (max-width: 39.9375em) {
  .report-image{
    background: white;
    height: 30px;
    width: 30px;
    border-radius: 50%;
    position: absolute;
    bottom: 10px;
    right: calc(100%/9);
    text-align: center;
    color: #6d6c6c;
    z-index: 20;
    box-shadow: 0 2px 4px #3F4F56;
    -webkit-transition: none;
    -moz-transition: none;
    transition: none;
  }
}
/* Medium and to large */
@media screen and (min-width: 40em) and (max-width: 53em) {
  .report-image{
    background: white;
    height: 30px;
    width: 30px;
    border-radius: 50%;
    position: absolute;
    bottom: 10px;
    right: calc(100%/9);
    text-align: center;
    color: #6d6c6c;
    z-index: 20;
    box-shadow: 0 2px 4px #3F4F56;
    -webkit-transition: none;
    -moz-transition: none;
    transition: none;
  }
}
/* Large and xlarge */
@media screen and (min-width: 53em) and (max-width: 63.9375em) {
  .report-image{
    background: white;
    height: 30px;
    width: 30px;
    border-radius: 50%;
    position: absolute;
    bottom: 10px;
    right: calc(100%/7);
    text-align: center;
    color: #6d6c6c;
    z-index: 20;
    box-shadow: 0 2px 4px #3F4F56;
    -webkit-transition: none;
    -moz-transition: none;
    transition: none;
  }
}
/* xlarge and up */
@media screen and (min-width: 64em) {
  .report-image{
    background: white;
    height: 30px;
    width: 30px;
    border-radius: 50%;
    position: absolute;
    bottom: 10px;
    right: calc(100%/10);
    text-align: center;
    color: #6d6c6c;
    z-index: 20;
    box-shadow: 0 2px 4px #3F4F56;
    -webkit-transition: none;
    -moz-transition: none;
    transition: none;
  }
}
</style>

<script>
let reasons = null;
let report_form = "#report-form";
let report_result = ".report_result";

var showMessage = (text,status) => {
    return '<div data-alert class="alert-box '+status+'">'+
    '<strong>'+text+'</strong></div>';
}

$(document).on('keypress',report_form, (e) => {
    if(e.which == 13) {
      dynamicReport($(report_form));
    }
});

$(document).on("change","#report_email",function() {
  if($( this ).is(':checked'))
    $(".email_area").show();  // checked
  else
    $(".email_area").hide(); 
  })

$(document).on("click", "#reportModal .close-reveal-modal",function() {
    $(report_form).find(report_result).html("");
    $(report_form).find(".report_reason").val($(report_form).find(".report_reason option:first").val()); // empty reason
    $(report_form).find(".report_comment").val("");//empty comment area
    $(report_form).find(".email_area").hide();
    $(report_form).find("#report_email").prop('checked', false); 
    $(report_form).find(".email").val("");
    if($(report_form).find("#captchaAnswer").length==1){
      $(report_form).find("#captchaAnswer").val(""); // empty captcha answer
      $(report_form).find("#captcharefresh").click();
    }else{
      grecaptcha.reset();
    }
})

$(document).on("click",report_form + " .report_submit",() => {
  dynamicReport($(report_form));
})

function getReasons(entity_type,entity_id,callBack) {

  if(!reasons){
     let response  = $.get( "/report/get-reasons" );
     response.done( ( data ) => {
       reasons = data;
       callBack(entity_type,entity_id);
     });
  }else{
    callBack(entity_type,entity_id);
  }
}

function renderReport(entityType,entityId){
  if($(report_form).length==0){

      var url = "/report/show-report";
      var posting = $.post( url );
      var reasonEntity = reasons[entityType];

      posting.done( ( data ) => {
          var item = $(data).clone();
          $(item).find(".report_data").val(entityId);
          $(item).attr("data-rendered-entity",entityType);
          var options = reasonEntity.map((data)=>{
            return "<option value="+data.id+">"+data.reason+"</option>";
          })
          $(item).find(".report_reason").append(options);
          if($(report_form).length==1) $(report_form).remove();
          $("#reportModal").append(item);
      })
  }else{
      let temp_entity_type = $(report_form).attr("data-rendered-entity");
      if(temp_entity_type!=entityType || $(report_form).find(".report_data").val()!=entityId){
        var item = $(report_form);
        $(item).find(".report_data").val(entityId);
        $(item).attr("data-rendered-entity",entityType);
        var reasonEntity = reasons[entityType];
        var options = reasonEntity.map((data)=>{
          return "<option value="+data.id+">"+data.reason+"</option>";
        })
        $(report_form).find(".report_reason option:not(:eq(0))").remove();
        $(item).find(".report_reason").append(options);
        if($(report_form).length==1) $(report_form).remove();
        $("#reportModal").append(item);
      }
  }
}

$(document).on("click",".reportButton", function () {
  var entity_type = $(this).attr("data-entity");
  var entity_id = $(this).attr("data-id");

  if(!entity_id && entity_type=="Image"){
    entity_id = $(".slide-prdimg-gallery div.slick-active").find("img").attr("data-id");
  }else if(!entity_id && entity_type=="ThreedPrint"){
    entity_type="Image";
    if($(".modal-print-list-ul li").length==1){
      entity_id = $(".modal-print-list-ul li").find("img").attr("data-id");
    }else if($(".modal-print-list-ul li").length>1){
      entity_id = $(".modal-print-list-ul div .slick-active").find("img").attr("data-id");
    }
  }

  getReasons(entity_type,entity_id,renderReport);
})

function validateEmail(email) {
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
}

const dynamicReport = (form) => { //the form that is related the report is required

    const entity_type = $(form).attr("data-rendered-entity");
    const entity_id = $(form).find(".report_data").val();
    const reason_id = $(form).find(".report_reason").val();
    const description = $(form).find(".report_comment").val();
    const emailCheck = $(form).find("#report_email").is(':checked');
    const captchaExists = $(form).find("#captchaAnswer").length;
    let email = $(form).find(".email").val();
    let captcha= null;
    if(captchaExists!=1){
        const g_recaptcha_response = $(form).find("#g-recaptcha-response").val();
        captcha = {
            google_captcha : 1,
            g_recaptcha_response: g_recaptcha_response
        };
    }else{
        const captchaAnswer = $(form).find("#captchaAnswer").val();
        if(captchaAnswer==""){
            $(form).find(report_result).html(showMessage("Please enter a captcha","alert")).show();
            return;
        }
        captcha = {
            google_captcha : 0,
            captcha: captchaAnswer
        };
    }

    if(reason_id == null){
        $(form).find(report_result).html(showMessage("Please select a Reason","alert")).show();
        return;
    }

    if(entity_type == null){
        $(form).find(report_result).html(showMessage("Please select a Entity Type","alert")).show();
        return;
    }

    if(!emailCheck){
      email = null;
    }else{
      if(!validateEmail(email)){
        $(form).find(report_result).html(showMessage("Please type a valid E-mail address","alert")).show();
        return;
      }
    }

    const data = {
        description: description,
        entityType: entity_type,
        reason_id: reason_id,
        entity_id: entity_id,
        email: email
    };

    if(captcha != null){
      data['captcha'] = captcha;
    }

    //show loading before requesting post
    $(form).find( ".loading" ).html("<img src='https://static.myminifactory.com/images/loader.gif?v108' style='width: 22px;'/>");

    // Send the data using patch
    var url = "/api/v2/report";

    $.ajax({
        url: url,
        data: JSON.stringify(data),
        type: "PATCH",
        success: ({ code, message }) => {
        $(form).find(".loading").html("");
          if(code==200){
              $(form).find(report_result).html(showMessage(message,"success")).show();
              $(form).find(".report_reason").val($(form).find(".report_reason option:first").val()); // empty reason
              $(form).find(".report_comment").val("");//empty comment area
              $(form).find(".email").val("");
              if(captchaExists==1){
                  $(form).find("#captchaAnswer").val(""); // empty captcha answer
                  $(form).find("#captcharefresh").click();
              }
              if(captchaExists!=1){
                grecaptcha.reset();
              }
          } else {
              $(form).find(report_result).html(showMessage(message,"alert")).show();
          }
        },
        error: (error) => {
          $(form).find(".loading").html("");
          $(form).find(report_result).html(showMessage(error.error_description,"alert")).show();
        }
    });
}

</script>
    <script type="text/javascript">
    var cardState = {
        'recentContentFetching' : false,
        'fetchedUsers' : {},
        'fetchedRecentContent': {},
        'requestFollow' : false
    };

    $(function() {

        $('.user-card-container').tooltip({
            items: '.user-card',
            track: false,
            tooltipClass: 'tooltip-user-card',
            hide: { effect: "fadeOut", duration: 200 },
            content: function (callback, ui) {
                var username = $(this).data('username');
                fetchuserProfile(callback, username, this);
                // return "<div class='row'><div class='working' style='margin-top:5px; margin-bottom: 5px;'></div></div>";
            },
            open: function(event, ui)
            {
                if (typeof(event.originalEvent) === 'undefined')
                {
                    return false;
                }

                var $id = $(ui.tooltip).attr('id');

                // close any lingering tooltips
                $('div.ui-tooltip').not('#' + $id).remove();
            },
            close: function(event, ui)
            {
                ui.tooltip.hover(function()
                    {
                        $(this).stop(true).fadeTo(200, 1);
                    },
                    function()
                    {
                        $(this).fadeOut(200, function()
                        {
                            $(this).remove();
                        });
                    });
            }
        });
    });

    function fetchuserProfile(callback, username, element){
        if (username in cardState.fetchedUsers){
            setTimeout(function(){
                appendCardUserProfile(callback, username, element, cardState.fetchedUsers[username]);
            }, 400);
        } else {
            var url = "/users/user/XXXXXXXX/card";
            url = url.replace('XXXXXXXX', username);
            $.ajax({
                url: url,
                type: 'get',
                success: function(userArray){
                    cardState.fetchedUsers[username] = userArray;
                    appendCardUserProfile(callback, username, element, userArray);
                },
                error: function(){
                    console.log("error while fetching the suggestions from the API");
                }
            });
        }
    }

    function appendCardUserProfile(callback, username, element, userArray) {
        // Before appending the card, test that it is still under hover, and doesn't already exist
        if (!$(element).is(":hover") || $('.tooltip-user-card').length){
            return false;
        }

        fetchCardRecentContent(username, 1, 3);

        var objectTitle = "Objects";
        var printTitle = "Prints";
        var followerTitle = "Followers";


        var userShow = "/users/XXXXXXXX";
        userShow = userShow.replace('XXXXXXXX', encodeURI(userArray['username']));

        var userShowPrints = "/users/XXXXXXXX?show=prints";
        userShowPrints = userShowPrints.replace('XXXXXXXX', encodeURI(userArray['username']));

        var userShowFollowers = "/users/XXXXXXXX?show=followers";
        userShowFollowers = userShowFollowers.replace('XXXXXXXX', encodeURI(userArray['username']));

        var userImage = "";
        if (userArray['userimage'] === ""){
            userImage = "https://static.myminifactory.com/images/profile-default.jpg?v108";
        } else {
            userImage = "https://cdn.myminifactory.com/" + "/uploads/profile-images/" + userArray['image'];
        }

        var tinyUserName = "";
        if (userArray['name'].length > 25){
            tinyUserName = userArray['name'].substring(0, 25) + '...';
        } else {
            tinyUserName = userArray['name'];
        }

        var tinyUsername = "";
        if (userArray['username'].length > 10){
            tinyUsername = userArray['username'].substring(0, 10) + '...';
        } else {
            tinyUsername = userArray['username'];
        }

        var userCover = "";
        if (userArray['cover'] === null){
            userCover += "background: url('https://static.myminifactory.com/images/footer_lodyas.png?v108') center center #363636; ";
            userCover += "background-size: cover; ";
            userCover += "background-repeat: no-repeat; ";
        } else {
            userCover += "background: url('https://cdn.myminifactory.com//uploads/profile-cover/XXXXXXXX') no-repeat center center #363636; ";
            userCover += "background-size: cover; ";
            userCover += "background-repeat: no-repeat; ";
            userCover = userCover.replace('XXXXXXXX', userArray['cover']);
        }

        var followButtonClass = ""; var followButtonText =""; var followButtonTitle = "";
        var followButtonAction = " onclick=\"followUnfollowUserCard('"+username+"')\"";
        if (userArray['followed'] === true){
            followButtonClass = "following";
            followButtonText = "Following";
            followButtonTitle = "Click to unfollow";
        } else {
            followButtonText = "Follow";
            followButtonTitle = "Click to follow";
        }

        var result = "<div class=\"user-card-each\">" +
            "<div class=\"row card-banner\">"+
            "<div class=\"small-12 large-12 columns\" style=\"padding-right: 12px; padding-left: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; height: 85px;"+userCover+" \">"+
            "<a class=\"profileimg user-card card-profile-image\" data-username='"+userArray['username']+"' href="+userShow+" style=\"margin:0;width:80%; color:#333; border-radius:50%; background:url("+userImage+"); background-size:cover; width: 33%; display:block; margin-top: 10px; margin-bottom: 10px; border: solid 1px grey; margin: auto; margin-top: 15px; float: none !important;\">"+
            "</a>"+
            "</div>"+
            "<div class=\"small-12 large-12 columns\" style=\"margin-top: 30px; text-align: center;\">"+
            "<a class=\"under-hover profilename\" title='"+userArray['name']+"' href='"+userShow+"' data-username='"+userArray['username']+"'>"+
            userArray['name'] +
            "</a> | "+
            "<a class=\"under-hover profileusername\" title='"+userArray['username']+"' href='"+userShow+"' data-username='"+userArray['username']+"'>@"+
            userArray['username'] +
            "</a>"+
            "</div>"+
            "<div class=\"card-follow-section\">"+
            "<div class=\"small-12 large-12 columns\" style=\"margin-top: 5px;\">"+
            "<a class=\"btn-follow "+followButtonClass+"\" data-username='"+username+"' title='"+followButtonTitle+"' "+followButtonAction+" >"+
            "<span class=\"profile-line-button follow "+followButtonClass+"\" data-username='"+username+"' id=\"follow_user\" style=\"font-size: 85%; padding-top: 4px; padding-bottom: 4px;\">"+
            followButtonText +
            "</span>"+
            "</a>"+
            "</div>"+
            "</div>"+
            "<div class=\"row card-statistics-section\" style=\"margin-bottom:15px !important;\">"+
            "<a href='"+userShow+"'>"+
            "<div class=\"small-4 large-4 columns\" style=\"height: 50px;margin-top: 5px;padding-left: 30px;text-align: center;\">"+
            "<span class=\"card-category-title\">"+
            objectTitle +
            "</span><br/>"+
            "<span class=\"card-statistics-figures\">"+
            userArray['noThreedobjects'] +
            "</span>"+
            "</div>"+
            "</a>"+
            "<a href='"+userShowPrints+"'>"+
            "<div class=\"small-4 large-4 columns\" style=\"height: 50px;margin-top: 5px;text-align: center;\">"+
            "<span class=\"card-category-title\">"+
            printTitle +
            "</span><br/>"+
            "<span class=\"card-statistics-figures\">"+
            userArray['noPrints'] +
            "</span>"+
            "</div>"+
            "</a>"+
            "<a href='"+userShowFollowers+"'>"+
            "<div class=\"small-4 large-4 columns\" style=\"height: 50px;margin-top: 5px;padding-right: 30px;text-align: center;\">"+
            "<span class=\"card-category-title\">"+
            followerTitle +
            "</span><br/>"+
            "<span class=\"card-statistics-figures\">"+
            userArray['noFollowers'] +
            "</span>"+
            "</div>"+
            "</a>"+
            "</div>"+
            "</div>"+
            "<div class=\"row card-list-recent-content\" data-username=\""+userArray['username']+"\" >"+
            "<div class='working' id='card-recent-loader' data-username='"+userArray['username']+"' style='margin-top:45px; margin-bottom: 40px;'></div>"+
            "<div id=\"nothing-recent\" data-username='"+userArray['username']+"' style=\"text-align: center; color: grey; display: none; margin-top: 45px; margin-bottom: 40px;\">"+
            "<span>"+
            "No recent activity"+
            "</span>"+
            "</div>"+
            "</div>"+
            "</div>";

        callback(result);
    }

    function fetchCardRecentContent(username, page, perPage){
        if (username in cardState.fetchedRecentContent){
            appendRecentContent(username, cardState.fetchedRecentContent[username], true)
        } else {
            var url = "/users/user/XXXXXXXX/recent";
            url = url.replace('XXXXXXXX', username);
            $.ajax({
                url: url,
                type: 'get',
                data: {
                    page: page,
                    per_page: perPage,
                },
                success: function(feedArray){
                    cardState.fetchedRecentContent[username] = feedArray;
                    appendRecentContent(username, feedArray);
                },
                error: function(){
                    console.log("error while fetching card content from the API");
                }
            }).always(function(){
                // $('#card-recent-loader[data-username="'+username+'"]').hide();
            });
        }
    }

    function appendRecentContent(username, feedArray, inState) {
        if(inState == undefined){
            inState = false;
        }
        // Before appending, test that the card doesn't already contain recent activity
        if (!$('.card-list-recent-content[data-username="'+username+'"]').find('.card-result-each').length){
            var items = feedArray['items'];
            if (items.length > 0){
                for (var i = 0; i < items.length; i++){
                    appendCardRecentContentEach(username, items[i]);
                }
            } else {
                setTimeout(function(){
                    $('#card-recent-loader[data-username="'+username+'"]').hide();
                    $('#nothing-recent[data-username="'+username+'"]').show();
                }, 100);
            }
        }
    }

    function appendCardRecentContentEach(username, entity){
        var imagePath = "";
        if (entity.image_path === null) {
            imagePath = "https://static.myminifactory.com/images/objnoimg.gif?v108";
        } else {
            imagePath = entity['hostname'] + entity['asset_folder'] + entity['cdn_folder_name'] + '/images/230X230-' + entity['image_path'];
        }

        var entityShow = "";
        if (entity.type === 'threedobject'){
            entityShow = "/object/3d-print-XXXXXXXX";
            entityShow = entityShow.replace('XXXXXXXX', entity.id);
        } else if (entity.type === 'threedprint') {
            entityShow = "/prints/XXXXXXXX";
            entityShow = entityShow.replace('XXXXXXXX', entity.id);
        }

        setTimeout(function(){
            $('#card-recent-loader[data-username="'+username+'"]').hide();
            $('.card-list-recent-content[data-username="'+username+'"]').append(
                "<div class=\"card-result-each\">"+
                "<div class=\"thumbnail\" style=\"width: 100%; height: 90px; background:url("+imagePath+") no-repeat center center; background-size:cover; background-color: rgb(233, 233, 233);\">"+
                "<a title='"+entity['name']+"' href='"+entityShow+"' style=\"width: 100%; height: 100%;\">"+
                "</a>"+
                "</div>"+
                "</div>"
            );
        }, 100);
    }

    function followUnfollowUserCard(username){
        if (cardState.requestFollow) {
            return;
        }

        var followButtonText = "Follow";
                var followingButtonText = "Following";

        if($('.btn-follow[data-username="'+username+'"]').hasClass('following')){
            $('.btn-follow[data-username="'+username+'"]').removeClass('following');
            $('.profile-line-button[data-username="'+username+'"]').removeClass('following');
            $('.btn-follow[data-username="'+username+'"]').find('.profile-line-button[data-username="'+username+'"]').html(followButtonText);
            $('#ico-follow').removeClass('color-mmfgreen');
        }else{
            $('.btn-follow[data-username="'+username+'"]').addClass('following');
            $('.profile-line-button[data-username="'+username+'"]').addClass('following');
            $('.btn-follow[data-username="'+username+'"]').find('.profile-line-button[data-username="'+username+'"]').html(followingButtonText);
            $('#ico-follow').addClass('color-mmfgreen');
        }

        var url = '/users/XXXXXXXX/request-follow';
        url = url.replace('XXXXXXXX', username);
        cardState.requestFollow = true;
        $.ajax({
            url: url,
            dataType: 'json',
            data: {
                foreign_entity_type: 'user-card-object',
                foreign_entity_id: '141401',
            },
            success: function(data){
                if (data.follow){
                    $('.btn-follow').attr('title', "Click to unfollow");
                    cardState.fetchedUsers[username]['followed'] = true;
                }else if(data.unfollow){
                    $('.btn-follow').attr('title', "Click to follow");
                    cardState.fetchedUsers[username]['followed'] = false;
                }
            },
            error: function(){
                console.log("Error following user");
            },
            complete: function() {
                cardState.requestFollow = false;
            }
        });
    }

</script>    <style>
    /*.working {*/
        /*border: 2px solid #f3f3f3; !* Light grey *!*/
        /*border-top: 2px solid #61debe; !* Blue *!*/
        /*border-radius: 50%;*/
        /*width: 54px;*/
        /*height: 54px;*/
        /*animation: spin 1s linear infinite;*/
        /*margin: auto;*/
    /*}*/

    .working {
        border: 2px solid #f3f3f3; /* Light grey */
        border-top: 2px solid #61debe; /* Blue */
        border-radius: 50%;
        width: 27px;
        height: 27px;
        animation: spin 1s linear infinite;
        margin: auto;
    }

    .working-big {
        border: 3px solid #f3f3f3; /* Light grey */
        border-top: 3px solid #61debe; /* Blue */
        border-radius: 50%;
        width: 45px;
        height: 45px;
        animation: spin 1s linear infinite;
        margin: auto;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .feed-result-each {
        /*background: white;*/
        display: inline-block;
        overflow: hidden;
        height: 434px;
        width: 360px;
        padding: 0;
        border: 1px solid #c5bfbf;
        border-radius: 4px;
        margin: 10px 20px 10px 20px;
    }

    .feed-result-action {
        background: white;
        font-size: 13px;
    }

    .feed-suggestion-each {
        background: white;
        display: inline-block;
        overflow: hidden;
        height: 208px;
        width: 360px;
        padding: 0;
        border: 1px solid #c5bfbf;
        border-radius: 4px;
        margin: 15px 20px 15px 20px;
    }

    .feed-suggestion-banner {
        max-height: 60%;
    }

    .feed-action-banner {
        padding-top: 8px;
        padding-bottom: 8px;
    }
    
    .objectfeedname {
        color: black;
    }
    .objectfeedname:hover {
        text-decoration: underline;
        color: black;
    }

    .profilename {
        color: #6b6b6b !important;
    }

    .profilename:hover {
        text-decoration: underline;
    }

    .profileusername {
        color: #9b9b9b !important;
    }

    .profileusername:hover {
        text-decoration: underline;
    }
    
    .profile-line-button {
        background: inherit;
        color: #3fbc9b;
        border: 2px solid #3FBC9A;
        padding: 6px 20px 6px 20px;
        border-radius: 4px;
        transition: background 0.2s ease-in-out, border 0.2s ease-in-out;
    }

    .profile-line-button:hover {
        background: #3fbc9b;
        color: white;
    }

    .profile-line-button.following:not(.btn-user) {
        background: #3fbc9b;
        color: white;
    }

    .profile-line-button.following:hover {
        background: darkred;
        border: 2px solid darkred;
    }

    .suggestion-text {
        color: #6c6c6c9c;
        font-size: 70%;
        margin-bottom: 0;
    }

    .list-of-suggestions {
        max-width: 1600px;
        max-height: 268px;
        margin: auto;
        overflow: hidden;
    }

    .fake-list-of-objects {
        filter:alpha(opacity=60); /* IE */
        opacity: 0.5; /* Safari, Opera */
        -moz-opacity:0.60; /* FireFox */
    }

    .tooltip-user-card {
        background-color: rgba(255, 255, 255, 0.95);
        padding: 0;
        border-radius: 4px !important;
    }

    .card-profile-image {
        width: 70px !important;
        height: 70px !important;
        position: relative;
        top: 30px;
    }

    .card-category-title {
        font-weight: 600;
        font-size: 70%;
        color: #6b6b6b !important;;
    }

    .card-statistics-figures {
        font-size: 130%;
        font-weight: 400;
        color: #9b9b9ccf;
        transition: color 0.2s ease-in-out;
    }

    .card-statistics-figures:hover {
        color: #6c6c6c !important;
    }

    .card-list-recent-content {
        padding-left: 6px;
        padding-right: 6px;
    }

    .card-result-each {
        display: inline-block;
        margin-left: 3px;
        margin-right: 3px;
        width: 90px;
        height: 90px;
    }

    .card-follow-section {
        display: table;
        margin: auto;
    }

    .feed-result-each-store {
        border: 2px solid #3fbc9c;
        border-radius: 6px;
    }

    .post-container {
        display: flex;
        justify-content: center;
        flex-direction: column;
        background-color: white;
        padding: 5px 40px 30px;
        height: 358px;
        text-decoration: none !important;
        color: black !important;
    }

    .post-excerpt{
        overflow-y: hidden;
        text-overflow: ellipsis;
        text-align: left;
        font-size: small;
        position: relative;
    }

    .post-excerpt::after {
         content: "";
         position: absolute;
         bottom: 0;
         left: 0;
         height: 120px;
         width: 100%;
         background: linear-gradient(rgba(0, 0, 0, 0), #fff);
     }

    .post-cover + .post-excerpt {

    }

    .post-cover {
        max-height: 50%;
        object-fit: cover;
        margin-bottom: 10px;
    }


</style>	<script type="text/javascript">

    function addToBasket(id) {
        preHandleButtonBasket(id, true);
        var url = getAddItemUrl(id);
        $.ajax({
            url: url,
            success: function(response){
                handleSuccessAdd(response, id);
            },
            error: function(){
                handleErrorBasket(id, true);
            }
        });
    }

    function deleteForLater(id){
        preHandleButtonSaveForLater(id, false);
        var url = getSaveForLaterUrl(id, false);
        $.ajax({
            url: url,
            success: function(){
                $('#save'+id).attr("onclick","saveForLater("+id+")");
            },
            error: function(){
                handleErrorSaveForLater(id, true);
            }
        });
    }

    function saveForLater(id){
        preHandleButtonSaveForLater(id, true);
        var url = getSaveForLaterUrl(id, true);
        $.ajax({
            url: url,
            success: function(){
                $('#save'+id).attr("onclick","deleteForLater("+id+")");
            },
            error: function(){
                handleErrorSaveForLater(id, true);
            }
        });
    }

    function removeFromBasket(id) {
        preHandleButtonBasket(id, false);
        var url = getRemoveItemUrl(id);
        $.ajax({
            url: url,
            success: function(response){
                handleSuccessRemove(response, id);
            },
            error: function(){
                handleErrorBasket(id, false);        
            }
        });
    }

    function likeObject(id){
        preHandleButtonLike(id, true);
        var url = getLikeObjectUrl(id);
        $.ajax({
            url: url,
            success: function (data) {
                $("#like-object-"+id).attr("onclick","dislikeObject("+id+")");
                $('#icoHeart'+id).append('<i title="Liked" class="fa fa-heart" aria-hidden="true"></i>');
            },
            error: function () {
                handleErrorLikeObject(id, true);
            }
        });
    }

    function dislikeObject(id){
        preHandleButtonLike(id, false);
        var url = getDislikeObjectUrl(id);
        $.ajax({
            url: url,
            success: function (data) {
                $("#like-object-"+id).attr("onclick","likeObject("+id+")");
                $('#icoHeart'+id).empty();
            },
            error: function () {
                handleErrorLikeObject(id, false);
            }
        });
    }

    function handleSuccessAdd(response, id){
        if(response.added){
            $('.btn-basket-'+id).attr("onclick","removeFromBasket("+id+")");
            changeBasketAmountDial(response.t_items ? response.t_items : response.total_count);
                            $('.basket-checkout').hide();
                $('#btn-basket-checkout').empty();
                addItemToBasketIfNecessary(response.added);
                $('#btn-basket-checkout').append('<span class="list-i-basket-total">Total USD '+twoFixed(response.cart.total_price)+' Checkout</span>');          
                $('.basket-checkout').show();
                    }
    }

    function handleSuccessRemove(response, id){
        if(response.removed){
            $('.btn-basket-'+id).attr("onclick","addToBasket("+id+")");
            changeBasketAmountDial(response.t_items ? response.t_items : response.total_count);
                            $('.basket-checkout').hide();
                if(response.t_items == 0 || response.total_count == 0){
                    $('.li-basket').removeClass('has-dropdown');
                    $('.li-basket').removeClass('menu-basket-dropdown');
                }
                $('#list-i-basket-'+id).remove();
                $('#btn-basket-checkout').empty();
                $('#btn-basket-checkout').append('<span class="list-i-basket-total">Total USD '+twoFixed(response.cart.total_price)+' Checkout</span>');
                $('.basket-checkout').show();
                    }
    }

    function handleErrorBasket(id, isInsertion = true){
        if(isInsertion){
            $('.btn-basket-'+id).attr("title", "Add to basket");
            $('.btn-basket-'+id).removeClass('btn-rem-basket');
            $('.btn-basket-'+id).addClass('btn-add-basket');
        }else{
            $('.btn-basket-'+id).attr("title", "Remove from basket");
            $('.btn-basket-'+id).removeClass('btn-add-basket');
            $('.btn-basket-'+id).addClass('btn-rem-basket');
        }
    }

    function handleErrorLikeObject(id, isInsertion = true){
        if(isInsertion){
            $('#like-object-'+id).attr("title", "Like");
            $("#like-object-"+id).removeClass('btnDisLike');
            $("#like-object-"+id).removeClass('liked');
            $("#like-object-"+id).addClass('btnLike');
        }else{
            $('#like-object-'+id).attr("title", "Liked");
            $("#likes"+id).text(parseInt($("#likes"+id).text())+1);
            $("#like-object-"+id).addClass('btnDisLike');
            $("#like-object-"+id).addClass('liked');
            $("#like-object-"+id).removeClass('btnLike');
        }
    }

    function preHandleButtonBasket(id, isInsertion = true){
        $('.btn-basket-'+id).attr("onclick","");
        if(isInsertion){
            $('.btn-basket-'+id).attr("title", "Remove from basket");
            $('.btn-basket-'+id).addClass('btn-rem-basket');
            $('.btn-basket-'+id).removeClass('btn-add-basket');
        }else{
            $('.btn-basket-'+id).attr("title", "Add to basket");
            $('.btn-basket-'+id).addClass('btn-add-basket');
            $('.btn-basket-'+id).removeClass('btn-rem-basket');
        }  
    }

    function preHandleButtonLike(id, isInsertion = true){
        $("#like-object-"+id).attr("onclick","");
        if(isInsertion){
            $('#like-object-'+id).attr("title", "Liked");
            $("#like-object-"+id).addClass('btnDisLike');
            $("#like-object-"+id).addClass('liked');
            $("#like-object-"+id).removeClass('btnLike');
        }else{
            $('#like-object-'+id).attr("title", "Like");
            $("#like-object-"+id).removeClass('btnDisLike');
            $("#like-object-"+id).removeClass('liked');
            $("#like-object-"+id).addClass('btnLike');
        }  
    }

    function getSaveForLaterUrl(id, isInsertion = true){
        var url = '';
        if(isInsertion){
            url = '/collection/submit-to-save-for-later-collection/XXXXXXXX';
        }else{
            url = '/collection/delete-saved-for-later-object/XXXXXXXX';
        }
        url = url.replace('XXXXXXXX', id);
        return url;
    }

    function handleErrorSaveForLater(id, isInsertion = true){
        if(isInsertion){
            $(".error-container").css("display", "block");
            $(".error-text").text("Error saving in your collection");
            $('#save'+id).removeClass("saved");
            $('#save'+id).attr("title", "Save for later");
        }else{
            $(".error-container").css("display", "block");
            $(".error-text").text("Error deleting for your collection");
            $('#save'+id).addClass("saved");
            $('#save'+id).attr("title", "Saved");
        }  
    }

    function preHandleButtonSaveForLater(id, isInsertion = true){
        $('#save'+id).attr("onclick","");
        if(isInsertion){
            $('#save'+id).addClass("saved");
            $('#save'+id).attr("title", "Saved");
        }else{
            $('#save'+id).removeClass("saved");
            $('#save'+id).attr("title", "Save for later");
        }  
    }

    function twoFixed(number){
        return (Math.round((number * 1000) / 10)/100).toFixed(2)
    }

    function getAddItemUrl(id){
        var url = "/cart/add/object/XXXXXXXX";
        url = url.replace('XXXXXXXX', id);
        return url;
    }

    function getRemoveItemUrl(id){
        var url = "/cart/delete/object/XXXXXXXX";
        url = url.replace('XXXXXXXX', id);
        return url;
    }

    function getLikeObjectUrl(id){
        var url = "/user_likes/like-object/XXXXXXX";
        url = url.replace("XXXXXXX", id);
        return url;
    }

    function getDislikeObjectUrl(id){
        var url = "/user_likes/dislike-object/XXXXXXX";
        url = url.replace("XXXXXXX", id);
        return url;
    }

    $(document).on('click', '.btn-add-basket', function(){
      if (typeof ga === 'undefined') {
        return
      }
              ga('send', 'event', 'Store', 'click-add-to-basket-loggedin', $(this).data('id') + " - "+ $(this).data('name'));
          });

    $(document).on('click', '.btn-rem-basket', function(){
        if (typeof ga === 'undefined') {
          return
         }
                  ga('send', 'event', 'Store', 'click-remove-to-basket-loggedin', $(this).data('id') + " - "+ $(this).data('name'));
            });

</script>	<link rel="stylesheet" href="https://static.myminifactory.com/js/build/product.e4f1645a.css?v108">
	<link rel="stylesheet" href="https://static.myminifactory.com/js/build/registration.088e98af.css?v108">
	<link rel="stylesheet" href="https://static.myminifactory.com/js/build/add-to-collection-modal.efa13a6b.css?v108">

	<style>

		/* Elegoo Pop-up Styles */
		#elegoo-popup {
			padding: 0;
			width: 45%;
		}
		#elegoo-popup .popup-img {
			margin-bottom: -7px;
			width: 100%;
		}

		#elegoo-popup.popup-buttons {
			height: 55px;
			justify-content: space-between;
			background-color: white;
		}

		#elegoo-popup #popup-close-btn-with-message,
		#elegoo-popup .popup-order-now {
			margin-bottom: 0;
		}

		#popup-close-btn-with-message {
			background-color: unset;
			color: grey;
			text-decoration: underline;
		}
		#elegoo-popup .popup-order-now {
			position: absolute;
			color: white;
			font-size: 1.2rem;
			padding: 6px;
			margin: 7px;
			font-weight: 600;
			right: 10px;
			border-radius: 3px;
		}

		/* Share Modal Styles */
		#share-modal *{
			font-family: "Open Sans", sans-serif;
		}

		#share-modal > .close-x-button{
			font-size: 24px;
		}
		
		#share-modal h2{
			font-size: 16px;
			margin: 0 0 15px 0;
		}

		#share-modal h3{
			font-size: 14px;
			margin: 0 0 5px 0;
		}

		#share-modal hr{
			margin-bottom: 20px;
		}

		#share-modal a{
			font-size: 14px;
			font-weight: bold;
			border-radius: 0 3px 3px 0;
		}

		#share-modal .input-copy-div{
			display:flex;
		}

		#share-modal .input-copy-div > input{
			flex-grow: 1;
			flex-shrink: 1; 
		}

		#share-modal .input-copy-div > a{
			flex-grow: 0;
			flex-shrink: 0;
			height: 37px;
		}

	</style>
  <script charset="UTF-8" src="https://cdn.sendpulse.com/28edd3380a1c17cf65b137fe96516659/js/push/05d7ceb4c0889f275c4ed6f52ffc6643_1.js" async></script>
  <meta name="google-site-verification" content="htfO30k3xJWN8dwrGqMTCoHOrb9EOxXSNY5KYvyKGYc" />

  <!-- Matomo -->
  <script type="text/javascript">
    var _paq = window._paq || [];
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//stats.myminifactory.com/";
      var x="//static.myminifactory.com/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=x+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->

  <!-- Facebook Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window,document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '628921781365274'); 
    fbq('track', 'PageView');
  </script>
  <noscript>
    <img height="1" width="1" 
    src="https://www.facebook.com/tr?id=628921781365274&ev=PageView
    &noscript=1"/>
  </noscript>
  <!-- End Facebook Pixel Code -->

</head>
<body 	class="objectpage"
>
  <div id="loginscreen" style="min-width: 320px; max-width: 460px; border-radius: 5px;" class="reveal-modal tiny" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
    <h3 style="text-align: center; margin-left: 0 !important;">Log in to MyMiniFactory</h3><hr/>
        <form action="/login_check" method="post">
      <input type="hidden" name="_csrf_token" value="LsiihR-Vg82OuznMmjUakOVt4CMzg5TAFgISgwl6KLw">
      <div class="row collapse show">
        <div class="small-2 columns">
          <span class="prefix"><i class="fi-torso"></i></span>
        </div>
        <div class="small-10 columns">
          <input type="text" id="username" name="_username" placeholder="Username or Email address" value="" required="required" />
        </div>
      </div>
      <div class="row collapse show">
        <div class="small-2 columns">
          <span class="prefix"><i class="fi-lock"></i></span>
        </div>
        <div class="small-10 columns">
          <input type="password" id="password" name="_password" placeholder="Password" required="required" />
        </div>
          <a href="/resetting/request" style="font-size:12px; position: relative;top: -10px;" class="mmfgreyt">Forgot Password?</a>
         <div class="small-12 large-12 columns" style="text-align: right;padding:0!important;">
        </div>
      </div>
        <input type="hidden" checked="checked" id="remember_me" name="_remember_me" value="on" />

                  <input type="hidden" name="_target_path" value="https://www.myminifactory.com/object/3d-print-141401" />
            
      <input class="button mmfgreen radius expand" type="submit" id="_submit" name="_submit" value="Login" style="margin: 10px 0px 25px; color:white;" />
      <div style="display:block; text-align: center; margin: auto;">
        <div style="text-align: center; margin: auto;overflow: hidden;display: block;">
          <a href="/social/login-google" class="google_button" style="padding: 8px!important;">
            <span style="padding-right: 3px;"><img src="https://static.myminifactory.com/images/google-logo.png?v108" style="width: 21px;"></span>
            <span>Login with Google</span>
          </a>
          <a href="https://www.myminifactory.com/social/login-facebook" class="button radius" style="width: 100%;padding: 9px;background-color: #3b5998;margin-top: 8px;display: inline-block;float: left; color: white !important;">
            <span><i class="fi-social-facebook" style="font-size: 18px;"></i></span>
            <span>Login with Facebook</span>
          </a>
        </div>
      </div>
    </form>
    <hr/>
    <span style="font-size:15px; text-align: center;margin: auto;display: block; color:#a4a4a4;">Don't have an account? <a href="/register" style="font-weight: bold;border: solid 1px #dedede;border-radius: 5px;padding: 3px 10px 5px 8px;background: #eff9f7;color: #595959 !important;">Join now!</a></span>
    <a class="close-reveal-modal" aria-label="Close">&#215;</a>
  </div>




<div class="off-canvas-wrap" data-offcanvas>
  <div class="inner-wrap">
    <script type="text/javascript">
      $(document).ready(function(){
        if ((matchMedia(Foundation.media_queries.small).matches || matchMedia(Foundation.media_queries.medium).matches) && !matchMedia(Foundation.media_queries.large).matches) {
          $('.desktopbase').hide();
        } else {
          $('.mobilebase').hide();
        }
      });
    </script>

                    
        <style>
.contribute-section-header{
    font-size: 18px; 
    color: white; 
    margin-top: 20px; 
    margin-left: 10px; 
    margin-bottom: 5px;
}

.contribute-section-separator{
    border-color: #5f5f5f; 
    margin: 0 10px;
}

ul.off-canvas-list li a {
    border-bottom: none;
}

</style>

<div class="off-canvas-wrap" data-offcanvas>
    <div class="inner-wrap">
                    <div class="container-mobile-cookiebar" style="position: fixed; width: 100%; height: 47px;">
                                                
    
    

            </div>
        
        <nav class="tab-bar hide-for-large-up fixed mobilebase">
            <section class="left-small">
                <a class="left-off-canvas-toggle menu-icon" href="#"><span></span></a>
            </section>

            <section class="middle tab-bar-section">
                <a href="/"><img src="https://static.myminifactory.com/images/logo_white.png?v108" style="width:30%; min-width:200px;" /></a>
                <a href="#" data-reveal-id="loginscreen" class="mobilebase">&nbsp;</a>
            </section>
            <section class="right-small">
                                    <a class="right-off-canvas-toggle" href="#"><span style="border-radius: 50%;margin: 5px; display:block; width:35px; height:35px; background:url('https://cdn.myminifactory.com//uploads/profile-images/6def27194753230cc5298b72ba544ad2cc378cc9.jpg') center center; background-size: cover;"></span></a>
                            </section>
        </nav>

                    <div class="hide-for-large-up searchline1" style=" background: #5C5C5C; clear:both;">
                <div class="cleardiv" style="height: 0!important;"></div>
<form action="/search/" id="form_search_mobile">
    <div class="row collapse postfix-round search-container-mobile">
        <div class="search_field_mobile small-11 large-11 columns">
            <input class="radius ui-autocomplete-input input-search-mobile" type="text" name="query" id="mymini_userinterfacebundle_search_query_mobile" placeholder="Search for an object" autocomplete="off" style="background: transparent;border:none!important; margin:0!important; color: white !important;">
        </div>
        <div class="small-1 large-1 columns">
            <button type="submit" id="search_button_mobile" title="Search" class="button radius postfix" style="border:none!important; margin:0!important; font-size:21px; padding:0; background-color: #757575;"><i class="fi-magnifying-glass"></i></button>
        </div>
    </div>
</form>
<script type="text/javascript">
    var suggesterMobileURL = null;
    var queryMobile = $('input[name="query"].input-search-mobile').val();
    var total_objects_shown_mobile = 0;
    var suggester_mobile_page = 1;

    $(document).ready(function() {
        if($("#mymini_userinterfacebundle_search_query_mobile").length){
            $("#mymini_userinterfacebundle_search_query_mobile").autocomplete({
                source: function (request, response) {
                    suggesterMobileURL = "/search/search-suggester/XXXXXXXX";
                    suggesterMobileURL = suggesterMobileURL.replace('XXXXXXXX', request.term);
                    total_objects_shown_mobile = 0;
                    suggester_mobile_page = 1;

                    $.ajax({
                        url: suggesterMobileURL
                    }).done(function (data) {
                        var resultList = [];
                        var limit = data['total_count'];
                        for (var i = 0; i < data['items'].length; i++) {
                            resultList.push(
                                {
                                    obj_id: data['items'][i][0],
                                    label: data['items'][i][1], 
                                    obj_img: data['items'][i][2], 
                                    user_name: data['items'][i][3], 
                                    value: data['items'][i][4]  
                                }
                            );
                            total_objects_shown_mobile++;
                        }
                        if (resultList.length > 0){
                            $('.ui-widget-content.ui-autocomplete').css('height', ((total_objects_shown_mobile + 1) * 66) + 5);
                            response(resultList);
                            if (total_objects_shown_mobile < limit) {
                                $('#ui-id-1').append(
                                    '<li id="more-results-mobile-section" style="height:64px; padding:24px; padding-left:20px">'
                                        +'<a id="more-results" href="javascript:void(0)"><p style="font-family: inherit; text-align: center"><i class="fi-plus" style="font-size:24px; color: #3fbc9c"></i></p></a>'
                                    +'</li>'
                                );
                                $('#more-results').click(function() {
                                    $('#more-results-mobile-section').remove();
                                    $('#ui-id-1').append(
                                        '<li id="more-suggestions-mobile-loader" style="height:64px; padding:24px;">'
                                        +'<div class="working"></div>'
                                        +'</li>'
                                    );
                                    suggester_mobile_page++;
                                    moreSuggestedMobileResults(request.term);
                                });
                            }else{
                                $('.ui-widget-content.ui-autocomplete').css('height', total_objects_shown_mobile * 66);
                            }
                        }
                    });
                },
                focus: function (e, ui) {
                    if(ui.item !== undefined){
                        e.preventDefault();
                        var focused = $('*[data-object]');
                        focused.removeClass('ui-state-focus');
                        var testItem = $(ui.item)[0];
                        var focused = $('*[data-object="'+testItem.obj_id+'"]');
                        focused.addClass('ui-state-focus');
                        return false;
                    }
                },
                select: function (e, ui) {
                    if(ui.item !== undefined){
                        e.preventDefault();
                        var search_url = ui.item.value;
                        window.location = search_url;
                        return false;
                    }
                },
                minLength: 3
            }).data("uiAutocomplete")._renderItem = function( ul, item ) {
                var title = item.label;
                return $('<li class="suggested-object" style="height: 64px;" data-object='+item.obj_id+' title="'+title+'">')
                .data("ui-autocomplete-item", item)
                .append("<img class='img-auto img-suggester' src="+ item.obj_img +">")
                .append("<div class='info-suggester-object'><a class='suggester-link'><span class='span-auto'>" + item.label + "</span><span class='span-auto'> by " + item.user_name + "</span></a></div>")
                .appendTo(ul);
        };
        }
    });

    function moreSuggestedMobileResults(text){
        suggesterMobileURL = "/search/search-suggester/XXXXXXXX";
        suggesterMobileURL = suggesterMobileURL.replace('XXXXXXXX', text);
        $.ajax({
            url: suggesterMobileURL,
            data: { 'page': suggester_mobile_page },
            success: function(data){
                var resultList = [];
                var limit = data['total_count'];
                $('#more-suggestions-mobile-loader').remove();
                for (var i = 0; i < data['items'].length; i++) {
                    resultList.push(
                        {
                            obj_id: data['items'][i][0],
                            label: data['items'][i][1],
                            obj_img: data['items'][i][2],
                            user_name: data['items'][i][3],
                            value: data['items'][i][4]
                        }
                    );
                    total_objects_shown++;
                }
                for (var j = 0; j < resultList.length; j++) {
                    $('#ui-id-1').append(
                        "<li class='suggested-object' data-object="+resultList[j].obj_id+" title='"+resultList[j].label+"' role='presentation'>"
                        +"<img class='img-auto img-suggester' src="+ resultList[j].obj_img +">"
                        +"<div class='info-suggester-object'><a class='suggester-link'><span class='span-auto'>" + resultList[j].label + "</span><span class='span-auto'> by " + resultList[j].user_name + "</span></a></div>"
                    );
                }

                $('.suggested-object').mouseenter(function(e) {
                    e.preventDefault();
                    $('.suggested-object').css('background-color', 'white');
                    $('.ui-menu-item').removeClass('ui-state-focus');
                    $(this).css('background-color', '#dadada' );
                }).mouseleave(function(e) {
                    e.preventDefault();
                    $(this).css('background-color', 'white' );
                });

                $('.suggested-object').click(function(e) {
                   if ($(this).attr('data-object')){
                        e.preventDefault();
                        var url = "/object/3d-print-XXXXXXXX";
                        url = url.replace('XXXXXXXX', $(this).data('object'));
                        window.location = url;
                   }
                });

                if (total_objects_shown < limit) {
                    $('#ui-id-1').append(
                        '<li id="more-results-mobile-section" style="height:68px; padding:24px; padding-left:20px">'
                        +'<a id="more-results-mobile" href="javascript:void(0)"><p style="font-family: inherit; text-align: center"><i class="fi-plus" style="font-size:24px; color: #3fbc9c"></i></p></a>'
                        +'</li>'
                    );

                    $('#more-results-mobile').click(function() {
                        $('#more-results-mobile-section').remove();
                        $('#ui-id-1').append(
                            '<li id="more-suggestions-mobile-loader" style="height:68px; padding:24px;">'
                            +'<div class="working"></div>'
                            +'</li>'
                        );
                        suggester_page++;
                        moreSuggestedMobileResults(text);
                    });
                }
            },
            error: function(){
                console.log("Error loading object suggester, page ", page);
            }
        });
    }
</script>
<script defer src="https://static.myminifactory.com/js/search/search.js?v108"></script>
            </div>
                        <aside class="left-off-canvas-menu hide-for-large-up" id="canvas-left">
            <ul class="off-canvas-list">
                <li class="has-submenu">
                    <a href="/pages/explore">Explore</a>
                    <ul id='categoriesList' class="left-submenu">
                        <li class="back"><a href="#">Back</a></li>
                        
  		<li>
			<a 				href="/category/accessibility"
			>
				<i
					  						class="flaticon-home"
					>
				</i>
																								Accessibility
			</a>
		</li>
  		<li>
			<a 				href="/category/architecture"
			>
				<i
					>
				</i>
									<svg id="mw-icon" viewBox="0 0 46.1 67.8" width="15" height="15" style="margin-bottom: -2px; width: 15px !important; height: 15px!important;">
						<title>mw-icon by Luis Daniel Ibarra</title>
						<g>
							<path style="fill:#ccc;" class="st0" d="M17.6,47.5l2.7-9.5h5.4l2.7,9.5h6.1c0,0-1.9-4.7-3.7-11l1.3-2.5h-2c-1.6-5.8-3-12.6-3-18.1l1.6-1.6v-3.4 l-1.4-1.4V8.1h-1.4L23,0l-2.7,8.1h-1.4v1.3l-1.4,1.4v3.4l1.6,1.6c0,5.6-1.4,12.3-3,18.1h-2l1.3,2.5c-1.9,6.3-3.7,11-3.7,11H17.6z"></path>
							<path style="fill:#ccc;" class="st0" d="M37.4,52.4l1.1-2.3h-2.4H10H7.5l1.1,2.3L0,67.8h10.8c0,0,0-13,12.2-13s12.2,13,12.2,13h10.8L37.4,52.4z"></path>
						 </g>
					 </svg>
																								Architecture
			</a>
		</li>
  		<li>
			<a 				href="/category/board-games"
			>
				<i
					>
				</i>
								 					<svg style="margin-bottom: -2px; width: 15px !important; height: 15px!important;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chess-pawn" class="svg-inline--fa fa-chess-pawn fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M264 448H56s60-42.743 60-176H84c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h40.209C95.721 210.56 76 181.588 76 148c0-46.392 37.608-84 84-84s84 37.608 84 84c0 33.588-19.721 62.56-48.209 76H236c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-32c0 133.257 60 176 60 176zm28 16H28c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h264c6.627 0 12-5.373 12-12v-24c0-6.627-5.373-12-12-12z"></path></svg>
																				Board Games
			</a>
		</li>
  		<li>
			<a 				href="/category/for-3d-printer-owners"
			>
				<i
					  						class="flaticon-3d-printer"
					>
				</i>
																								Build a 3D Printer
			</a>
		</li>
  		<li>
			<a 				href="/category/education"
			>
				<i
					  						class="flaticon-person"
					>
				</i>
																								Education
			</a>
		</li>
  		<li>
			<a 				href="/category/fan-art"
			>
				<i
					  						class="flaticon-paint"
					>
				</i>
																								Fan Art
			</a>
		</li>
  		<li>
			<a 				href="/category/fashion-and-accessories"
			>
				<i
					  						class="flaticon-fashion"
					>
				</i>
																								Fashion &amp; Accessories
			</a>
		</li>
  		<li>
			<a 				href="/category/gadgets-electronics"
			>
				<i
					  						class="flaticon-hands-free-device"
					>
				</i>
																								Gadgets &amp; Electronics
			</a>
		</li>
  		<li>
			<a 				href="/category/home-garden"
			>
				<i
					  						class="flaticon-bulb"
					>
				</i>
																								Home &amp; Garden
			</a>
		</li>
  		<li>
			<a 				href="/category/Jewellery"
			>
				<i
					  						class="flaticon-luxury"
					>
				</i>
																								Jewellery
			</a>
		</li>
  		<li>
			<a 				href="/category/cosplay"
			>
				<i
					  						class="flaticon-war"
					>
				</i>
																								Props &amp; Cosplay
			</a>
		</li>
  		<li>
			<a 				href="/category/rc-cars"
			>
				<i
					>
				</i>
																  					<svg style="margin-bottom: -2px; width: 15px !important; height: 15px!important;" aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" ><path fill="currentColor" d="m14.794 5.1662-1.12213-3.74042c-.255859-.853027-1.02588-1.42578-1.91602-1.42578h-7.51172c-.890137 0-1.66016.572754-1.91602 1.42578l-1.12213 3.74042c-.708557.307922-1.20599 1.01306-1.20599 1.8338v4c0 .552246.447754 1 1 1h.000061l-.000061.999939c0 .552307.447693 1.00006 1 1.00006h1.00006c.552246 0 1-.447754 1-1l-.0004272-1h8.00037l-.000061.999939c0 .552307.447693 1.00006 1 1.00006h1.00006c.552307 0 1-.447754 1-1v-.999939l-.0003662-.000061h.0003662c.552246 0 1-.447754 1-1v-4c0-.82074-.497436-1.52588-1.20599-1.8338zm-10.5499-3.1662h7.51172l.900024 3h-9.31177l.900024-3zm-.244141 7.5c-.552307 0-1-.447754-1-1 0-.552307.447693-1 1-1s1 .447693 1 1c0 .552246-.447693 1-1 1zm8 0c-.552307 0-1-.447754-1-1 0-.552307.447693-1 1-1s1 .447693 1 1c0 .552246-.447693 1-1 1z" transform="translate(0 1)"/></svg>
												RC Cars
			</a>
		</li>
  		<li>
			<a  				href="/scantheworld"
			>
				<i
					  						class="flaticon-globe"
					>
				</i>
																								Scan the World
			</a>
		</li>
  		<li>
			<a 				href="/category/brands-spare-parts"
			>
				<i
					  						class="flaticon-cog-wheel-silhouette"
					>
				</i>
																								Spare Parts
			</a>
		</li>
  		<li>
			<a 				href="/category/sports-outdoor"
			>
				<i
					  						class="flaticon-mountain"
					>
				</i>
																								Sports &amp; Outdoor
			</a>
		</li>
  		<li>
			<a 				href="/category/tabletop"
			>
				<i
					>
				</i>
												  					<svg style="margin-bottom: -2px; width: 15px !important; height: 15px!important;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="dice-d20" class="svg-inline--fa fa-dice-d20 fa-w-15" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path fill="currentColor" d="M106.75 215.06L1.2 370.95c-3.08 5 .1 11.5 5.93 12.14l208.26 22.07-108.64-190.1zM7.41 315.43L82.7 193.08 6.06 147.1c-2.67-1.6-6.06.32-6.06 3.43v162.81c0 4.03 5.29 5.53 7.41 2.09zM18.25 423.6l194.4 87.66c5.3 2.45 11.35-1.43 11.35-7.26v-65.67l-203.55-22.3c-4.45-.5-6.23 5.59-2.2 7.57zm81.22-257.78L179.4 22.88c4.34-7.06-3.59-15.25-10.78-11.14L17.81 110.35c-2.47 1.62-2.39 5.26.13 6.78l81.53 48.69zM240 176h109.21L253.63 7.62C250.5 2.54 245.25 0 240 0s-10.5 2.54-13.63 7.62L130.79 176H240zm233.94-28.9l-76.64 45.99 75.29 122.35c2.11 3.44 7.41 1.94 7.41-2.1V150.53c0-3.11-3.39-5.03-6.06-3.43zm-93.41 18.72l81.53-48.7c2.53-1.52 2.6-5.16.13-6.78l-150.81-98.6c-7.19-4.11-15.12 4.08-10.78 11.14l79.93 142.94zm79.02 250.21L256 438.32v65.67c0 5.84 6.05 9.71 11.35 7.26l194.4-87.66c4.03-1.97 2.25-8.06-2.2-7.56zm-86.3-200.97l-108.63 190.1 208.26-22.07c5.83-.65 9.01-7.14 5.93-12.14L373.25 215.06zM240 208H139.57L240 383.75 340.43 208H240z"></path></svg>
																Tabletop
			</a>
		</li>
  		<li>
			<a 				href="/category/toys-and-games"
			>
				<i
					  						class="flaticon-sports"
					>
				</i>
																								Toys &amp; Games
			</a>
		</li>
  		<li>
			<a 				href="/category/upcycling"
			>
				<i
					  						class="flaticon-arrows"
					>
				</i>
																								Upcycling
			</a>
		</li>
<style>
.category-separation {
	margin: 10px;
	margin-bottom: 0px;
	border: #5f5f5f solid 1px;
	border-width: 1px 0 0;
}
.separation {
	top: 10px;
	position: relative;
	margin: 10px;
	padding: 10px;
	margin-bottom: 0px;
	border: #5f5f5f solid 1px;
	border-width: 1px 0 0;
}

.menu-title {
	display:block;
	clear: both;
}
.contribute li {
	display:block;
	clear: both;
	font-size: 13px;
}
.contribute .fi::before {
    font-size: 16px;
    margin-right: 10px;

}
.contribute a {
	font-size: 13px;
}
.menu-title h3 {
	height: 45px;
}
.menu-title h3 a {
	font-size: 16px;
}

.contribute {
    min-width: 285px !important;
    width: 285px !important;
}

.contribute {background-color: #333!important;}
.top-bar-section ul.contribute li>a {color: #ccc!important; overflow: hidden;}

</style>                        <li>
                            <a href="/objects-to-print"><i class="fa fa-camera"></i> Fresh Uploads</a>
                        </li>
                        <li>
                            <a href="/official-licensed-content">
                            <svg id="Layer_1" data-name="Layer 1" width="15" height="15" class="svg-official-content" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: -3px;" viewBox="0 0 530 527">
                                                                <path style="fill:#fff;" class="cls-1" d="M493.84,259.43h0c-22.63-8.25-26.33-38.7-6.33-52.12h0c25.89-17.37,10.56-57.79-20.33-53.63h0c-23.87,3.22-41.3-22-29.83-43.2h0c14.85-27.41-17.51-56.08-42.93-38h0c-19.64,13.94-46.8-.32-46.48-24.4h0c.41-31.17-41.57-41.52-55.69-13.73h0c-10.91,21.48-41.59,21.48-52.5,0h0c-14.12-27.79-56.1-17.44-55.69,13.73h0c.32,24.08-26.84,38.34-46.48,24.4h0c-25.42-18.05-57.78,10.62-42.93,38h0c11.47,21.18-6,46.42-29.83,43.2h0c-30.89-4.16-46.22,36.26-20.33,53.63h0c20,13.42,16.3,43.87-6.33,52.12h0C8.86,270.1,14.08,313,45.07,316.36h0C69,319,79.9,347.63,63.69,365.45h0c-21,23.06,3.58,58.64,32.58,47.2h0c22.41-8.83,45.37,11.51,39.29,34.82h0c-7.85,30.17,30.43,50.26,50.79,26.65h0c15.73-18.24,45.52-10.9,51,12.56h0c7.06,30.37,50.3,30.37,57.36,0h0c5.45-23.46,35.24-30.8,51-12.56h0c20.36,23.61,58.64,3.52,50.79-26.65h0c-6.08-23.31,16.88-43.65,39.29-34.82h0c29,11.44,53.56-24.14,32.58-47.2h0C452.1,347.63,463,319,486.93,316.36h0C517.92,313,523.14,270.1,493.84,259.43Zm-86.57-90.37L234,363.07l-1,1.14a19.06,19.06,0,0,1-26.91,1.52,19.89,19.89,0,0,1-2.46-2.66L137,275.64A6.86,6.86,0,0,1,146.6,266l71,54.17,180-160.75a6.81,6.81,0,0,1,9.62,9.62Z"/>
                                </svg>
                                Official Licensed Content
                            </a>
                        </li>
                        <li>
                            <a href="/customize/maker">
                                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13" style="">
                                    <g id="Customizer_Icon" data-name="Customizer Icon" transform="translate(-675 -326)">
                                        <g id="Rectangle_1" data-name="Rectangle 1" transform="translate(675 326)" fill="none" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                        <g id="Rectangle_2" data-name="Rectangle 2" transform="translate(682 326)" fill="#ccc" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                        <g id="Rectangle_3" data-name="Rectangle 3" transform="translate(682 333)" fill="#ccc" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                        <g id="Rectangle_4" data-name="Rectangle 4" transform="translate(675 333)" fill="#ccc" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                    </g>
                                </svg> 
                                Customizer
                            </a>
                        </li>
                    </ul>
                </li>
                <li><a href="/store">Store</a></li>
                <li>
                    <a href="/campaigns">Campaigns </a>
                </li>
                <li class="has-submenu">
                    <a>Contribute</a>
                    <ul id='categoriesList' class="left-submenu">
                        <li class="back"><a href="#">Back</a></li>
                        <li class="contribute-section-header" style="margin-top: 10px;">Designer and Makers</li>
                        <hr class="contribute-section-separator"/>
                        <li><a href="/pages/join_the_store">Open a Store</a></li>
                        <li><a href="/questions/curates">Help Curating Pictures</a></li>
                        <li><a href="/objects-to-print">Fresh Uploads</a></li>
                        <li><a href="/ideas/">Ideas</a></li>
                        <li class="contribute-section-header">Writers</li>
                        <hr class="contribute-section-separator"/>
                        <li><a href="/blog/get-started">Publish on the Blog</a></li>
                        <li class="contribute-section-header">Scan the World</li>
                        <hr class="contribute-section-separator"/>
                        <li><a href="https://www.myminifactory.com/scantheworld/learn/tutorials/upload-pictures/">How to Scan</a></li>
                        <li><a href="/upload/object?type=scantheworld">Upload a Scan</a></li>
                        <li><a href="https://cdn.myminifactory.com/static/STW_For_Galleries_Archives_and_Museum.pdf">Partnering as a Museum</a></li>
                    </ul>
                </li>
                                <li>
                    <a href="/competition">Design Competitions</a>
                </li>
                <li>
                    <a href="/products">Buy a 3D Printer</a>
                </li>
                <li>
                    <a href="/blog">Blog</a>
                </li>
                                    <li>
                        <a href="/feed">Feed</a>
                    </li>
                                <li><a href="/mmf-plus">MMF+</a></li>
                <li class="has-submenu lang-menu f16">
                    <a href="#">Language (en)</a>
                    <ul class="left-submenu langlist">
                        <li class="back"><a href="#">Back</a></li>
                        <li id="en">
                            <a href="/object/3d-print-141401" title="English">
                                <div class="flag gb" style="margin-top: 2px; margin-right: 4px;"></div>English (GB)
                            </a>
                        </li>
                        <li id="it">
                            <a href="/it/object/3d-print-141401" title="Italian">
                                <div class="flag it" style="margin-top: 2px; margin-right: 4px;"></div>Italian
                            </a>
                        </li>
                        <li id="fr">
                            <a href="/fr/object/3d-print-141401" title="French">
                                <div class="flag fr" style="margin-top: 2px; margin-right: 4px;"></div>French
                            </a>
                        </li>
                        <li id="de">
                            <a href="/de/object/3d-print-141401" title="German">
                                <div class="flag de" style="margin-top: 2px; margin-right: 4px;"></div>German
                            </a>
                        </li>
                        <li id="es">
                            <a href="/es/object/3d-print-141401" title="Spanish">
                                <div class="flag es" style="margin-top: 2px; margin-right: 4px;"></div>Spanish
                            </a>
                        </li>
                                                                                                                                                <li id="us">
                            <a href="/object/3d-print-141401" title="English">
                                <div class="flag us" style="margin-top: 2px; margin-right: 4px;"></div>English (US)
                            </a>
                        </li>
                                                <li id="cn">
                            <a href="/cn/object/3d-print-141401" title="Chinese">
                                <div class="flag cn" style="margin-top: 2px; margin-right: 4px;"></div>Chinese
                            </a>
                        </li>

                                                                                                                                                                                                                                                                                                                    </ul>

                </li>
                <li class="has-submenu">
                    <a href="#"><i class="fi-plus"></i> Upload</a>
                    <ul class="left-submenu">
                        <li class="back"><a href="#">Back</a></li>
                        <li><a href="/upload/object" title="Upload your designs and share them with the community!"><i class="fa fa-cube" aria-hidden="true"></i> 3D Object</a></li>
                        <li><a href="/customizer/create"><i class="fi-puzzle" aria-hidden="true"></i> Customizer</a></li>
                                                <li><a href="/upload/print"><i class="fa fa-camera" aria-hidden="true"></i> Picture</a></li>
                        <li><a href="/blog/get-started"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Publish on the Blog</a></li>
                    </ul>
                </li>
            </ul>
        </aside>
        
                <aside class="right-off-canvas-menu hide-for-large-up">
            <ul class="off-canvas-list">
                                    <li>
                        <div style="display: flex; justify-content: flex-start; align-items: center;">
                            <a style="padding-right:0;" href="/users/maxthompson1"><i class="fi-torso"></i> &nbsp; maxthompson1</a>
                                                    </div>
                    </li>
                    <li>
                                                <a href="/cart/checkout" title="Basket">
                                                    Basket
                            (<span class="t-items-cart-mobile">1</span>)
                        </a>
                    </li>
                                                            <li><a href="/users/maxthompson1"><i class="fi-megaphone"></i> &nbsp; My Public Profile</a></li>
                    <li><a href="/feed"><i class="fa fa-rss"></i> &nbsp; Feed</a></li>
                    <li><a href="/settings"><i class="fi-wrench"></i> &nbsp; Settings</a></li>
                    <li><a href="/library"><i class="fi-list"></i> &nbsp; My Library</a></li>
                    <li><a href="/userstatistics/"><i class="fi-graph-trend"></i> &nbsp; Statistics</a></li>
                    <li><a href="/tip/view/dashboard"><i class="fi-dollar-bill"></i> &nbsp; Your Pledges</a></li>
                                        <li><a href="/messages/notification"><i class="fi-mail"></i> &nbsp; Inbox (42)</a></li>
                    <li><a href="/orders/"><i class="fi-pricetag-multiple"></i> &nbsp; My Orders</a></li>
                    <li><a href="https://www.myminifactory.com/pages/join_the_store"><i class="fa fa-money" aria-hidden="true"></i> &nbsp; Monetisation</a></li>
                    <li><a href="/ideas/dashboard"><i class="fi-info"></i> &nbsp; My Ideas</a></li>
                    <li><a href="/log_out"><i class="fi-power"></i> &nbsp; Logout</a></li>
                    <li><a href="/upload/object"><i class="fi-plus"></i> &nbsp; Upload a 3D Object</a></li>
                            </ul>
        </aside>

    
    <div class="tab-bar contain-to-grid fixed show-for-large-up" style="position: fixed">
            <style>
    .top-bar-section .has-dropdown.hover>.dropdown.uploadlist, 
    .top-bar-section .has-dropdown.not-click:hover>.dropdown.uploadlist{
        min-width: 100%;
        left: unset;
    }

    a.nav-bar-item {
        position: relative;
    }
</style>

                                    
    
    



<nav class="top-bar contain-to-grid fixed desktopbase" style="height: 60px!important;" data-topbar role="navigation">
    <ul class="title-area">
        <li id="headerlogo">
            <a href="/"></a>
        </li>
    </ul>
    <section class="top-bar-section">
         
            <ul class="left navigationsection">
                <li class="has-dropdown not-click">
                    <a href="/pages/explore">Explore</a>
                    <ul id='categoriesList' class="dropdown categories">
                        <li class="menu-title" ><h3><a href="/pages/explore">Categories</a></h3></li>
                        <hr class="separation" >
                        
  		<li>
			<a 				href="/category/accessibility"
			>
				<i
					  						class="flaticon-home"
					>
				</i>
																								Accessibility
			</a>
		</li>
  		<li>
			<a 				href="/category/architecture"
			>
				<i
					>
				</i>
									<svg id="mw-icon" viewBox="0 0 46.1 67.8" width="15" height="15" style="margin-bottom: -2px; width: 15px !important; height: 15px!important;">
						<title>mw-icon by Luis Daniel Ibarra</title>
						<g>
							<path style="fill:#ccc;" class="st0" d="M17.6,47.5l2.7-9.5h5.4l2.7,9.5h6.1c0,0-1.9-4.7-3.7-11l1.3-2.5h-2c-1.6-5.8-3-12.6-3-18.1l1.6-1.6v-3.4 l-1.4-1.4V8.1h-1.4L23,0l-2.7,8.1h-1.4v1.3l-1.4,1.4v3.4l1.6,1.6c0,5.6-1.4,12.3-3,18.1h-2l1.3,2.5c-1.9,6.3-3.7,11-3.7,11H17.6z"></path>
							<path style="fill:#ccc;" class="st0" d="M37.4,52.4l1.1-2.3h-2.4H10H7.5l1.1,2.3L0,67.8h10.8c0,0,0-13,12.2-13s12.2,13,12.2,13h10.8L37.4,52.4z"></path>
						 </g>
					 </svg>
																								Architecture
			</a>
		</li>
  		<li>
			<a 				href="/category/board-games"
			>
				<i
					>
				</i>
								 					<svg style="margin-bottom: -2px; width: 15px !important; height: 15px!important;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chess-pawn" class="svg-inline--fa fa-chess-pawn fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M264 448H56s60-42.743 60-176H84c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h40.209C95.721 210.56 76 181.588 76 148c0-46.392 37.608-84 84-84s84 37.608 84 84c0 33.588-19.721 62.56-48.209 76H236c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-32c0 133.257 60 176 60 176zm28 16H28c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h264c6.627 0 12-5.373 12-12v-24c0-6.627-5.373-12-12-12z"></path></svg>
																				Board Games
			</a>
		</li>
  		<li>
			<a 				href="/category/for-3d-printer-owners"
			>
				<i
					  						class="flaticon-3d-printer"
					>
				</i>
																								Build a 3D Printer
			</a>
		</li>
  		<li>
			<a 				href="/category/education"
			>
				<i
					  						class="flaticon-person"
					>
				</i>
																								Education
			</a>
		</li>
  		<li>
			<a 				href="/category/fan-art"
			>
				<i
					  						class="flaticon-paint"
					>
				</i>
																								Fan Art
			</a>
		</li>
  		<li>
			<a 				href="/category/fashion-and-accessories"
			>
				<i
					  						class="flaticon-fashion"
					>
				</i>
																								Fashion &amp; Accessories
			</a>
		</li>
  		<li>
			<a 				href="/category/gadgets-electronics"
			>
				<i
					  						class="flaticon-hands-free-device"
					>
				</i>
																								Gadgets &amp; Electronics
			</a>
		</li>
  		<li>
			<a 				href="/category/home-garden"
			>
				<i
					  						class="flaticon-bulb"
					>
				</i>
																								Home &amp; Garden
			</a>
		</li>
  		<li>
			<a 				href="/category/Jewellery"
			>
				<i
					  						class="flaticon-luxury"
					>
				</i>
																								Jewellery
			</a>
		</li>
  		<li>
			<a 				href="/category/cosplay"
			>
				<i
					  						class="flaticon-war"
					>
				</i>
																								Props &amp; Cosplay
			</a>
		</li>
  		<li>
			<a 				href="/category/rc-cars"
			>
				<i
					>
				</i>
																  					<svg style="margin-bottom: -2px; width: 15px !important; height: 15px!important;" aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" ><path fill="currentColor" d="m14.794 5.1662-1.12213-3.74042c-.255859-.853027-1.02588-1.42578-1.91602-1.42578h-7.51172c-.890137 0-1.66016.572754-1.91602 1.42578l-1.12213 3.74042c-.708557.307922-1.20599 1.01306-1.20599 1.8338v4c0 .552246.447754 1 1 1h.000061l-.000061.999939c0 .552307.447693 1.00006 1 1.00006h1.00006c.552246 0 1-.447754 1-1l-.0004272-1h8.00037l-.000061.999939c0 .552307.447693 1.00006 1 1.00006h1.00006c.552307 0 1-.447754 1-1v-.999939l-.0003662-.000061h.0003662c.552246 0 1-.447754 1-1v-4c0-.82074-.497436-1.52588-1.20599-1.8338zm-10.5499-3.1662h7.51172l.900024 3h-9.31177l.900024-3zm-.244141 7.5c-.552307 0-1-.447754-1-1 0-.552307.447693-1 1-1s1 .447693 1 1c0 .552246-.447693 1-1 1zm8 0c-.552307 0-1-.447754-1-1 0-.552307.447693-1 1-1s1 .447693 1 1c0 .552246-.447693 1-1 1z" transform="translate(0 1)"/></svg>
												RC Cars
			</a>
		</li>
  		<li>
			<a  				href="/scantheworld"
			>
				<i
					  						class="flaticon-globe"
					>
				</i>
																								Scan the World
			</a>
		</li>
  		<li>
			<a 				href="/category/brands-spare-parts"
			>
				<i
					  						class="flaticon-cog-wheel-silhouette"
					>
				</i>
																								Spare Parts
			</a>
		</li>
  		<li>
			<a 				href="/category/sports-outdoor"
			>
				<i
					  						class="flaticon-mountain"
					>
				</i>
																								Sports &amp; Outdoor
			</a>
		</li>
  		<li>
			<a 				href="/category/tabletop"
			>
				<i
					>
				</i>
												  					<svg style="margin-bottom: -2px; width: 15px !important; height: 15px!important;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="dice-d20" class="svg-inline--fa fa-dice-d20 fa-w-15" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path fill="currentColor" d="M106.75 215.06L1.2 370.95c-3.08 5 .1 11.5 5.93 12.14l208.26 22.07-108.64-190.1zM7.41 315.43L82.7 193.08 6.06 147.1c-2.67-1.6-6.06.32-6.06 3.43v162.81c0 4.03 5.29 5.53 7.41 2.09zM18.25 423.6l194.4 87.66c5.3 2.45 11.35-1.43 11.35-7.26v-65.67l-203.55-22.3c-4.45-.5-6.23 5.59-2.2 7.57zm81.22-257.78L179.4 22.88c4.34-7.06-3.59-15.25-10.78-11.14L17.81 110.35c-2.47 1.62-2.39 5.26.13 6.78l81.53 48.69zM240 176h109.21L253.63 7.62C250.5 2.54 245.25 0 240 0s-10.5 2.54-13.63 7.62L130.79 176H240zm233.94-28.9l-76.64 45.99 75.29 122.35c2.11 3.44 7.41 1.94 7.41-2.1V150.53c0-3.11-3.39-5.03-6.06-3.43zm-93.41 18.72l81.53-48.7c2.53-1.52 2.6-5.16.13-6.78l-150.81-98.6c-7.19-4.11-15.12 4.08-10.78 11.14l79.93 142.94zm79.02 250.21L256 438.32v65.67c0 5.84 6.05 9.71 11.35 7.26l194.4-87.66c4.03-1.97 2.25-8.06-2.2-7.56zm-86.3-200.97l-108.63 190.1 208.26-22.07c5.83-.65 9.01-7.14 5.93-12.14L373.25 215.06zM240 208H139.57L240 383.75 340.43 208H240z"></path></svg>
																Tabletop
			</a>
		</li>
  		<li>
			<a 				href="/category/toys-and-games"
			>
				<i
					  						class="flaticon-sports"
					>
				</i>
																								Toys &amp; Games
			</a>
		</li>
  		<li>
			<a 				href="/category/upcycling"
			>
				<i
					  						class="flaticon-arrows"
					>
				</i>
																								Upcycling
			</a>
		</li>
<style>
.category-separation {
	margin: 10px;
	margin-bottom: 0px;
	border: #5f5f5f solid 1px;
	border-width: 1px 0 0;
}
.separation {
	top: 10px;
	position: relative;
	margin: 10px;
	padding: 10px;
	margin-bottom: 0px;
	border: #5f5f5f solid 1px;
	border-width: 1px 0 0;
}

.menu-title {
	display:block;
	clear: both;
}
.contribute li {
	display:block;
	clear: both;
	font-size: 13px;
}
.contribute .fi::before {
    font-size: 16px;
    margin-right: 10px;

}
.contribute a {
	font-size: 13px;
}
.menu-title h3 {
	height: 45px;
}
.menu-title h3 a {
	font-size: 16px;
}

.contribute {
    min-width: 285px !important;
    width: 285px !important;
}

.contribute {background-color: #333!important;}
.top-bar-section ul.contribute li>a {color: #ccc!important; overflow: hidden;}

</style>                        <hr class="category-separation" >
                        <li>
                            <a href="/objects-to-print"><i class="fa fa-camera"></i> Fresh Uploads</a>
                        </li>
                        <li>
                            <a href="/official-licensed-content" >
                            <svg id="Layer_1" data-name="Layer 1" width="15" height="15" class="svg-official-content" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: -3px;" viewBox="0 0 530 527">
                            <title>Verified</title>
                            <path style="fill:#fff;" class="cls-1" d="M493.84,259.43h0c-22.63-8.25-26.33-38.7-6.33-52.12h0c25.89-17.37,10.56-57.79-20.33-53.63h0c-23.87,3.22-41.3-22-29.83-43.2h0c14.85-27.41-17.51-56.08-42.93-38h0c-19.64,13.94-46.8-.32-46.48-24.4h0c.41-31.17-41.57-41.52-55.69-13.73h0c-10.91,21.48-41.59,21.48-52.5,0h0c-14.12-27.79-56.1-17.44-55.69,13.73h0c.32,24.08-26.84,38.34-46.48,24.4h0c-25.42-18.05-57.78,10.62-42.93,38h0c11.47,21.18-6,46.42-29.83,43.2h0c-30.89-4.16-46.22,36.26-20.33,53.63h0c20,13.42,16.3,43.87-6.33,52.12h0C8.86,270.1,14.08,313,45.07,316.36h0C69,319,79.9,347.63,63.69,365.45h0c-21,23.06,3.58,58.64,32.58,47.2h0c22.41-8.83,45.37,11.51,39.29,34.82h0c-7.85,30.17,30.43,50.26,50.79,26.65h0c15.73-18.24,45.52-10.9,51,12.56h0c7.06,30.37,50.3,30.37,57.36,0h0c5.45-23.46,35.24-30.8,51-12.56h0c20.36,23.61,58.64,3.52,50.79-26.65h0c-6.08-23.31,16.88-43.65,39.29-34.82h0c29,11.44,53.56-24.14,32.58-47.2h0C452.1,347.63,463,319,486.93,316.36h0C517.92,313,523.14,270.1,493.84,259.43Zm-86.57-90.37L234,363.07l-1,1.14a19.06,19.06,0,0,1-26.91,1.52,19.89,19.89,0,0,1-2.46-2.66L137,275.64A6.86,6.86,0,0,1,146.6,266l71,54.17,180-160.75a6.81,6.81,0,0,1,9.62,9.62Z"/>
                            </svg>
                            <span style="color: white; font-size: 0.8125rem;">Official Licensed Content</span></a>
                        </li>
                        <li>
                            <a href="/customize/maker">
                                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13" style="margin-right: 2px; margin-bottom: -1px;">
                                    <g id="Customizer_Icon" data-name="Customizer Icon" transform="translate(-675 -326)">
                                        <g id="Rectangle_1" data-name="Rectangle 1" transform="translate(675 326)" fill="none" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                        <g id="Rectangle_2" data-name="Rectangle 2" transform="translate(682 326)" fill="#ccc" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                        <g id="Rectangle_3" data-name="Rectangle 3" transform="translate(682 333)" fill="#ccc" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>
                                        </g>
                                        <g id="Rectangle_4" data-name="Rectangle 4" transform="translate(675 333)" fill="#ccc" stroke="#ccc" stroke-width="1">
                                        <rect width="6" height="6" rx="1" stroke="none"/>
                                        <rect x="0.5" y="0.5" width="5" height="5" rx="0.5" fill="none"/>     
                                        </g>
                                    </g>
                                </svg>
                                Customizer <span class="label secondary">NEW</span>
                            </a>
                        </li>
                                            </ul>
                </li>
                <li>
                    <a class="nav-bar-item" href="/store">Store</a></span>
                </li>
                <li>
                    <a class="nav-bar-item" href="/campaigns">Campaigns<i class="navbar-item-dot"></i></a>
                </li>            
                <li class="has-dropdown not-click">
                    <a href="/pages/how-it-works" >Contribute</a>
                    <ul class="dropdown contribute">
                        <li class="menu-title" ><h3><a href="/pages/how-it-works">Designers and Makers</a></h3></li>
                        <hr class="separation" >
                                                <li><a href="/pages/join_the_store"><i class="fi fi-dollar-bill"></i> Open a Store</a></li>
                                                <li><a href="/questions/curates"><i class="fi fi-check"></i> Help Curating Pictures</a></li>
                        <li><a href="/objects-to-print"><i class="fi fi-camera"></i> Fresh Uploads</a></li>
                                                <li><a href="/ideas/" ><i class="fi fi-lightbulb"></i> Ideas</a></li>

                        <li class="menu-title" ><h3><a href="/blog/get-started">Writers</a></h3></li>
                        <hr class="separation" >
                        <li><a href="/blog/get-started"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Publish on the Blog</a></li>

                        <li class="menu-title" ><h3><a href="/scantheworld">Scan the World</a></h3></li>
                        <hr class="separation" >
                        <li><a href="https://www.myminifactory.com/scantheworld/learn/tutorials/upload-pictures/"><i class="fi fi-camera"></i> How to Scan</a></li>
                        <li><a href="/upload/object?type=scantheworld"><i class="fi fi-upload-cloud"></i> Upload a Scan</a></li>
                        <li><a href="https://cdn.myminifactory.com/static/STW_For_Galleries_Archives_and_Museum.pdf"><i class="fi fi-marker"></i> Partnering as a Museum</a></li>

                        
                                            </ul>
                </li>    
                <li>
                    <a class="nav-bar-item" href="/competition">Competitions</a>
                </li>                
                                <li>
                    <a class="nav-bar-item" href="/product/elegoo-mars-pro-tabletop-edition">Buy a 3D Printer<i class="navbar-item-dot"></i></a>
                </li>
                <li>
                    <a class="nav-bar-item" href="/blog">Blog</a>
                </li>
                <li>
                    <a class="nav-bar-item" href="/mmf-plus">MMF+<i class="navbar-item-dot"></i></a>
                </li>
            </ul>
        
        <ul class="right">
                                        <li style="background: transparent;" class="searchline2 topnav_search"><form action="/search/" class="submit_search" id="form_search_desktop">
    <div class="row collapse">
        <div class="search_field_desktop small-10 large-10 columns">
            <input class="radius search-autocomplete ui-autocomplete-input input-search-desktop" type="text" name="query" id="mymini_userinterfacebundle_search_query_desktop" placeholder="What would you like to 3D print today?" autocomplete="off" autofocus>
        </div>
        <div class="small-2 large-2 columns advsrch">
            <button type="submit" id="search_button" title="Search" class="button mmfgreen radius search_button_form_desktop">
                <i class="fi-magnifying-glass"></i>
            </button>
        </div>
    </div>
</form>

<script type="text/javascript">
    var suggesterURL = null;
    var query = $('input[name="query"].input-search-desktop').val();
    var total_objects_shown = 0;
    var suggester_page = 1;

    $( document ).ready(function() {
        if ($(window).width() >= 1025) {
            $.each($(".search-autocomplete"), function(index, element) {
                $(this).autocomplete({
                    source: function (request, response) {
                        suggesterURL = "/search/search-suggester/XXXXXXXX";
                        suggesterURL = suggesterURL.replace('XXXXXXXX', request.term);
                        total_objects_shown = 0;
                        suggester_page = 1;
                        var data = {
                            'page' : suggester_page
                        }
                        if($(element).hasClass('input-search-store')){
                            data['store'] = 1;
                        }

                        $.ajax({
                            url: suggesterURL,
                            data: data,
                        }).done(function (data) {
                            var resultList = [];
                            var limit = data['total_count'];
                            for (var i = 0; i < data['items'].length; i++) {
                                resultList.push(
                                    {
                                        obj_id: data['items'][i][0],
                                        label: data['items'][i][1],
                                        obj_img: data['items'][i][2],
                                        user_name: data['items'][i][3],
                                        url: data['items'][i][4],
                                        price: data['items'][i][5],
                                        type: data['items'][i][6],
                                    }
                                );
                                total_objects_shown++;
                            }

                            let indexList = index + 2; 
        
                            if (resultList.length > 0){
                                response(resultList);
                                if (total_objects_shown < limit) {
                                    $('.ui-widget-content.ui-autocomplete').css('height', ((total_objects_shown + 1) * 66) + 6);
                                    $('#ui-id-'+indexList).append(
                                        '<li id="more-results-section-'+indexList+'" style="height:64px; padding:24px; padding-left:20px">'
                                            +'<a id="more-results-'+indexList+'" href="javascript:void(0)"><p style="font-family: inherit; text-align: center"><i class="fi-plus" style="font-size:24px; color: #3fbc9c"></i></p></a>'
                                        +'</li>'
                                    );
                                    $('#more-results-'+indexList).click(function() {
                                        $('#more-results-section-'+indexList).remove();
                                        $('#ui-id-'+indexList).append(
                                            '<li id="more-suggestions-loader" style="height:64px; padding:24px;">'
                                            +'<div class="working"></div>'
                                            +'</li>'
                                        );
                                        suggester_page++;
                                        moreSuggestedResults(query, indexList);
                                    });
                                }else{
                                    $('.ui-widget-content.ui-autocomplete').css('height', total_objects_shown * 65);
                                }
                            }
                        });
                    },
                    focus: function (e, ui) {
                        if(ui.item !== undefined){
                            e.preventDefault();         
                            var focused = $('*[data-object]');
                            focused.removeClass('ui-state-focus');
                            var testItem = $(ui.item)[0];
                            var focused = $('*[data-object="'+testItem.obj_id+'"]');
                            focused.addClass('ui-state-focus');
                            return false;
                        }
                    },  
                    select: function (e, ui) {
                        if(ui.item !== undefined){
                            e.preventDefault();
                            window.location = ui.item.url;
                            return false;
                        }
                    },
                    minLength: 3
                }).data("uiAutocomplete")._renderItem = function( ul, item ) {
                    var title = item.label;
                    var entityType = null;
                    if(item.type !== 'threedobject'){
                        var colorEntity = "rgba(63, 130, 188, 0.6)";
                        if(item.type == 'customizer'){
                            colorEntity = "rgba(188, 63, 139, 0.6)";
                        }

                        entityType = "<span class='suggester-entity-type' style='color: "+colorEntity+";'>"+(item.type).toUpperCase()+"</span>";
                    }
                    var containerPrice = null;
                    if(item.price && item.price > 0){
                        var classPrice = entityType ? "pricetag type" : "pricetag";
                        containerPrice = "<div class='container-suggested-price'><span class='"+classPrice+"'>$"+item.price+"</span></div>";
                    }
                    return $('<li class="suggested-object" data-object='+item.obj_id+' title="'+title+'">')
                    .data("ui-autocomplete-item", item)
                    .append("<img class='img-auto img-suggester' src="+ item.obj_img +">")
                    .append("<div class='info-suggester-object'><a class='suggester-link'><span class='span-auto'>" + item.label + "</span><span class='span-auto'> by " + item.user_name + "</span></a></div>")
                    .append(containerPrice)
                    .append(entityType)
                    .appendTo(ul);
                };
            });
            
        }

    });

    function moreSuggestedResults(text, index){
        suggesterURL = "/search/search-suggester/XXXXXXXX";
        suggesterURL = suggesterURL.replace('XXXXXXXX', text);
        $.ajax({
            url: suggesterURL,
            data: { 'page': suggester_page },
            success: function(data){
                var resultList = [];
                var limit = data['total_count'];
                $('#more-suggestions-loader').remove();
                for (var i = 0; i < data['items'].length; i++) {
                    resultList.push(
                        {
                            obj_id: data['items'][i][0],
                            label: data['items'][i][1],
                            obj_img: data['items'][i][2],
                            user_name: data['items'][i][3],
                            url: data['items'][i][4],
                            price: data['items'][i][5]
                        }
                    );
                    total_objects_shown++;
                }
                for (var j = 0; j < resultList.length; j++) {
                    $('#ui-id-'+index).append(
                        "<li class='suggested-object' data-object="+resultList[j].obj_id+" title='"+resultList[j].label+"' role='presentation'>"
                        +"<img class='img-auto img-suggester' src="+ resultList[j].obj_img +">"
                        +"<div class='info-suggester-object'><a class='suggester-link'><span class='span-auto'>" + resultList[j].label + "</span><span class='span-auto'> by " + resultList[j].user_name + "</span></a></div>"
                    );
                }

                $('.suggested-object').mouseenter(function(e) {
                    e.preventDefault();
                    $('.suggested-object').css('background-color', 'white');
                    $('.ui-menu-item').removeClass('ui-state-focus');
                    $(this).css('background-color', '#dadada' );
                }).mouseleave(function(e) {
                    e.preventDefault();
                    $(this).css('background-color', 'white' );
                });

                $('.suggested-object').click(function(e) {
                   if ($(this).attr('data-object')){
                        e.preventDefault();
                        var url = "/object/3d-print-XXXXXXXX";
                        url = url.replace('XXXXXXXX', $(this).data('object'));
                        window.location = url;
                   }
                });

                if (total_objects_shown < limit) {
                    $('#ui-id-'+index).append(
                        '<li id="more-results-section-'+index+'" style="height:68px; padding:24px; padding-left:20px">'
                        +'<a id="more-results-'+index+'" href="javascript:void(0)"><p style="font-family: inherit; text-align: center"><i class="fi-plus" style="font-size:24px; color: #3fbc9c"></i></p></a>'
                        +'</li>'
                    );

                    $('#more-results-'+index).click(function() {
                        $('#more-results-section-'+index).remove();
                        $('#ui-id-'+index).append(
                            '<li id="more-suggestions-loader" style="height:68px; padding:24px;">'
                            +'<div class="working"></div>'
                            +'</li>'
                        );
                        suggester_page++;
                        moreSuggestedResults(text, index);
                    });
                }
            },
            error: function(){
                console.log("Error loading object suggester, page ", page);
            }
        });
    }
</script>

<script src="https://static.myminifactory.com/js/search/search.js?v108"></script>
</li>
                        <li class="uploadbuttonmenu has-dropdown">
                <a href="/upload/object" class="upload3d">Upload</a>
                <ul class="dropdown uploadlist">
                    <li><a href="/upload/object" title="Upload your designs and share them with the community!"><i class="fa fa-cube" aria-hidden="true"></i> 3D Object</a></li>
                    <li><a href="/customizer/create"><i class="fi-puzzle" aria-hidden="true"></i> Customizer</a></li>
                    <li><a href="/upload/print"><i class="fa fa-camera" aria-hidden="true"></i> Picture</a></li>
                    <li><a href="/blog/get-started"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Blog Post</a></li>
                                    </ul>
            </li>

            <li class="has-dropdown lang-menu f16">
                <a href="#"><span class="flag en"></span></a>
                <ul class="dropdown langlist">
                    <li id="en">
                        <a href="/object/3d-print-141401" title="English">
                            <div class="flag gb"></div>                        </a>
                    </li>
                    <li id="it">
                        <a href="/it/object/3d-print-141401" title="Italian">
                            <div class="flag it"></div>                        </a>
                    </li>
                    <li id="fr">
                        <a href="/fr/object/3d-print-141401" title="French">
                            <div class="flag fr"></div>                        </a>
                    </li>
                    <li id="de">
                        <a href="/de/object/3d-print-141401" title="German">
                            <div class="flag de"></div>                        </a>
                    </li>
                    <li id="es">
                        <a href="/es/object/3d-print-141401" title="Spanish">
                            <div class="flag es"></div>                        </a>
                    </li>
                    <li id="us">
                        <a href="/object/3d-print-141401" title="English">
                            <div class="flag us"></div>                        </a>
                    </li>
                    <li id="cn">
                        <a href="/cn/object/3d-print-141401" title="Chinese">
                            <div class="flag cn"></div>                        </a>
                    </li>
                </ul>

            </li>

            <li id="top-bar-basket" class="li-basket usermenuclick not-click has-dropdown menu-basket-dropdown">
                                <a href="/cart/checkout" title="Basket">
                                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="27px" height="27px" style=" margin-bottom: -8px; width: 27px !important; height: 27px !important; vertical-align: initial !important;" viewBox="0 0 15 15.103" enable-background="new 0 0 15 15.103" xml:space="preserve">
                    <g>
                        <path fill="#3f3f3f" d="M7.751,12.907h3.723c1.11-0.001,2.065-0.78,2.292-1.866l1.235-6c0.087-0.423-0.186-0.836-0.607-0.923
                            c-0.052-0.011-0.105-0.017-0.157-0.017H9.788c-0.432,0-0.781,0.35-0.781,0.782s0.35,0.781,0.781,0.781h3.489l-1.041,5.056
                            c-0.076,0.363-0.395,0.624-0.767,0.624H7.751H7.306H3.587c-0.371,0-0.689-0.261-0.766-0.624L1.78,5.664H5.27
                            c0.431,0,0.781-0.35,0.781-0.781S5.7,4.101,5.27,4.101H0.821c-0.052,0-0.105,0.006-0.157,0.017c-0.422,0.087-0.694,0.5-0.607,0.923
                            l1.235,6c0.227,1.086,1.184,1.865,2.292,1.866h3.722"/>
                        <path fill="#3f3f3f" d="M7.562,1.698c-0.432,0-0.781,0.35-0.781,0.781v4.979L5.917,6.744C5.583,6.471,5.09,6.52,4.817,6.853
                            c-0.274,0.334-0.226,0.827,0.109,1.1l2.147,1.758c0.289,0.235,0.704,0.235,0.991,0l2.149-1.758c0.333-0.276,0.38-0.771,0.104-1.105
                            s-0.77-0.38-1.104-0.104L8.341,7.457V2.479C8.341,2.049,7.992,1.699,7.562,1.698z"/>
                    </g>
                    </svg>
                    <span id="t-items-cart" class="t-items-cart-1">
                        1                    </span>
                </a>
                                    <script type="text/javascript">

    window.customEventDispatcher.addEventListener('ITEM_ADDED_TO_CART', function(data) {
        if(data.added){
            addItemToBasketIfNecessary(data.added)
        }
        changeBasketAmountDial(data.t_items? data.t_items : data.total_count)
    });

    window.customEventDispatcher.addEventListener('REFRESH_CART_AMOUNT', function() {
        cart = getCart()
        fetchCartItems()
        $.when(cart).then(function(cart){
            changeBasketAmountDial(cart.t_items? cart.t_items : cart.total_count )
        })
    });

    function itemRowData(value){
        var rowData = 
        '<div class="basket-cont-image">'+
            '<img src="'+value['image']+'">'+
            '<span>'+ 
                value['name'] +
                (value['quantity'] > 1 ? (' <span class="basket-item-quantity">(x' + value['quantity'] + ')</span>' ) : '') + 
            '</span>'+
        '</div>'+
        '<div class="basket-cont-price">'+
            '<span>$'+twoFixed(value['finalprice'])+'</span>'+
        '</div>'
        return rowData
    }

    function addItemToBasketIfNecessary(value){
        var itemInDOM = '#list-i-basket-'+value['itemid']
        if($(itemInDOM).length == 0){
            $('#basket-dropdown .basket-items').append(
                '<li class="list-i-basket" id="list-i-basket-'+value['itemid']+'">' +
                    '<a class="basket-item-container" href="' + value['item_url'] + '">' + 
                        itemRowData(value) +
                    '</a>' +
                '</li>'
            );
        } else if (value['itemType'] === 'print-on-demand')
            $(itemInDOM+'>a').html(itemRowData(value))
    }

    function changeBasketAmountDial(count){
        //document.cookie = "t_items="+count
        $('#top-bar-basket').addClass("has-dropdown menu-basket-dropdown")
        $('#t-items-cart').removeClass().addClass('t-items-cart-'+count).html(count);
        $('.t-items-cart-mobile').html(count);
    }

    function getCart(){
        return $.ajax({
            url: "/api/v2/cart",
            success: function (response) {
                return response
            },
            error: function (error) {
                console.log("Could not fetch cart")
            },
        });
    }

    function updateCheckoutPrice(price){
        if($('.list-i-basket-total').length == 0){
            $('#btn-basket-checkout').append('<span class="list-i-basket-total">Total USD '+twoFixed(price)+' Checkout</span>');
        }else{
            $('.list-i-basket-total').html('Total USD '+twoFixed(price)+' Checkout');
        }
        $('.basket-checkout').show();
    }

    function twoFixed(number){
      return (Math.round((number * 1000) / 10)/100).toFixed(2)
    }

    function fetchCartItems(){
        var url = "/api/v2/cart";
        $.ajax({
            url: url,
            success: function (response) {
                $('#t-items-cart').removeClass();
                $('#t-items-cart').addClass('t-items-cart-'+response.total_count);
                $('#t-items-cart').html(response.total_count);
                $.each(response['items'], function(i, value) {
                    addItemToBasketIfNecessary(value)
                });
                if(response['items'].length && response.total_price){
                    updateCheckoutPrice(response['total_price'])
                } 
                $('#basket-dropdown .working').hide();
            },
            error: function (error) {
                if(error && error.responseJSON && error.responseJSON.error == 'not_found'){
                    $('.li-basket').removeClass('has-dropdown');
                    $('.li-basket').removeClass('menu-basket-dropdown');
                    $('#t-items-cart').removeClass();
                    $('#t-items-cart').addClass('t-items-cart-0');
                }
            },
            complete: function (){
                $('#basket-dropdown .working').hide();
            },
        });
    }

    $(document).ready(function () {
        $('.menu-basket-dropdown').hover(
            function (){
                if($('#basket-dropdown .basket-items li').length == 0){
                    $('#basket-dropdown .working').show();
                }
                fetchCartItems()
            }
            , function () {
                
            }
        );
    });

</script>                    <ul class="dropdown" id="basket-dropdown">
                        <div class="basket-arrow"></div>   
                        <div class="basket-items"></div>
                        <div class="working"></div>
                        <div class="basket-checkout">
                            <a id="btn-basket-checkout" href="/cart/checkout">
                            </a>
                        </div>
                    </ul>
                            </li>

                            <li class="has-dropdown usermenuclick">
                <a id="tnphoto" href="/users/maxthompson1" style="background:url('https://cdn.myminifactory.com//uploads/profile-images/6def27194753230cc5298b72ba544ad2cc378cc9.jpg') center center !important; background-size: cover!important;"><span class="unreadmsgs" title="42 Unread Notifications" >42</span></a>
                    <ul class="dropdown right">
                        <li>
                            <div style="display: flex; justify-content: center; align-items: center;">
                                <a href="/users/maxthompson1">maxthompson1</a>
                                                            </div>
                        </li>
                                                                        <li><a href="/users/maxthompson1"><i class="fi-megaphone"></i> &nbsp; My Public Profile</a></li>
                        <li><a href="/feed"><i class="fa fa-rss"></i> &nbsp; Feed</a></li>
                        <li><a href="/settings"><i class="fi-wrench"></i> &nbsp; Settings</a></li>
                        <li><a href="/library"><i class="fi-list"></i> &nbsp; My Library</a></li>
                        <li><a href="/tip/view/dashboard"><i class="fi-dollar-bill"></i> &nbsp; Your Pledges</a></li>
                        <li><a href="/userstatistics/"><i class="fi-graph-trend"></i> &nbsp; Statistics</a></li>
                                                <li><a href="/messages/notification"><i class="fi-mail"></i> &nbsp; Inbox (42)</a></li>
                        <li><a href="/orders/"><i class="fi-pricetag-multiple"></i> &nbsp; My Orders</a></li>
                        <li><a href="https://www.myminifactory.com/pages/join_the_store"><i class="fa fa-money" aria-hidden="true"></i> &nbsp; Monetisation</a></li>
                        <li><a href="/ideas/dashboard"><i class="fi-info"></i> &nbsp; My Ideas</a></li>
                        <li><a href="/log_out"><i class="fi-power"></i> &nbsp; Logout</a></li>
                        <li class="usermenu_upload"><a href="/upload/object"><i class="fi-plus"></i> &nbsp; Upload a 3D Object</a></li>
                    </ul>
                </li>
                        
        </ul>
    </section>
</nav>

<div style="background: #A4A4A4; clear:both; display:none!important;"></div>

<script>

    $( window ).resize(function() {
        setBarFromSize(false);
    });

    $(document).ready(function() {

        setBarFromSize(true);
        $('.topnav_search #search_button, .topnav_search #search_button').click(function (event) {
            event.preventDefault();
            $("#search_button.search_button_form_desktop").prop("type", "submit");
            if ($('.topnav_search').width()==0)
            {
                openSearchBar(true);
            }
            else if ($('.topnav_search').width()>0 && $('.topnav_search #mymini_userinterfacebundle_search_query_desktop').val().length == 0 && $('.left').is(":hidden")) 
            {
                closeSearchBar();
            }
            else if ($('.searchline2').width()>0 && $('.searchline2 #mymini_userinterfacebundle_search_query_desktop').val().length > 0)
            {
                $( ".submit_search" ).submit();
            }
        });

        if(window.location.href.replace(/\/+$/, "") == "https://www.myminifactory.com/".replace(/\/+$/, "")) {
            /* Avoiding default css on top nav on other pages than homepage */
            $('.top-bar.contain-to-grid.fixed.desktopbase').css({'top' : '0px'});
        }

        if($('.unreadmsgs').html() > 99){
            $('.unreadmsgs').html('99+')
            $('.unreadmsgs').css('font-size', '8px')
            $('.unreadmsgs').css('padding', '5px 0')
        }
        $('.unreadmsgs').click(function(e){
            e.preventDefault()
            window.location = "/messages/notification"
        })
    });

    function openSearchBar($hideMenu = false, $slow = true, width = 400) {
        if($hideMenu){
            $('.left').fadeOut(100); /* toggle the left navbar */
        }
        if($slow){
            setTimeout(function(){
                openSearchBarWithoutDelay(width);
            }, 100); /* timeout Necessary to avoid overiding between left nav and search bar */
        }else{
            openSearchBarWithoutDelay(width);
        }   
    }

    function openSearchBarWithoutDelay(width = 400){
        $('.topnav_search #mymini_userinterfacebundle_search_query_desktop').fadeIn(100); /* toggle the search field */
        $('.topnav_search .advsrch #search_button').removeClass('closed'); 
        $('.topnav_search').css({'width': width+'px', 'margin-right': '20px'});
        $('input[type=text]#mymini_userinterfacebundle_search_query_desktop').focus();
    }

    function closeSearchBar($slow = true){
        $('.topnav_search #mymini_userinterfacebundle_search_query_desktop').fadeOut(100); /* toggle the search field */
        $('.topnav_search').css({'width': '0px', 'margin-right': '85px'});
        if($slow) {
            setTimeout(function()
            {
                $('.left').fadeIn(100); /* toggle the left navbar */
                $('.left').css({'width': 'auto'});
                $('.topnav_search .advsrch #search_button').addClass('closed'); 
            }, 100);
        } else {
                $('.left').fadeIn(100); /* toggle the left navbar */
                $('.left').css({'width': 'auto'});
                $('.topnav_search .advsrch #search_button').addClass('closed'); 
        }
    }

    function setBarFromSize(init, mobileLogo = false){
        var sizeLeft = $('.title-area').outerWidth(true) + $('.left.navigationsection').outerWidth(true);
        var sizeRight = $('.login-main').outerWidth(true) + $('.register-main').outerWidth(true) + $('.li-basket.usermenuclick').outerWidth(true) + $('.has-dropdown.lang-menu').outerWidth(true) + $('.uploadbuttonmenu').outerWidth(true);
        var fullSizeRight = sizeRight + $('.searchline2.topnav_search').outerWidth(true);
        var topBarSize = $('.top-bar').outerWidth(true);
        var sizeRest = topBarSize - sizeLeft - sizeRight - 130;
        var sizeBrowser = 120;
        if (typeof InstallTrigger !== 'undefined'){
            sizeBrowser = 155;
        }

        if(sizeRest >= 280){
            openSearchBar(false, false, sizeRest);
            $('.left').fadeIn(100);
        }else if($('.left').is(":visible")){
            closeSearchBar();
        }
        if((sizeLeft + fullSizeRight) > topBarSize - sizeBrowser && (init || mobileLogo)){
            $('.top-bar-section').addClass('top-bar-section-small');
            if(init){
                setBarFromSize(false, true);
            }
            if((mobileLogo || init) && !$('#headerlogo').hasClass('logo-mobile')){
                $('#headerlogo').addClass('logo-mobile');
            }
        }
        $('.topnav_search').css({'opacity': '1'});
        if((sizeLeft + fullSizeRight) > topBarSize - sizeBrowser && $('.topnav_search .input-search-desktop').is(":hidden")){
            if(!$('.top-bar-section').hasClass('top-bar-section-small')){
                $('.top-bar-section').addClass('top-bar-section-small');
            }else if ($('.top-bar-section').hasClass('top-bar-section-small') && !$('#headerlogo').hasClass('logo-mobile')){
                $('#headerlogo').addClass('logo-mobile');
            }
        }else if ($('.top-bar-section').hasClass('top-bar-section-small') && $('.topnav_search .input-search-desktop').is(":visible") && !init && !mobileLogo){
            if((sizeLeft + fullSizeRight) < topBarSize - sizeBrowser){
                if(!$('#headerlogo').hasClass('logo-mobile')){
                    $('.top-bar-section').removeClass('top-bar-section-small');
                }
                $('#headerlogo').removeClass('logo-mobile');
                closeSearchBar();
            }
        }
        if($(window).width() > 1024){
            $('.off-canvas-wrap').foundation('offcanvas', 'hide', 'move-right');
            $('.off-canvas-wrap').foundation('offcanvas', 'hide', 'move-left');
        }
        if($(window).width() <= 1225){
            $('#headerlogo').addClass('logo-mobile');
        }
    }

</script>
          </div>

    <section class="main-section">

      
      <div id="main">
        <img src='https://cdn.myminifactory.com/static/images/loading.gif' style="display:none; position: fixed; left: 50%; top: 50%; z-index: 999;margin-left: -115px;margin-top: -100px;" id="everypageloader" />
            			                        	            	    						                                  	          	
	
	<div id="share-modal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
		<a id="popup-close-btn" class="close-reveal-modal close-x-button" aria-label="Close">&#215;</a>
		<h2 style = "">Share</h2>
		<h3>Social Networks</h3>
		<div id="socialshare" class="cleardiv greyscaleme" style="text-align:left;"></div>
		<hr/>
		<h3>Link</h3>
		<div class = "input-copy-div">
			<input type="text" id="link-to-copy" value="https://www.myminifactory.com/object/3d-print-fisher-s-house-pre-supported-141401" ></input>
			<a class="button tiny white mmfgreen copyBoard" data-element="link-to-copy">Copy</a>
		</div>
		<div class = "input-copy-div">
			<input type="text" id="shortlink-to-copy" value="mmf.io/o/141401" ></input>
			<a class="button tiny white mmfgreen shortcopyBoard" data-element="shortlink-to-copy">Copy</a>
		</div>
		<hr/>
		<h3>Embed</h3>
		<div>
			<textarea class = "input-copy-div" id="embeddedcode" style="width: 100%; height: 100px; margin-left: auto; margin-right: auto; font-size: 14px; resize: none; overflow: hidden; background: white;" onclick="this.focus();this.select()" readonly="readonly"><iframe width="230" height="285" style="overflow:hidden;" src="https://www.myminifactory.com/object/card/fisher-s-house-pre-supported-141401" frameborder="0" scrolling="no" allowtransparency></iframe></textarea>
			<a class="button tiny white mmfgreen copyBoard" data-element="embeddedcode">Copy</a>
		</div>
	</div>


	<div id="collection-modal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
		<script type="application/json" id="js-react-on-rails-context">{"serverSide":false,"href":"https:\/\/www.myminifactory.com\/object\/3d-print-141401","location":"\/object\/3d-print-141401","scheme":"https","host":"www.myminifactory.com","port":443,"base":"","pathname":"\/object\/3d-print-141401","search":null}</script><script type="application/json" class="js-react-on-rails-component" data-component-name="AddToCollectionModal" data-dom-id="sfreact-reactRenderer5fde7e63c6de33.01401676">{"objectID":141401,"UserCollectionWhichIncludeObjectIDArray":[],"collectionModalAPIURLs":{"getCollectionsURL":"\/api\/v2\/users\/maxthompson1\/collections","postNewCollectionURL":"\/api\/v2\/collection","saveObjectInCollectionURL":"\/api\/v2\/objects\/141401\/save","deleteObjectInControllerURL":"\/api\/v2\/collections\/XXX\/object\/141401"}}</script><div id="sfreact-reactRenderer5fde7e63c6de33.01401676"><div class="modalBackground" data-reactroot=""><div class="loading-flex"><div class="MuiCircularProgress-root MuiCircularProgress-colorPrimary MuiCircularProgress-indeterminate" style="width:13px;height:13px" role="progressbar"><svg class="MuiCircularProgress-svg" viewBox="22 22 44 44"><circle class="MuiCircularProgress-circle MuiCircularProgress-circleIndeterminate" cx="44" cy="44" r="20.2" fill="none" stroke-width="3.6"></circle></svg></div><p>Loading</p></div></div></div>
	</div>

			
	<div class="obj-container">
		<div class="small-12 columns text-center">
			<h1 class="obj-title hide-for-large-up margin-b-10">
                Fisher&#039;s House (Pre-Supported)
                			</h1>
			<p class="date_published_p remix_subtitle_p hide-for-large-up">
									Published <span class="date_published_ISO_8601" >2020-12-18T20:53:36+00:00</span>
											</p>
		</div>
		<!-- Container Left -->
		<div class="small-12 large-7 columns">
			<!-- Images / Viewer -->
			<div class="small-12 columns">
				<!-- Primary Gallery -->
                					<ul class="slide-prdimg-gallery hide">
                        							<div>
								<img class="prdimg-gallery" data-picked="" data-id="707794" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-castnplay.jpg" src="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-castnplay.jpg" alt="Fisher&#039;s House (Pre-Supported) image"/>
							</div>
                        							<div>
								<img class="prdimg-gallery" data-picked="" data-id="683773" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-fishers.jpg" src="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-fishers.jpg" alt="Fisher&#039;s House (Pre-Supported) image"/>
							</div>
                        							<div>
								<img class="prdimg-gallery" data-picked="" data-id="707792" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-playableinteriors-castnplay.jpg" src="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-playableinteriors-castnplay.jpg" alt="Fisher&#039;s House (Pre-Supported) image"/>
							</div>
                        							<div>
								<img class="prdimg-gallery" data-picked="" data-id="707793" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-parts-castnplay.jpg" src="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-parts-castnplay.jpg" alt="Fisher&#039;s House (Pre-Supported) image"/>
							</div>
                        					</ul>
					                				<div class="prdimg">
					<div class="text-center vertical" id="loader-gallery">
						<img src="https://static.myminifactory.com/images/ajax-loader.gif?v108" alt="Loader"/>
					</div>
                                        																								</div>
			</div>
            			<div class="small-12 columns">
				<ul class="small-gallery hide">
											<li class="smimg-gallery" data-slick-index="0" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-castnplay.jpg" style="background:url('https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-castnplay.jpg') center center;  background-size: contain;" data-picked=""></li>
											<li class="smimg-gallery" data-slick-index="1" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-fishers.jpg" style="background:url('https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-fishers.jpg') center center;  background-size: contain;" data-picked=""></li>
											<li class="smimg-gallery" data-slick-index="2" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-playableinteriors-castnplay.jpg" style="background:url('https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-playableinteriors-castnplay.jpg') center center;  background-size: contain;" data-picked=""></li>
											<li class="smimg-gallery" data-slick-index="3" id="https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-parts-castnplay.jpg" style="background:url('https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/70X70-kot-fishershouse-parts-castnplay.jpg') center center;  background-size: contain;" data-picked=""></li>
									</ul>
			</div>
            			<!-- Categories -->
			<div class="row limit-columns margin-t-10">
				<div class="small-12 columns">
					<div class="tree-parents">
											<ol itemscope itemtype="http://schema.org/BreadcrumbList">
																																																																																	<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
									<meta itemprop="position" content="1" />
									<a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/tabletop" href="https://www.myminifactory.com/category/tabletop"><span itemprop="name">Tabletop</span></a><span style="margin-left: 3px; margin-right: 3px;">></span></li> 																		<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><meta itemprop="position" content="2" /><a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/tabletop-terrain" href="https://www.myminifactory.com/category/tabletop-terrain">
									<span itemprop="name">3D Printable Terrain</span></a>
									<span class="txt-obj-grey" style="margin-left: 3px; margin-right: 3px;">|</span></li>																																																																				<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><meta itemprop="position" content="2" /><a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/tabletop" href="https://www.myminifactory.com/category/tabletop">
									<span itemprop="name">Tabletop</span></a>
									<span class="txt-obj-grey" style="margin-left: 3px; margin-right: 3px;">|</span></li>																																																																				<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><meta itemprop="position" content="3" /><a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/store" href="https://www.myminifactory.com/category/store">
									<span itemprop="name">Store</span></a>
									<span class="txt-obj-grey" style="margin-left: 3px; margin-right: 3px;">|</span></li>																																																																																									<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
									<meta itemprop="position" content="1" />
									<a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/tabletop" href="https://www.myminifactory.com/category/tabletop"><span itemprop="name">Tabletop</span></a><span style="margin-left: 3px; margin-right: 3px;">></span></li> 										<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
									<meta itemprop="position" content="2" />
									<a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/tabletop-terrain" href="https://www.myminifactory.com/category/tabletop-terrain"><span itemprop="name">3D Printable Terrain</span></a><span style="margin-left: 3px; margin-right: 3px;">></span></li> 																		<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><meta itemprop="position" content="3" /><a itemscope itemtype="http://schema.org/Thing" itemprop="item" itemid="https://www.myminifactory.com/category/fantasy-terrain" href="https://www.myminifactory.com/category/fantasy-terrain">
									<span itemprop="name">Fantasy Terrain</span></a>
																														</ol>
										</div>
				</div>
			</div>
			<!-- Flags -->
			<div class="row limit-columns">
								<div class="small-12 columns datanumbers">
					<span class="txt-obj-grey txt-views" title="Views">
						<span class="statsnumber" >408 </span>
						<span>views </span>
					</span>
									</div>
			</div>
			<!-- Collections -->
			<div class="row limit-columns margin-t-10">
				<div class="container-collections">
										<span class="pointer btn-action btn-click-r" title="Fisher&#039;s House (Pre-Supported) is in 1 Collections" id="modal-collections-object">
					<i class="fa fa-tags" aria-hidden="true"></i>
					<span class="collectionsnumber" >1 </span>
						collection					</span>
									</div>
			</div>
			<!-- Google adv between community prints and comments -->
            				<div class="row limit-columns container-amazon">
					<ins class="adsbygoogle"
					style="display:block;"
					data-ad-client="ca-pub-4138683835438948"
					data-ad-slot="7931502708"
					data-ad-format="auto"
					data-full-width-responsive="true"></ins>
					<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
				</div>
						<!-- Community Prints -->
			<div class="row limit-columns margin-t-20" id="toComments">
				<div class="small-12 columns">
					<span class="txt-obj-grey"><i class="fa fa-picture-o" aria-hidden="true"></i> Community Prints</span>
					<a class="right upload-prints"
					   title="Upload Prints for Fisher&#039;s House (Pre-Supported)"   id="upload_object_prints"  href="/prints/create-prints/141401"  >
						<i class="fa fa-plus" aria-hidden="true"></i>
						<span> Add your picture</span>
					</a>
					<hr>
					<div class="container-user-print">
            								<span class="txt-obj-grey">Be the first to share a picture of this printed object</span>
										</div>
				</div>
			</div>
			<!-- Comments -->
							<div class="row limit-columns  user-card-container" id="container-comments">
					<div class="small-12 columns margin-t-20">
						<span class="infotitle title-comments txt-obj-grey"><i class="fa fa-comment" aria-hidden="true"></i> <span class="noComments">0</span> comments</span>
						<hr>
						<div class="infocontent">
							<div class="row" id="comment-Object-public-141401" style="margin: 10px 0 0 0; padding: 0;">
    <style>
        div.comment > div.row {margin-left: 50px;}
        .commentuserimg {overflow: hidden;border-radius: 50%;display: block;border: 1px solid #ccc;}
        .comment_data {font-size:0.8rem; margin-bottom: 15px;}
        .replylink {margin-top: 10px;float: left;font-size: 0.8rem; padding: 4px 0 10px; display:block; width:100%;}
        .cusername {font-size:0.8rem;}
        .avatar {float: left; margin-right: 10px; margin-top: 5px;}
        .comment {overflow:hidden;}
        .hasaparent .hasaparent>.comment {margin-left: -52px;}
        .deletedcomment > .message > span,
        .deletedcomment > .message > .cusername,
        .deletedcomment > .message > .comment_data,
        .deletedcomment > .avatar {opacity: 0.5;}
        .edit-message, .delete-message, .approve-message {margin:0 3px;float: right;}
        .deletedcomment > .message > .delete-message,
        .deletedcomment > .message > .edit-message {display:none;}
        :not(.deletedcomment) > .message > .approve-message {display:none;}
        .ajax-upload-dragdrop {
            position: absolute;
            right: 15px;
            width: 34px;
            height: 40px;
            cursor: pointer;
            border: 0 !important;
            color: grey;
            margin: 0;
        }
        .ajax-upload-dragdrop i{
            position: absolute;
            top: 18px;
            right: 10px;
        }
        .ajax-file-upload, .ajax-file-upload form {
            width: 100%;
            cursor: pointer;
            height: 100%;
            background: transparent;
        }
        .ajax-file-upload:hover{
            background: transparent;
        }
        .ajax-file-upload-statusbar{
            border: 1px solid #ccc;
            padding: 10px;
        }
        .ajax-file-upload-filename{
            color: #6b6b6b;
            display: inline;
            padding-top: 10px;
        }
        .ajax-file-upload-progress {
            margin: 0;
            width: 70%;
            background: white;
            border: 1px solid #989898;
            float: left;
            height: 15px;
            margin-top: 4px;
            margin-right: 5px;
        }
        .ajax-file-upload-bar {
            background-color: #3fbc9c;
            height: 100%;
        }
        .ajax-file-upload-red {
            color: red;
            text-transform: uppercase;
            cursor: pointer;
        }
        #attachments_ul li, #attachments_replyedit_ul li {position:relative;}
        #attachments_ul li a, #attachments_replyedit_ul li a {
            position: absolute;
            top: 3px;
            right: 13px;
            width: initial;
            color: red;
        }
        #comment_row {
            overflow: auto;
            margin: 0;
        }
        .container-loader{
            text-align: center;
        }
        .edit-attachments{
            min-height: 200px;
        }
        .red-cross:hover {
            color: red !important;
        }
        #comments-loader{
            color: rgb(107, 107, 107);
        }
    </style>

            <link href="https://static.myminifactory.com/js/fancybox/jquery.fancybox.css?v108"/>
<script src="https://static.myminifactory.com/js/fancybox/jquery.fancybox.js?v108"></script>
<script src="https://static.myminifactory.com/js/autolinker.min.js?v108"></script>
<script src="https://static.myminifactory.com/js/jquery.uploadFile_from_comments_helpers.js?v108"></script>
<script type="text/javascript">


    $(document).ready(function() {
        $('a.commentimagelink').fancybox({
            padding: 0,
            autoScale: true,
            width: 580,
            height: 580,
            helpers: {
                overlay: {
                    locked: false
                }
            }
        });
    });

    function formatDateToHumanReadable(date) {
        const diff =  Math.round(new Date() - new Date(date));
        const seconds =  Math.round(diff / 1000);
        const minutes = Math.round(seconds / 60);
        const hours = Math.round(minutes / 60);
        const days = Math.round(hours / 24);
        const months = Math.round(days / 30);
        const years = Math.round(months / 12);

        if(years >= 1)
            return years + (years > 1 ? ' years' : ' year') + ' ago';
        else if(months >= 1)
            return months + (months > 1 ? ' months' : ' month') + ' ago';
        else if(days >= 1)
            return days + (days > 1 ? ' days' : ' day') + ' ago';
        else if(hours >= 1)
            return hours + (hours > 1 ? ' hours' : ' hour') + ' ago';
        else if(minutes >= 1)
            return minutes + (minutes > 1 ? ' minutes' : ' minute') + ' ago';
        else if(seconds >= 1)
            return seconds + (seconds > 1 ? ' seconds' : ' second') + ' ago';
        else
            return 'now';
    }

    function isImage(filename) {
        filename = filename.toLowerCase();
        return filename.match(/\.(jpg|jpeg|png|gif)$/) || filename.match(/\.(jpg|jpeg|png|gif)$/) + '?';
    }

    var print_comment = 0;
    
    function buildComment(comment, buildInModal) {
        buildInModal = buildInModal || false;
        let isAdmin = false;
        let replied = '';
        let hasParent = '';

        if(comment['parent_comment_id'] && comment['parent_comment_id'] != print_comment) {
            const username_replied = $('#username-' + comment['parent_comment_id']).text();
            const user_show_replied = '/users/XXXXXXXX'.replace('XXXXXXXX', username_replied);
            replied =
                '<span class="repliedto under-hover" style="font-style: italic;">' +
                '<a class="user-card" data-username="' + username_replied + '" href="' + user_show_replied + '" title="' + username_replied + ' profile">@' + username_replied + '</a>: ' +
                '</span>';
            hasParent = 'hasaparent';
        }

        let attachments = '';
        var index = 0;
        if((comment.attachments && comment.attachments.length > 0) && (comment.status !== 2 || isAdmin)) {
            comment.attachments.forEach(function(element) {
                let img;
                if(isImage(element.original.url)){
                    if(!element.original.url.includes("http")) {
                        if (comment.is_print == false){
                            element.thumbnail = {}
                            element.thumbnail.url = "https://cdn.myminifactory.com/uploads/comment-thumbnails/" + element.original.url
                            element.original.url = "https://cdn.myminifactory.com/uploads/comment/" + element.original.url
                        } else {
                            element.thumbnail = {}
                            element.thumbnail.url = "https://cdn.myminifactory.com/uploads/object-print-thumbnails/" + element.original.url
                            element.original.url = "https://cdn.myminifactory.com/uploads/object-print/" + element.original.url
                        }
                    }
                        let thumbnail = element.thumbnail ? element.thumbnail.url :  element.original.url;
                        img = '<img data-name="' + element.original.url + '" data-uid="' + element.upload_id + '" ' +
                        'class="commentimage" src="' + thumbnail + '" alt="attached comment image" >';
                }
                else
                    img = '<img src="https://static.myminifactory.com/images/icons/zip.png?v108" alt="attached archive"/>';
                    if (comment.is_print == true && (comment.print_status == 2 || comment.print_status == 1)) {
                        attachments += '<li style="padding: 10px 5px 0 5px"><a href="' + element.original.url + '" class="commentprintimagelink" data-comment="'+comment['id']+'" data-gallery="'+comment['print_id']+'" data-index="'+ index +'">' + img + '</a></li>';
                        index += 1;
                    } else {
                    attachments += '<li style="padding: 10px 5px 0 5px"><a href="' + element.original.url + '" class="commentimagelink">' + img + '</a></li>';
                    }
            })
        }

        const hiddenPrint = comment.is_print ? '<input type="hidden" name="isprint" value=true>' : '';

        if(comment.user === undefined) {
            comment.user = comment['posted_by'];
            comment.user.avatar_thumbnail_url = 'https://cdn.myminifactory.com/uploads/profile-images/' + comment['posted_by'].image;
        }

        var source = '';

        if(comment.metadata !== null){
            if(comment.metadata.client_id == 104){
                source = ' &bull; via <a target="_blank" href="https://play.google.com/store/apps/details?id=com.myminifactoryapps"> Android app</a>';
            }
            if(comment.metadata.client_id == 105){
                source = ' &bull; via <a target="_blank" href="https://itunes.apple.com/us/app/myminifactory/id1313773617"> iOS app</a>';
            }
        }

        let returnData = '<div class="comment ' + (comment.status === 2 ? 'deletedcomment' : '') + '" id="comment-' + comment.id + '" style="clear: both;">' +
            '<div class="avatar">'+
            '<a href="' + '/users/USERNAME'.replace('USERNAME', comment.user.username) + '" class="commentuserimg user-card" data-username="'+comment.user.username+'" style="width:42px; height:42px;" target="_blank">'+
            '<img src="' + comment.user.avatar_thumbnail_url + '"/>'+
            '</a>'+
            '</div>'+
            '<div class="message" style="display:block; float:left; width: calc(100% - 60px); position:relative; margin-">'+
            '<a href="' + '/users/USERNAME'.replace('USERNAME', comment.user.username) + '" class="cusername user-card" data-username="'+comment.user.username+'" style="font-weight:bold;" target="_blank" id="username-'+comment.id+'">' + comment.user.username + '</a>' +
            (comment.user.is_premium?'<span><img style="margin-left: 0.4em; height: 1.12em; width: 1.12em;" src="https://cdn2.myminifactory.com/assets/images/general/MMFPlus-Badge.png" title="MMF+ Subscriber"/>':"") +
            '<span class="mmfgreyt2" style="font-size:0.7rem;"> &bull; ' + comment.user.name+' &bull; '+ 
            formatDateToHumanReadable(comment['date_posted'])+source+'</span>';

        if (comment.is_print == true && (comment.print_status == 2 || comment.print_status == 1) ) { //Add a Print subtitle after the posting date for this comment
            if (buildInModal){
                returnData += '<span class="print-logo" style="font-size:0.7rem; color: #3fbc9c; float: right"><a class="commentprintimagelink" data-comment="'+comment.id+'" href="javascript:void(0);" data-gallery="'+comment.print_id+'"><img src="https://static.myminifactory.com/images/3d-print.svg?v108" title="This is a Print" style="width: 14px"></img></a></span>';
            } else {
                returnData += '<span class="print-logo" style="font-size:0.7rem; color: #3fbc9c; float: right"><a class="commentprintimagelink" data-comment="'+comment.id+'" href="javascript:void(0);" data-gallery="'+comment.print_id+'"><img src="https://static.myminifactory.com/images/3d-print.svg?v108" title="This is a Print" style="width: 14px"></img><span style="font-size: 12px">'
                    + ' Community Print' + '</span></a></span>';
            }
        }

                    if(comment.user.username === 'maxthompson1' || isAdmin) {
                if (buildInModal){
                    returnData +=
                        '<div class="edit-message" id="edit-' + comment.id + '">' +
                        '<a class="mmfgreyt" href="javascript:void(0);" onclick="editComment(' + comment.id + ', \'' + comment['foreign_entity_type'] + '\', ' + comment['foreign_entity_id'] + ')"><i class="fi-page-edit mmfgreyt"></i></a>' +
                        '</div>' +
                        '<div class="delete-message" id="delete-' + comment.id + '">' +
                        '<a href="javascript:void(0);" onclick="deleteComment(' + comment.id + ', \'' + comment['foreign_entity_type'] + '\', ' + comment['foreign_entity_id'] + ')" class="mmfgreyt"><i class="fi-x mmfgreyt"></i></a>' +
                        '</div>';
                }
                else {
                    returnData +=
                        '<div class="edit-message" id="edit-' + comment.id + '">' +
                        '<a class="mmfgreyt" href="javascript:void(0);" onclick="editComment(' + comment.id + ')"><i class="fi-page-edit mmfgreyt"></i></a>' +
                        '</div>' +
                        '<div class="delete-message" id="delete-' + comment.id + '">' +
                        '<a href="javascript:void(0);" onclick="deleteComment(' + comment.id + ')" class="mmfgreyt"><i class="fi-x mmfgreyt"></i></a>' +
                        '</div>';
                }

                if(isAdmin)
                    returnData +=
                        '<div class="approve-message" id="approve-' + comment.id + '">'+
                        '<a href="javascript:void(0);" onclick="approveComment(' + comment.id + ', \'' + comment['foreign_entity_type'] + '\', ' + comment['foreign_entity_id'] + ')" class="mmfgreyt"><i class="fa fa-check mmfgreyt"></i></a>'+
                        '</div>';
            }
            let reply = '';
            if(comment.status !== 2 && comment.is_print) { //change the entity type & id, and replyToPrint = true
                reply = '<div><a href="javascript:void(0);" class="mmfgreyt2 replylink" onclick="replyComment(' + comment.id + ', \''+ 'Prints' + '\', ' + comment['print_id'] + ', true ' + ')">' +
                    '<i class="fi-comment"></i>&nbsp;Reply</a></div>';
            }
            else if (comment.status !== 2) {
                if (buildInModal == true){
                    reply = '<div><a href="javascript:void(0);" class="mmfgreyt2 replylink" onclick="replyComment(' + comment.id + ', \''+ comment['foreign_entity_type'] + '\', \'' + comment['foreign_entity_id'] + '\', false' + ', true )">' +
                        '<i class="fi-comment"></i>&nbsp;Reply</a></div>';
                } else {
                    reply = '<div><a href="javascript:void(0);" class="mmfgreyt2 replylink" onclick="replyComment(' + comment.id + ', \''+ comment['foreign_entity_type'] + '\', \'' + comment['foreign_entity_id'] + '\')">' +
                        '<i class="fi-comment"></i>&nbsp;Reply</a></div>';
                }
            }
        
        returnData += '<div style="margin: 0 3px;float: right;">' +
        '<a href="javascript:void(0);" data-entity="Comment" data-reveal-id="reportModal" data-id="'+comment.id+'" title="Report the Comment" class="reportButton" style="opacity:  0.8;">		' +
        '<i class="fa fa-flag" aria-hidden="true"></i>' +
        '</a></div>';

        return returnData +
            '<hr style="margin: 5px 0;"/>'+
            '<div class="comment_data">'+
            '<span class="comment_data_replied">' + replied + '</span>'+
            '<span class="comment_data_text">' + Autolinker.link(escapeHTML(comment.comment)) + '</span>' +
            '<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-4 comment_images">' + attachments + '</ul>' +
            hiddenPrint +  reply +             '</div>'+
            '<div id="reply-' + comment.id + '" class="' + hasParent + '"></div></div></div></div>';
    }

    
    function replyComment(parentId, foreignType, foreignId, replyToPrint, replyInModal) {

        replyToPrint = replyToPrint || false; //default to false
        replyInModal = replyInModal || false;
        $('.edit').remove();
        $('.edit-message').hide();
        $('.delete-message').hide();
        $('.replylink').hide();
        $('#post-comment-submit').attr('disabled', 'disabled');

        const form =
            '<form name="form" method="post"' + 'action="' + '/api/v2/comment' + '"' + 'class="reply" style="margin-top: 20px;">' +
            '<div style="float:left;">'+
            '<img src="https://cdn.myminifactory.com//uploads/profile-thumbnails/6def27194753230cc5298b72ba544ad2cc378cc9.jpg" class="commentuserimg" style="width:42px;"/>'+
            '</div>'+
            '<div class="small-9 columns">' +
            '<textarea id="form_reply_comment" name="comment" required="required" row="4" style="float:left; width:100%; margin:auto; display:block; padding:10px 40px 10px 10px; resize:none; margin-bottom: 20px; height: 50px;"/>' +
            '<div id="uploadattachmentreplyedit"></div>' +
            '</div>' +
            '<div class="small-only-text-center container-actions-edit">' +
            '<button type="submit" style="margin-right: 3px;" id="form_submit" name="submit" class="tiny radius mmfgreen">&#10003;</button>' +
            '<button type="button" class="tiny alert radius cancel-edit" id="cancel-' + parentId + '">X</button>' +
            '</div>' +
            '<select id="attachmentsreplyedit" name="attachments[]" multiple style="display: none;"></select>' +
            '<ul id="attachments_replyedit_ul" class="small-block-grid-2 medium-block-grid-3 large-block-grid-4"></ul>' +
                        '<div id="is-print-reply" style="display:none;"><input type="checkbox" onchange="changeIsPrintReply(this);" id="checkIsPrintReply" checked="checked"> Is it a print picture of the object?<br></div>' +
            '<div id="prints-options-reply" style="display:none;"></div>' +
                        '</form>';

        let parents = $('[id="reply-' + parentId + '"]');
        const tempArr = [];
        tempArr.push('reply-' + parentId);
        while($(parents).attr('id') !== 'comment_list'){
            parents = $(parents).parent();
            if($(parents).attr('id') && $(parents).attr('id')!="comment_row_subsection" && $(parents).attr('id')!="comment_list_subsection"){
                tempArr.push($(parents).attr('id'));
            }
        }
        tempArr.reverse();
        $('#form_reply_comment').parent().parent().remove();
        // const item = tempArr.length === 3 ? $('[id="'+tempArr[2]+'"]') : $('[id="'+tempArr[4]+'"]');
        var item = tempArr.length === 3 ? $('#'+tempArr[2]) : $('#'+tempArr[4]);

        if (replyInModal){
            item = '#print-comments-section [data-print-id="'+foreignId+'"] ' +item['selector'];
            $(item).append(form);
            // $('#print-comments-section [data-print-id="'+foreignId+'"] ' +item['selector']).append(form);
        }
        else {
            $(item).append(form);
        }

        const textareaReplyComment = $('#form_reply_comment');
        textareaReplyComment.focus();
        $(item).find('.reply').bind('submit', function() {
            const buttons = $('.container-actions-edit');
            buttons.empty();
            $('#post-comment-loader').clone().appendTo(buttons).show();

            const attachments = [];
            $('#attachmentsreplyedit option:selected').each(function(index, element) {
                element = $(element);
                attachments.push({
                    'upload_id': element.val(),
                    'filename': element.text()
                });
            });
            var IdGiven = parentId;
            /*if (replyToPrint){
                IdGiven = null;
            }*/
            $.ajax({
                url: $(this).attr('action'),
                type: 'post',
                data: {
                    comment: textareaReplyComment.val(),
                    attachments: attachments,

                    object_type: foreignType,
                    object_id: foreignId,

                    parent_id: IdGiven,
                                        is_print: $('[id="checkIsPrintReply"]').is(':visible') && $('#checkIsPrintReply').is(':checked'),
                    machine: $('[id="prints-options-reply"] [id="mymini_3dbundle_print_printedOn"] option:selected').val(),
                    material: $('[id="prints-options-reply"] [id="mymini_3dbundle_print_material"] option:selected').val()
                                    },
                success:function(comment) {
                    if(comment) {
                        $(item).append(buildComment(comment));
                        const commentsCounter = $('.noComments');
                        commentsCounter.text(parseInt(commentsCounter.first().text()) + 1);
                    }
                }
            }).always(function() {
                $('.reply').remove();
                $('button').attr('disabled', false);
                $('.edit-message:not(.deleted)').show();
                $('.delete-message').show();
                $('.replylink').show();
            });
            return false;
        });

        $('.cancel-edit').on('click', function() {
            $('.reply').remove();
            $('button').attr('disabled', false);
            $('.edit-message:not(.deleted)').show();
            $('.delete-message').show();
            $('.replylink').show();
        });

        $("#uploadattachmentreplyedit").uploadFile({
            url: '/api/v2/image',
            dragDrop: true,
            dragDropStr: '<i class="fa fa-camera" aria-hidden="true"></i>',
            fileName: 'file',
            autoSubmit: true,
            allowedTypes: 'jpg,png,gif,jpeg',
            showStatusAfterSuccess: false,
            returnType: 'json',
            onSuccess: function(files, data) {
                data.forEach(function(image) {
                    appendCommentReplyImage(image, true);
                });
            },
            showDelete: false
        });
    }

    function editComment(commentId, foreignType, foreignId) {
        foreignPrintId = foreignId || null;
        $('.edit').remove();
        $('.edit-message').hide();
        $('.delete-message').hide();
        $('.replylink').hide();
        $('#post-comment-submit').attr('disabled', 'disabled');

        var commentContent = $('#comment-' + commentId + '> .message > .comment_data');
        if (foreignPrintId !== null){
            commentContent = $('#print-comments-section[data-print-id="'+foreignPrintId+'"] #comment-' + commentId + '> .message > .comment_data');
        }

        const isPrint = commentContent.find('input[name="isprint"]').val() === 'true';
        const imagesList = commentContent.find('.comment_images li');

        const form =
            '<form name="form" method="PATCH"' + 'action="' + '/api/v2/comments/ID'.replace('ID', commentId) + '" class="edit">' +
            '<div class="small-8 columns">' +
            '<textarea id="form_edit_comment" name="comment" required="required" rows="4" style="float:left; width:100%; margin:auto; display:block; padding:10px 40px 10px 10px; resize:none; margin-bottom: 20px; height: 50px;">' +
            $(commentContent).find('.comment_data_text').first().text() +
            '</textarea>' +
            '<div id="uploadattachmentreplyedit"></div></div>' +
            '<div class="small-only-text-center container-actions-edit">'+
            '<button type="submit" style="margin-right: 3px;" id="form_submit" name="submit" class="tiny radius mmfgreen">&#10003;</button>' +
            '<button type="button" class="tiny alert radius cancel-edit" id="cancel-' + commentId + '">X</button>' +
            '</div>' +
            '<select id="attachmentsreplyedit" name="attachments[]" multiple style="display: none;"></select>' +
            '<div class="small-12 columns ' + (imagesList.length > 0 ? 'edit-attachments' : '') + '">' +
            '<ul id="attachments_replyedit_ul" class="small-block-grid-2 medium-block-grid-3 large-block-grid-4"></ul>'+
            '</div>' +
            '<input name="_method" type="hidden" value="PATCH">' +
            '</form>';

        const oldContent = commentContent.html();
        commentContent.empty();
        commentContent.append(form);

        imagesList.each(function(key, value) {
            const image = $(value).find('.commentimage');
            appendCommentReplyImage({
                filename: image.data('name'),
                url: image.attr('src'),
                upload_id: image.data('uid')
            }, false);
        });

        $('#prints-options-reply').show();
        $('#form_edit_comment').focus();

        commentContent.find('.edit').bind('submit', function() {
            const buttons = $('.container-actions-edit');
            buttons.empty();
            $('#post-comment-loader').clone().appendTo(buttons).show();

            const attachments = [];
            $('[id="attachmentsreplyedit"] option:selected').each(function(index, element) {
                element = $(element);
                attachments.push({
                    'upload_id': element.val(),
                    'filename': element.text()
                });
            });

            $.ajax({
                url: $(this).attr('action'),
                type: 'PATCH',
                data: {
                    comment: $('#form_edit_comment').val(),
                    attachments: attachments,
                    is_print: isPrint,
                    object_type: foreignType,
                    object_id: $('#entityid').val()
                },
                success: function(comment) {
                    if(comment)
                        commentContent.replaceWith('<div class="comment_data">' + $(buildComment(comment)).find('.message > .comment_data').html() + '</div>');
                }
            }).always(function() {
                $('button').attr('disabled', false);
                $('.edit-message:not(.deleted)').show();
                $('.delete-message').show();
                $('.replylink').show();
                $('#comment-' + commentId).find('#post-comment-loader').remove();
            });
            return false;
        });

        $('.cancel-edit').on('click', function() {
            commentContent.empty();
            commentContent.append(oldContent);
            $('button').attr('disabled', false);
            $('.edit-message:not(.deleted)').show();
            $('.delete-message').show();
            $('.replylink').show();
        });

        $('#uploadattachmentreplyedit').uploadFile({
            url: '/api/v2/image',
            dragDrop: true,
            dragDropStr: '<i class="fa fa-camera" aria-hidden="true"></i>',
            fileName: 'file',
            autoSubmit: true,
            allowedTypes: 'jpg,png,gif,jpeg',
            showStatusAfterSuccess: false,
            returnType: 'json',
            onSuccess: function(files, data) {
                data.forEach(function(image) {
                    appendCommentReplyImage(image, false);
                });
            },
            showDelete: false
        });
    }

    function deleteComment(commentId, foreignPrintId) {
        foreignPrintId = foreignPrintId || null;
        $.ajax({
            url: '/comment/delete/XXX'.replace('XXX', commentId),
            success: function() {
                const commentNode = $('#comment-' + commentId);
                const editNode = $('#edit-' + commentId);
                commentNode.addClass('deletedcomment');
                commentNode.find('.replylink').remove();
                editNode.addClass('deleted');
                editNode.hide();
                $('#delete-' + commentId).hide();
                $('#approve-' + commentId).show();

                if (foreignPrintId !== null) { //Do the same in Print Modal
                    const commentPrintNode = $('#print-comments-section[data-print-id="'+foreignPrintId+'"] #comment-' + commentId);
                    const editPrintNode = $('#print-comments-section[data-print-id="'+foreignPrintId+'"] #edit-' + commentId);
                    commentPrintNode.addClass('deletedcomment');
                    commentPrintNode.find('.replylink').remove();
                    editPrintNode.addClass('deleted');
                    editPrintNode.hide();
                    $('#print-comments-section[data-print-id="'+foreignPrintId+'"] #delete-' + commentId).hide();
                    $('#print-comments-section[data-print-id="'+foreignPrintId+'"] #approve-' + commentId).show();
                }
            }
        });
    }

    function approveComment(commentId, foreignType, foreignId) {
        $.ajax({
            url: '/comment/approve/ID'.replace('ID', commentId),
            success: function() {
                const commentNode = $('#comment-' + commentId);
                const editNode = $('#edit-' + commentId);
                commentNode.removeClass('deletedcomment');
                commentNode.find('.comment_data').append('<div><a href="javascript:void(0);" class="mmfgreyt2 replylink" onclick="replyComment(' + commentId + ', ' + foreignType +', ' + foreignId + ')"><i class="fi-comment"></i>&nbsp;Reply</a></div>');
                editNode.removeClass('deleted');
                editNode.show();
                $('#delete-' + commentId).show();
                $('#approve-' + commentId).hide();

                if (foreignType == "Prints" && foreignId !== null) { //Approve also in comment Modal
                    const commentPrintNode = $('#print-comments-section [data-print-id="'+foreignId+'"] #comment-' + commentId);
                    const editPrintNode = $('#print-comments-section [data-print-id="'+foreignId+'"] #edit-' + commentId);
                    commentPrintNode.removeClass('deletedcomment');
                    commentPrintNode.find('.comment_data').append('<div><a href="javascript:void(0);" class="mmfgreyt2 replylink" onclick="replyComment(' + commentId + ', ' + foreignType +', ' + foreignId + ')"><i class="fi-comment"></i>&nbsp;Reply</a></div>');
                    editPrintNode.removeClass('deleted');
                    editPrintNode.show();
                    $('#print-comments-section [data-print-id="'+foreignId+'"] #delete-' + commentId).show();
                    $('#print-comments-section [data-print-id="'+foreignId+'"] #approve-' + commentId).hide();
                }
            }
        });
    }

    function appendCommentReplyImage(image, isReply) {
        $('#attachmentsreplyedit').append('<option selected value="' + image['upload_id'] + '">' + image['filename'] + '</option>');
        $('#attachments_replyedit_ul').append(
            '<li>' +
            '<img src="' + image['url'] + '"/>' +
            '<a class="red-cross" href="javascript:void(0);" onclick="deleteCommentReplyImage(\'' + image['upload_id'] + '\')" id="' + image['upload_id'] + '">' +
            '<i class="fi-x-circle large" style="font-size: 30px; line-height: 30px;"></i>' +
            '</a>' +
            '</li>'
        );
                if(isReply && $('[id="attachments_replyedit_ul"] li').length === 1) {
            $('#is-print-reply').show();
            $.ajax({
                url: '/prints/create-prints-form/141401'
            }).done(function(data) {
                const options = $('#prints-options-reply');
                options.empty();
                options.append(data);
                options.show();
            });
        }
            }

    function changeIsPrintReply(checkbox) {
        const options = $('#prints-options-reply');
        checkbox.checked ? options.show() : options.hide();
    }

    function deleteCommentReplyImage(uid) {
        $('[id="' + uid + '"]').parent().remove();
        $('#attachmentsreplyedit').find('option[value="' + uid + '"]').remove();
        if($('[id="attachments_replyedit_ul"] li').length === 0) {
            $('#is-print-reply').hide();
            $('#prints-options-reply').hide();
        }

        $.ajax({
            url: '/api/v2/image?upload_id=UID'.replace('UID', uid),
            method: 'DELETE'
        });
    }

    
    function bindImagePopup() {
        $('.commentimage').click(function() {
            const src = $('.commentimage').attr('src').replace('url(', '').replace(')', '').replace('comment-thumbnails', 'comment');
            try {
                $(document).foundation()
            } catch(err) {
                window.open(src, '_blank');
            }

            $.fancybox({
                'padding'		: 0,
                'autoScale'		: true,
                'width'			: 580,
                'height'		: 580,
                'href'			: src
            }).trigger('click');
        });
    }

    function escapeHTML(s, forAttribute) {
        const ESC_MAP = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;'
        };

        forAttribute = (typeof forAttribute !== 'undefined') ? forAttribute : true;
        s = s.replace(forAttribute ? /[&<>'"]/g : /[&<>]/g, function(c) {
            return ESC_MAP[c];
        });
        return s.replace(/(?:\r\n|\r|\n)/g, '<br>');
    }

    Object.size = function(obj) {
        let size = 0;
        for(let key in obj)
            if(obj.hasOwnProperty(key)) size++;
        return size;
    };
</script>
    
        <form name="form" method="post" action="/api/v2/comment" class="new" style="margin-bottom: 20px;">        <div class="row" style="margin:0;">
            <div id="post-comment-avatar" class="small-2 medium-2 large-1 columns">
                <div class="avatar" style="width:42px;">
                                            <a href="/users/maxthompson1" class="commentuserimg" style="width:42px;" target="_blank">
                            <img src="https://cdn.myminifactory.com/uploads/profile-thumbnails/6def27194753230cc5298b72ba544ad2cc378cc9.jpg"/>
                        </a>
                                    </div>
            </div>
            <div class="small-7 medium-7 large-9 columns">
                <textarea id="formnewcomment" data-id="141401" title="comment" name="comment" required="required" rows="4" style="float:left; width:100%; margin:auto; display:block; padding:10px 40px 10px 10px; resize:none; margin-bottom: 20px; height: 50px;"></textarea>
                                                        <div id="uploadattachment"></div>
                            </div>
            <div class="small-3 medium-3 large-2 columns" style="padding: 0;">
                <button type="submit" id="post-comment-submit" data-id="141401" name="submit" class="right radius mmfgreen expand" style="height:50px; font-size: 13px;">Comment</button>
            </div>
        </div>
        <div class="row" style="margin:0;">
            <div class="small-12 columns">
                <select id="attachments" title="attachments" name="attachments[]" multiple style="display: none;"></select>
                <ul id="attachments_ul" class="small-block-grid-2 medium-block-grid-3 large-block-grid-4"></ul>
                                    <div id="is-print" style="display:none;" class="txt-obj-grey"><input type="checkbox" title="is-print" onchange="changeIsPrint(this);" checked="checked" id="checkIsPrint"> Is it a print picture of the object?<br></div>
                    <div id="prints-options" style="display:none;"></div>
                            </div>
        </div>
        <input type="hidden" id="type" value="Object-public"/>
        <input type="hidden" id="entityid" value="141401"/>

    </form>


    <div class="container-loader">
        <span id="comments-loader" data-id="141401">Loading comments... <img src="https://static.myminifactory.com/images/ajax-loader.gif?v108"></span>
    </div>
    <div class="container-loader">
        <span id="post-comment-loader" data-id="141401" style="display: none"><img src="https://static.myminifactory.com/images/ajax-loader.gif?v108"></span>
    </div>
</div>
							<script type="application/javascript">
function initComments() {
    $('.new').submit(function(e) {
        //TODO b = e."get data-id of the button clicked" ? Or make sure the twig has access to the wanted ID & the buttons are differenciable

        e.preventDefault();
        const content = $('#formnewcomment').val();
        if($.trim(content) === '')
            return;

        $('button').attr('disabled', 'disabled');
        $('#post-comment-loader').show();
        const attachments =[];
        $('[id="attachments"] option:selected').each(function(index, element) {
            element = $(element);
            attachments.push({
                'upload_id': element.val(),
                'filename': element.text()
            });
        });

        $.ajax({
            url: '/api/v2/comment',
            type: 'POST',
            data: {
                comment: content,
                attachments: attachments,
                object_type: $('#type').val(),
                object_id: $('#entityid').val(),
                parent_id: '',
                                is_print: $('#checkIsPrint').is(':visible') && $('#checkIsPrint').is(':checked'),
                machine: $('#mymini_3dbundle_print_printedOn option:selected').val(),
                material: $('#mymini_3dbundle_print_material option:selected').val(),
                            },
            success: function(comment) {
                if(comment) {
                    const commentList = $('#comment_list');

                    if(commentList === 'undefined') {
                        $('#main').prepend(
                            '<div class="row"><div class="large-12 small-12 columns" id="comment_list"></div></div>' +
                            '<input type="hidden" id="type" value="' + comment['foreignEntityType'] + '"/>' +
                            '<input type="hidden" id="entityid" value="' + comment['foreignEntityId'] + '"/>'
                        );
                    }
                    else if(commentList.html() === 'Be the first to comment. <i class="fa fa-smile-o" aria-hidden="true"></i>') {
                        commentList.html('');
                        commentList.css('text-align', 'left');
                    }
                    $('#comment_list').prepend(buildComment(comment));
                    $('#attachments_ul').empty();
                    $('#attachments').empty();
                    $('#is-print').hide();
                    $('#prints-options').hide();
                    $('#formnewcomment').val('');
                    const commentsCounter = $('.noComments');
                    commentsCounter.text(parseInt(commentsCounter.first().text()) + 1);
                }
            }
        }).always(function() {
            $('button').attr('disabled', false);
            $('#post-comment-loader').hide();
        });
    });

        $("#uploadattachment").uploadFile({
        url: '/api/v2/image',
        dragDrop: true,
        dragDropStr: '<i class="fa fa-camera" aria-hidden="true"></i>',
        fileName: 'file',
        autoSubmit: true,
        allowedTypes: 'jpg,png,gif,jpeg',
        returnType: 'json',
        showStatusAfterSuccess: false,
        showStatusAfterError: true,
        onSuccess: function(files, data) {
            data.forEach(function(image) {
                appendCommentImage(image);
            });
        }
    });
    }
setTimeout(initComments, '500')

    function appendCommentImage(image) {
        $('#attachments').append('<option selected value="' + image['upload_id'] + '">' + image['filename'] + '</option>');
        $('#attachments_ul').append(
            '<li>' +
            '<img src="' + image['url'] + '">' +
            '<a class="red-cross" href="javascript:void(0);" onclick="deleteCommentImage(\'' + image['upload_id'] + '\')" id="' + image['upload_id'] + '">' +
            '<i class="fi-x-circle large" style="font-size: 30px; line-height: 30px;"></i>' +
            '</a>' +
            '</li>'
        );
                if($('[id="attachments_ul"] li').length === 1) {
            $('#is-print').show();
            $.ajax({
                url: '/prints/create-prints-form/141401'
            }).done(function(data) {
                const options = $('#prints-options');
                options.empty();
                options.append(data);
                options.show();
            });
        }
            }

    function changeIsPrint(checkbox) {
        const options = $('#prints-options');
        checkbox.checked ? options.show() : options.hide();
    }

    function deleteCommentImage(uid) {
        $('[id="' + uid + '"]').parent().remove();
        $('[id="attachments"] option[value="' + uid + '"]').remove();
        if($('[id="attachments_ul"] li').length === 0) {
            $('#is-print').hide();
            $('#prints-options').hide();
        }

        $.ajax({
            url: '/api/v2/image?upload_id=XXX'.replace('XXX', uid),
            method: 'DELETE'
        });
    }
</script>							<script type="application/javascript">
    var page = 2;
    var shouldFetch = false;
    var print_comment = 0;
    
    $(document).ready(function() {
                    var url = '/api/v2/objects/141401/comments';
        
        getComments(1, url);

        $(window).scroll(function () {
            if ($(window).scrollTop() + $("#footer").height() >= $(document).height() - $(window).height() - 500) {
                if (shouldFetch) {
                    getComments(page, url);
                    page = page + 1;
                }
            }
        });
    });

    bindImagePopup();

    function getComments(page, url){
        shouldFetch = false;
        $.ajax({
            url: url,
            data: { per_page: 10, page: page },
            success: function(data) {
                $('#comments-loader').hide();
                $('#more-comments').remove();
                $('#comment-Object-public-141401').append(
                    '<div class="row" id="comment_row"><div class="small-12 columns" id="comment_list"></div></div>' +
                    '<input type="hidden" id="type" value="Object-public"/>'+
                    '<input type="hidden" id="entityid" value="141401"/>'
                );

                if(data['total_count'] > 0) {
                    if(data['items'].length > 0){
                        const isAdmin = false;
                        $.each(data['items'], function(index, comment) {
                            if(comment.user.username === 'maxthompson1' || comment.status !== 2 || isAdmin) {
                                if(!comment['parent_comment_id'] || (comment['parent_comment_id'] && comment['parent_comment_id'] == print_comment)){
                                    $('#comment_list').append(buildComment(comment));
                                }else{
                                    $('[id="reply-' + comment['parent_comment_id'] + '"]').append(buildComment(comment));
                                }
                            }
                        });
                        if(data['items'].length != data['total_count']){
                            shouldFetch = true;
                            $('#comment_list').append('<div class="container-loader" id="more-comments">'+
                                '<span id="comments-loader">Loading comments... <img src="https://static.myminifactory.com/images/ajax-loader.gif?v108"></span>'+
                                '</div>');
                        }
                    }else{
                        $('#more-comments').remove();
                    }
                }
                else {
                    if('Object-public' === 'Object')
                        $('#comment_list').html('These messages will be seen only by you, the MyMinifactory team and people who will help test print your object if it needs it. These comments are private and will not be seen by users once the object is published.');
                    else if('Object-public' === 'Order')
                        $('#comment_list').html('comment The comments are seen by admins only.');
                    else {
                        const commentList = $('#comment_list');
                        commentList.html('Be the first to comment. <i class="fa fa-smile-o" aria-hidden="true"></i>');
                        commentList.css('text-align', 'center');
                        commentList.css('color', '#6b6b6b');
                    }
                }
                bindPrintImagesToModal();

            }
        });
    }

    function getPrintComments(page, url, printId, buildInModal) {
        shouldFetch = false;
        buildInModal = buildInModal || false;
        $.ajax({
            url: url,
            data: { per_page: 10, page: page },
            success: function(data) {
                $('#comment-Prints-'+printId).append(
                    '<div class="row" id="comment_row_subsection"><div class="small-12 columns" id="comment_list_subsection" data-print-id="'+printId+'" style="padding-left: 28px"></div></div>' +
                    '<input type="hidden" id="type" value="Prints"/>'+
                    '<input type="hidden" id="entityid" value="'+printId+'"/>'
                );

                if(data['total_count'] > 0) {
                    if(data['items'].length > 0){
                        const isAdmin = false;
                        $.each(data['items'], function(index, comment) {
                            if(comment.user.username === 'maxthompson1' || comment.status !== 2 || isAdmin) {
                                if(!comment['parent_comment_id']) {
                                    $('#comment_list_subsection[data-print-id="'+printId+'"]').append(buildComment(comment, buildInModal));
                                }else {
                                    var selectorObjectPageSection = '#comment_list_subsection[data-print-id="'+printId+'"]' + ' #reply-' + comment['parent_comment_id'] ;
                                    $(selectorObjectPageSection).append(buildComment(comment, buildInModal));
                                }
                            }
                        });
                        if(data['items'].length != data['total_count']){
                            shouldFetch = true;
                            $('#comment_list_subsection[data-print-id="'+printId+'"]').append('<div class="container-loader" id="more-comments">'+
                                '<span id="comments-loader">Loading comments... <img src="https://static.myminifactory.com/images/ajax-loader.gif?v108"></span>'+
                                '</div>');
                        }
                    }
                }else {
                    if('Object-public' === 'Object'){
                        $('#comment_list_subsection[data-print-id="'+printId+'"]').html('These messages will be seen only by you, the MyMinifactory team and people who will help test print your object if it needs it. These comments are private and will not be seen by users once the object is published.');
                    }else if('Object-public' === 'Order'){
                        $('#comment_list_subsection[data-print-id="'+printId+'"]').html('comment The comments are seen by admins only.');
                    }
                }

                bindPrintImagesToModal();
            }
        });
    }


    function bindPrintImagesToModal(){
        $('.commentprintimagelink').unbind('click');
        $('.commentprintimagelink').on('click', function(e) {
            if (this.getAttribute("data-gallery")!== null){
                e.preventDefault();
                state.focus = false;
                $('.modal-print-list-ul .slick-slide.slick-active.slick-center').css('width', '100%');
                $('.print-list-ul .slick-list').blur();
                $('.slide-prdimg-gallery .slick-list').blur();
                var gallery = $(this).data('gallery');
                var parentComment = this.getAttribute("data-comment");
                loadPrintCommentsSectionAPI(gallery, parentComment);
                $('.desc-modal[data-gallery="'+gallery+'"]').show();

                var imagesSelector = $('.slick-slide:not(".slick-cloned")').find('.print-thumbnails[data-gallery="'+gallery+'"]');
                var slickIndex = $(imagesSelector).parent().data('slick-index');
                var imageIndex = $(this).data('index');
                if (typeof(imageIndex) !== 'undefined'){
                    if ($('.modal-print-list-ul').hasClass('slick-initialized')){
                        $('.modal-print-list-ul').slick('slickGoTo', slickIndex + imageIndex ); //TODO: add this.index to slickIndex
                    } else {
                        $('.desc-modal[data-gallery="'+gallery+'"]').show();
                        $('.img-print-fb').find('img').attr('src', $('.img-print-fb').find('img').attr('src').replace('/230X230-', '/720X720-'));
                    }
                } else {
                    if ($('.modal-print-list-ul').hasClass('slick-initialized')){
                        $('.modal-print-list-ul').slick('slickGoTo', slickIndex ); //TODO: add this.index to slickIndex
                    } else {
                        $('.desc-modal[data-gallery="'+gallery+'"]').show();
                        $('.img-print-fb').find('img').attr('src', $('.img-print-fb').find('img').attr('src').replace('/230X230-', '/720X720-'));
                    }
                }

                if (imagesSelector.length > 1){
                    var $carousel = $('.modal-print-list-ul');
                    $(document).on('keydown', function(e) {
                        if(e.keyCode == 37) {
                            $carousel.slick('slickPrev');
                        }
                        if(e.keyCode == 39) {
                            $carousel.slick('slickNext');
                        }
                    });
                }

                if (!$('#printModal').is(':visible')){
                    $('#printModal').foundation('reveal', 'open');
                }
            }
        });

        $(document).on('close.fndtn.reveal', '#printModal', function () {
            $('.desc-modal').hide();
            state.focus = true;
        });
    }
</script>						</div>
					</div>
				</div>
					</div>
		<!-- END Container Left -->
		<!-- Container Right -->
		<div class="small-12 large-5 columns container-r">
			<!-- Messages status non approve -->
          				<!-- End messages -->
			<!-- Object Info -->
			<div class="row limit-container main-info">
								<div class="small-12 columns cont-obj-info ">
					<!-- Object Name -->
					<div class="row object-name-row">
						<div class="small-12 columns show-for-large-up">
                            							<h1 class="obj-title">
																									<span class="price-title">$8.00</span>
																Fisher&#039;s House (Pre-Supported)
							</h1>
							<p class="date_published_p remix_subtitle_p">
																	Published <span class="date_published_ISO_8601" >2020-12-18T20:53:36+00:00</span>
																							</p>
													</div>
											</div>
					<!-- User Info -->
					<div class = "user-download-container">
						<div class="rowUserInfo">
							<a href="/users/CastnPlay" class="profileimg" style="background:url('https://cdn.myminifactory.com/uploads/profile-images/ee98249c099ae069aee130564adac3e61bbe7f02.jpg'); background-size: cover;"></a>
							<div class="designerWordFlex">
								<p class="txt-obj-medium t-align-l" style="display: flex; justify-content: center; align-items: center;">
									<a href="/users/CastnPlay" class="under-hover">Cast n Play</a>
																	</p>
								<p class="txt-obj-small t-align-l" style = "margin-bottom: 3px;">
									<a href="/users/CastnPlay" class="under-hover"><span>@CastnPlay</span></a>
								</p>
								<p class="txt-obj-grey no-objects"><i class="fa fa-cubes"></i> <a href="/users/CastnPlay" class="under-hover">316 objects</a></p>           
								<div style="display: flex; flex-wrap: nowrap;">
																			<a class="btn-user btn-follow "  title="Click to follow" style = "">
											<i class="fa fa-user-plus" id="ico-follow" aria-hidden="true" style="margin-right:3px;"></i>
											<span id="txtFollow" style = "font-weight: bold;">
																								<span id="noFollowers">5,179</span>
																									<span class="txt-obj-grey">Followers</span>
																							</span>
											<span id="hoverFollow"></span>
										</a>
																																      <a data-reveal-id="firstModal" class="btn-user btn-message" title="Send message to CastnPlay">
      <i class="fa fa-envelope" aria-hidden="true"></i>
    </a>
  
  <!-- Reveal Modals begin -->
  <div id="firstModal" class="reveal-modal medium" data-reveal aria-labelledby="firstModalTitle" aria-hidden="true" role="dialog">
    <div class="panel callout radius">
      <h3 id="firstModalTitle">Send Message to <a href="/users/CastnPlay">CastnPlay</a></h3>
    </div>
    <p id="result">  </p>
    <p>
      <div class="large-12">
        <label>
          <textarea id="messagearea" rows="5" placeholder="Type a message..."></textarea>
        </label>
                  <div class="form-group small-12 large-12 right" style="text-align: right;float: right;">
  <div class="large-12 small-12 right">
    <p>
      Please enter the code below
      <a title="Refresh Captcha" onclick="changeUrl()">
        <i id="captcharefresh" class="fa fa-refresh "></i>
      </a>
    </p>
  </div>
  <div class="large-12 small-12 right">
    <div>
      <img id="captcha" src="https://www.myminifactory.com/captcha/get-new-captcha" >
    </div>
    <div>
      <input placeholder="Enter captcha" name="pure_captcha" id="captchaAnswer" class="form-control" type="text" style="width: calc(30%);float: right;">
    </div>
  </div>
</div>
<script>
var cVersion = 0;
function changeUrl(){
    document.getElementById("captcha").src="https://www.myminifactory.com/captcha/get-new-captcha?v="+cVersion;
    cVersion++;
    var logo = document.getElementById('captcha');
    var captcharefresh = document.getElementById('captcharefresh');
    captcharefresh.classList.add("rotating");

    logo.onload = function () {
        captcharefresh.classList.remove("rotating");
    };
};

</script>
<style>
#captcharefresh{
    color: #3a945b;
}
#captcha {
  width: calc(30%);
  max-height: 60px;
  padding-bottom: 5px;
}
@-webkit-keyframes rotating /* Safari and Chrome */ {
  from {
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes rotating {
  from {
    -ms-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -ms-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
.rotating {
  -webkit-animation: rotating 2s linear infinite;
  -moz-animation: rotating 2s linear infinite;
  -ms-animation: rotating 2s linear infinite;
  -o-animation: rotating 2s linear infinite;
  animation: rotating 2s linear infinite;
}
</style>
                <input type="hidden" class="csrf_token" value="rwizC0DgNFQIA1DeLcos-EvLHAeMowmBP-ihPSh3f70">
      </div>
    </p>
    <p><a href="#" id="sendMessage" class="button right mmfgreen">Send Message</a></p>
    <a class="close-reveal-modal" aria-label="Close">&#215;</a>
  </div>
  <div id="secondModal" class="reveal-modal" data-reveal aria-labelledby="secondModalTitle" aria-hidden="true" role="dialog">
    <div id="messageresult"></div>
    <div>
      <a class="button success right" href="/messages/sent" style="color:white !important;">See your <strong>Inbox</strong></a>
    </div>
    <a class="close-reveal-modal" aria-label="Close">&#215;</a>
  </div>

<script>
  $(function(){
    function showMessage(text,status){
      return '<div data-alert class="alert-box '+status+'">'+
        '<strong>'+text+'</strong></div>';
    }
    $('#sendMessage').on('click',function(){
        $('#result').html("").hide();
        var message = $('#messagearea').val();
        var captcha = $('#captchaAnswer').val();
        if(message == ""){
            $('#result').html(showMessage("Whoops! Message can not be empty!",'alert')).show();
            return
        }
        if(captcha == ""){
            $('#result').html(showMessage("Please enter to captcha code!",'alert')).show();
            return
        }
        // Get some values from elements on the page:
        var username = 'CastnPlay',
                url = "/users/sendmessage";
        // Send the data using post
        var csrfToken = $('.csrf_token').val();
        var captcha = $('#captchaAnswer').val();
        $.ajax({
            url: url,
            type: 'POST',
            data: { _csrf_token: csrfToken, captcha:captcha, contactmessage: message, sender: username }
        }).done(function(data) {
            $('#messagearea').val("");
            $('#captchaAnswer').val("");
            $('#messageresult').html(showMessage(data,'success')).show();
            $('#secondModal').foundation('reveal','open');
            $('#captcharefresh').click();
        }).fail(function(data) {
          $('#result').html(showMessage(data.responseJSON.error_description,'alert')).show();
        });
    });
  });

  $('.btn-message').hover(function(){
      $('.btn-message i').addClass('color-mmfgreen');
  }, function(){
    $('.btn-message i').removeClass('color-mmfgreen');
  });

</script>

																											</div>

																	<div style = "margin-top: 15px; margin-left: 10px; text-align:left;">
										<form name="mymini_tip_log" method="post" id="tipv2-recurring" style="white-space: nowrap; margin-left: 2px; margin-top: -6px;">
    
          <input type="hidden" name="entity_type" value="object"/>
                <input type="hidden" name="entity_id" value="141401"/>
        <input type="submit" value="Support Me" class="button mmfgreen" style="font-weight: bold; text-transform: uppercase; margin-left: -12px; font-size: 12px; width: auto;padding: 9.5px 10px;border-radius: 3px; margin-bottom: 14px; box-shadow: 0 3px 6px rgba(0, 0, 0, .2);" />
<input type="hidden" id="mymini_tip_log__token" name="mymini_tip_log[_token]" value="cqfn-CrG0htu0mPbVP0CzjEKgZrx3LxO09rdlSezNUQ" /></form>

<div id="modalRecurringTips" class="reveal-modal small" data-reveal aria-hidden="true" role="dialog"></div>

<script>
    $(document).ready(function() {
        checkModalSize();
    });

    $(window).resize(function() {
        checkModalSize();
    });

    $('#tipv2-recurring').on('submit', function(event){
        event.preventDefault();
                    var url = '/tip/process/XXXXXXXX';
            url = url.replace('XXXXXXXX', 'CastnPlay');
            var data = $('#tipv2-recurring').serialize();
            $.ajax({
                url: url,
                type : 'POST',
                data: data,
                success: function(data){
                    $('#modalRecurringTips').html();
                    $('#modalRecurringTips').html(data);
                    $('#modalRecurringTips').foundation('reveal', 'open');
                }
            });
            });

    function checkModalSize(){
        if($(window).width() < 1150){
            $('#modalRecurringTips').removeClass('small');
            $('#modalRecurringTips').addClass('large');
        }else{
            $('#modalRecurringTips').removeClass('large');
            $('#modalRecurringTips').addClass('small');
        }
    }
</script>


									</div>
																<!-- Reveal Modals begin -->
<div id="reportModal" data-reveal aria-labelledby="reportModalTitle" class="reveal-modal" aria-hidden="true" role="dialog">
    <a class="close-reveal-modal" aria-label="Close">&#215;</a>
</div>							</div>
						</div>
					<!-- Download Object -->
					<div class="row margin-t-20 download-save-container">
						<div class="download-save-buttons" style="">
														<div class="no-padding cont-download">
																																				<script type="application/json" class="js-react-on-rails-component" data-component-name="DownloadButton" data-dom-id="sfreact-reactRenderer5fde7e63c91635.78757768">{"isLoggedIn":true,"buttonText":"Download","imageUrl":"https:\/\/cdn2.myminifactory.com\/assets\/object-assets\/5fac3d1e23eda\/images\/720X720-kot-fishershouse-castnplay.jpg","download_url":null,"archives":[{"id":3638,"path":"Supported_Fisher's House.zip","size":384637617,"download_url":"https:\/\/www.myminifactory.com\/download\/141401?archive_id=3638"},{"id":3640,"path":"Fisher's House.zip","size":163030029,"download_url":"https:\/\/www.myminifactory.com\/download\/141401?archive_id=3640"}],"csrf_token":"LsiihR-Vg82OuznMmjUakOVt4CMzg5TAFgISgwl6KLw","login_url":"https:\/\/www.myminifactory.com\/login_check","login_target_url":"https:\/\/www.myminifactory.com\/object\/3d-print-fisher-s-house-pre-supported-141401#download","contact_us_url":"https:\/\/www.myminifactory.com\/contact_us\/","forgot_password_url":"https:\/\/www.myminifactory.com\/resetting\/request","google_login_url":"https:\/\/www.myminifactory.com\/social\/login-google","google_logo_url":"https:\/\/static.myminifactory.com\/images\/google-logo.png?v108","facebook_login_url":"https:\/\/www.myminifactory.com\/social\/login-facebook","register_props":{"formData":{"_csrf_token":"7rxEDQIcIa8t_7ZPmLeriDJx9LambKwTPs2rHF-g_6o"},"parental_approval_age":"16","is_authservice":true,"urls":{"target_url":"https:\/\/www.myminifactory.com\/object\/3d-print-fisher-s-house-pre-supported-141401#download","source":"registration","profile_settings_url":"https:\/\/www.myminifactory.com\/settings\/profile","confirmation_url":"https:\/\/www.myminifactory.com\/register\/confirmed","post_user_url":"https:\/\/www.myminifactory.com\/api\/v2\/user","csrf_token_url":"https:\/\/www.myminifactory.com\/api\/v2\/csrf_token?intention=add","registration_staticpage":"https:\/\/www.myminifactory.com\/pages\/register","social_google_login":"https:\/\/www.myminifactory.com\/social\/login-google?target_url=https:\/\/www.myminifactory.com\/object\/3d-print-fisher-s-house-pre-supported-141401%23download","set_session_allow_email_url":"https:\/\/www.myminifactory.com\/social\/session-allow-email","registration_image":"https:\/\/static.myminifactory.com\/images\/registration-perks_small.png?v108","google_logo":"https:\/\/static.myminifactory.com\/images\/google-logo.png?v108","user_social_login":"https:\/\/www.myminifactory.com\/social\/login-facebook?target_url=https:\/\/www.myminifactory.com\/object\/3d-print-fisher-s-house-pre-supported-141401%23download","get_users_url":"https:\/\/www.myminifactory.com\/api\/v2\/users\/to-replace?light=1"},"messages":{"pages.registration.birthday_required":"The birthday is required","pages.registration.username_required":"\ud83d\ude0c You need a username","pages.registration.name_required":"Providing a name is required","pages.registration.email_required":"Providing an email is required","pages.registration.password_required":"Providing a password is required","pages.registration.parent_email_required":"Please insert another email for the parent","pages.registration.policy_required":"You need to accept the privacy policy","pages.registration.error":"An error occurred. Please try again.","pages.registration.birthday_valid":"Please provide a valid birthday","pages.registration.over_13_social":"You need to be at least 13 to register with Google or Facebook","pages.registration.birthday":"Birthday","pages.registration.username":"Username","pages.registration.name":"Name","pages.registration.email":"Email","pages.registration.parent_email":"Parent's Email","pages.registration.password":"Password","pages.registration.register_google":"Join with Google","pages.registration.register_facebook":"Join with Facebook","pages.registration.next":"Next","pages.registration.back":"Back","pages.registration.sign_up":"Sign up","pages.registration.birthdate_why":"We need to know your age to process your profile. This information will not be shared on your profile or with any third party. Complying the with COPPA and GDPR regulations","pages.registration.perk1":"Thousands of 3D printable designs","pages.registration.perk2":"Organize your 3D files","pages.registration.perk3":"Engage with the community","pages.registration.perk4":"Become 3D designer","pages.registration.title":"Register on MyMiniFactory","pages.registration.join":"Join the Community!","pages.registration.register_free":"Register for free","pages.registration.approval_form":"Approval Form","pages.registration.heading":"Register with email","pages.registration.register":"Register","pages.registration.yourfullname":"Your full name","pages.registration.yourusername":"Choose a username","pages.registration.youremail":"Your email address","pages.registration.yourpassword":"Choose a password","pages.registration.repeatpassword":"Please repeat your password","pages.registration.birthdate":"Birth date DD-MM-YYYY (optional)","pages.registration.over_16":"I'm over 16","pages.registration.over_16_popup":"I'm over 16 and allow MyMiniFactory to process personal data","pages.registration.date_format_error":"The date should be valid using DD MM YYYY","pages.registration.under_16_parental_approval":"I have parental approval to create an account","pages.registration.under_16_parental_approval_popup":"I have parental approval to let MyMiniFactory to process personal data","pages.registration.under_16_error":"You need have parental consent to create an account.","pages.registration.under_16_error_popup":"You need have parental consent to let MyMiniFactory to process personal data","pages.registration.read_privacy":"I have read the <a href=\"https:\/\/www.myminifactory.com\/pages\/privacy-policy\" target=\"_blank\">Privacy Policy<\/a> and allow MyMiniFactory to save personal data.","pages.registration.read_privacy_error":"Please accept the MyMiniFactory <a href=\"https:\/\/www.myminifactory.com\/pages\/privacy-policy\" target=\"_blank\">Privacy Policy<\/a> to create an account.","pages.registration.allow_email":"Yes I would like to receive updates about Designs and MyMiniFactory.","pages.registration.willingtoprint":"Tick this box if you are a Maker.<br>You must own a 3D printer to do this. The community will contact you through the platform to print objects for them.","pages.registration.willingtodesign":"Tick this box if you are a Designer.<br>We will contact you to help you build your portfolio of 3D printable objects. You can also","pages.registration.newsletter":"I would like to sign up to the MyMiniFactory newsletter (we won't spam you, but rather share the awesome designs of talented Designers and what's happening in the community)","pages.registration.country":"Country","pages.registration.makemoney":"make money","pages.registration.willingtodesign2":"if your objects are sold in the Store, if you receive Pledges or if you are awarded design Jobs."},"is_simple":true}}</script><div id="sfreact-reactRenderer5fde7e63c91635.78757768"><button class="basic-button  green    downloadButton"><i class="ico-download fa fa-arrow-down" aria-hidden="true"></i> Download</button></div>
																																													</div>
																							</div>
						</div>
                    </div>

					<!-- Statistics Object (likes, views, comments...) -->
					<div class="row container-actions-container">
						<div class="container-actions" style = "">
							<div class="columns" style = "max-width: max-content; display: flex; padding: 0; float: right; justify-content: center; flex-wrap: wrap;">
								<span title="10 likes" class="pointer btn-action btn-click-r" title="Likes" id="like-button">
									<i class="fi-heart large " style="padding-right: 1px;"></i>
									<span id="numberoflikes"> 10 </span>
								</span>
								<span title="0 comments" class="pointer btn-action btn-click-r btn-to-comments">
									<i class="fa fa-comment" aria-hidden="true" style="padding-right: 1px;"></i>
									<span class="noComments" >0 </span>
								</span>
								<span title="Save for Later" class="pointer cont-save btn-click-r">
									<span class="txt-obj-grey btn-save btn-save-for-later ">
										<i style = "font-size: 14px; font-weight: 100; line-height: 0px;" class="align-mid em2 fa fa-clock-o" aria-hidden="true"></i>
																			</span>
								</span>
								<span 
								class="btn-click-r" style = "display: inline; cursor: pointer;" 
								 
									onClick = "window.dispatchEvent(new CustomEvent('add-to-collection-clicked'));" 
								>
									Add to Collection
								</span>
																	<span class="pointer btn-action btn-click-r" id="btn-share" title="Share">
										<i class="fi-share large" style=""></i>
									</span>
																<span class="pointer btn-action btn-click-r reportButton" style = "" data-reveal-id="reportModal" data-entity="Threedobject" data-id="141401" title="Report 3D Object">
									<i class="fa fa-flag"></i>	
								</span>
							</div>
						</div>
					</div>
					<!-- Description -->
                    					<!-- License -->
                    						<div class="row container-info-obj margin-t-10">
							<div class="small-12 columns">
								<div class="title-license pointer title-open txt-obj-grey opened">
									<span class="txt-obj-medium">License</span>
								</div>
								<div>
									    <table class="unstriped table-spec" style="margin-top: 10px;">
    <tbody>
      <tr>
        <td width="60%" style="text-align: left;">
          <a href="https://www.myminifactory.com/object-licensing" title="Learn more about licenses">MyMiniFactory Digital File Store License</a>
        </td>
        <td width="35%" style="opacity: 0.7; text-align: right;">
                                      <a href="https://www.myminifactory.com/object-licensing" title="Learn more about licenses"><span style="color: #2d2d2d;" title="Non-commercial personal use only. No sharing of the or printed 3D files or derivatives. No remixing.">Standard Digital File Store License</span></a>
                                          <a href="https://www.myminifactory.com/object-licensing" title="Learn more about licenses"><i class="fa fa-question-circle" aria-hidden="true"></i></a>
        </td>
      </tr>
    </tbody>
  </table>
								</div>
							</div>
						</div>
                    					<!-- Store Description -->
										<!-- Print Details -->
                    					<!-- Technical Information -->
					<div class="row container-info-obj margin-t-10">
						<div class="small-12 columns">
							<div class="pointer title-open txt-obj-grey">
								<span class="txt-obj-medium">Technical Information</span>
							</div>
							<div class="hide margin-tb-10">
                                <table class="unstriped table-spec">
  <tbody>
    <tr>
              <td>Date published</td>
        <td>18/12/2020</td>
          </tr>
        <tr>
      <td>Price</td>
      <td>$8.00</td>
    </tr>
        
    
          <tr>
        <td>Dimensions</td>
        <td>Dimensions unavailable</td>
      </tr>
    
    
    
      </tbody>
</table>
							</div>
						</div>
					</div>
					<!-- STW INFO -->
											<div class="row container-info-obj margin-t-10">
							<div class="small-12 columns">
								<div class="pointer title-open txt-obj-grey">
									<span class="txt-obj-medium">More Information</span>
								</div>
								<div class="hide margin-tb-10">
									<table class="table-spec">
																			</table>
								</div>
							</div>
						</div>
										<!-- Object Parts-->
                                        						<div class="row container-info-obj margin-t-10">
							<div class="small-12 columns">
								<div class="pointer title-open txt-obj-grey">
									<span class="txt-obj-medium">Object Parts</span>
								</div>
								<div class="container-files hide margin-tb-10">
																											
																					<div class="container-file">
												<form method="get" action="/download/141401?archive_id=3638">
																										<input type="hidden" value="141401" />
													<span title="Supported_Fisher&#039;s House.zip" class="file " >Supported_Fisher&#039;s House.zip</span>
													<span class="additional-files txt-obj-grey txt-obj-small right">367 MB</span>
																											<div class="actions-file">
															<button data-file="3638" title="Download (367 MB)" class="additional-files txt-obj-grey txt-obj-small right download-file" type="submit" name="downloadfile" value="Supported_Fisher&#039;s House.zip" >
																<i class="fa fa-download" aria-hidden="true"></i>
															</button>
														</div>
																									</form>
											</div>
																					<div class="container-file">
												<form method="get" action="/download/141401?archive_id=3640">
																										<input type="hidden" value="141401" />
													<span title="Fisher&#039;s House.zip" class="file " >Fisher&#039;s House.zip</span>
													<span class="additional-files txt-obj-grey txt-obj-small right">155 MB</span>
																											<div class="actions-file">
															<button data-file="3640" title="Download (155 MB)" class="additional-files txt-obj-grey txt-obj-small right download-file" type="submit" name="downloadfile" value="Fisher&#039;s House.zip" >
																<i class="fa fa-download" aria-hidden="true"></i>
															</button>
														</div>
																									</form>
											</div>
																											</div>
							</div>
						</div>
                    					<!-- Documents Attached -->
                    					<!-- Remix Parents -->
                    					<!-- Tags -->
                    					<!-- Admin -->
                    				</div>
			</div>
            <!-- Advertise -->
            									<div class="limit-container main-adv-right">
						<a href="https://mmf.io/mmfxmassxop">
							<img
								src="https://cdn2.myminifactory.com/assets/images/banners/object-christmas-sale-myminifactory.png"
								/>
						</a>
					</div>
				                        <!-- End advertise -->
			<!-- Remixes -->
            			<!-- Recomended Objects -->
            				<div class="row limit-container cont-obj-info related-info margin-t-20">
					<div class="small-12 columns user-card-container" id="container-recomended-objects">
						<div class="row">
							<div class="small-12 columns">
								<div class="container-title-open margin-b-20">
									<span class="txt-obj-grey txt-obj-medium">Interesting objects for you</span>
								</div>
								<div class="text-center" id="objs-related-loader">
									<div>
										<div class="working" id="more-objects-loader" style=" margin-top: 8px"></div>
									</div>
								</div>
								<div id="recomended-objects">
								</div>
								<div class="container-more-objs hide user-card-container">
									<hr style="margin: 0;">
									<div class="text-center">
										<div class="text-center hide" id="more-objects-related-loader">
											<div>
												<div class="working" id="more-objects-loader" style=" margin-top: 8px"></div>
											</div>
										</div>
										<a class="btnMore" id="more-objects-related" style="font-size: 11px;">Show more</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
        			</div>
		<!-- END Container Right -->
	</div>

    
	<div id="objectsInCollectionsModal" class="reveal-modal large" data-reveal aria-hidden="true" role="dialog">
		<a class="close-reveal-modal" aria-label="Close">&#215;</a>
		<div class="small-12 columns text-center margin-b-10">
			<span class="txt-obj-grey" title="1 collections where you can find Fisher&#039;s House (Pre-Supported)">
				<i class="fa fa-tags" aria-hidden="true"></i>
				<span class="collectionsnumber title-modal-collection">1 </span>
                <span class="title-modal-collection">collections where you can find Fisher&#039;s House (Pre-Supported) by</span>
				<a href="/users/CastnPlay" class="txt-obj-grey under"><span class="title-modal-collection">CastnPlay</span></a>
			</span>
		</div>
		<hr>
		<div class="container-objs-collection">
		</div>
		<div class="container-loader">
			<div class="working" id="objs-collection-loader" style="width: 48px; height: 48px;margin-top: 8px"></div>
		</div>
	</div>

    
			<script type="text/javascript">

    function openCartModal(response, buttonText, button){
              $.get('/cart/checkout-content', function(newData) {
          $('#modalStore').html(newData).foundation('reveal','open');
          $(document).on('opened.fndtn.reveal', '[data-reveal]', function (e) {
            if(e.namespace != 'fndtn.reveal') {
                return;
            }
            setTimeout(function () {
              ReactOnRails.reactOnRailsPageLoaded();
              if(response.added){
                $('.basket-checkout').hide();
              }
              button.html(buttonText);
            }, 500);
          });
        });
            $('.basket-checkout').show();
    }

    $(document).ready(function () {

        setTimeout(function(){
            if($('.result-adv .adsbygoogle').is(':empty') && navigator.userAgent.search("Firefox") == -1) {
                adblock = 'block';
                $('.imgSponsorDefault').css("display", "block");
            } else if($('.result-adv .adsbygoogle').is(':empty')){
                adblock = 'block';
                $('.imgSponsorDefault').css("display", "block");
            }
        }, 2000);

        $('.btn-buy').on('click', function(){

            sku = $(this).attr('id');
            var url = "/api/v2/cart/item";

            var button = $(this);
            var buttonText = $(this).html();
            $(this).html('<span style="color: white;">Loading...</span>');
            $.ajax({ 
                url: url,
                type: 'POST',
                contentType: "application/json",
                data: JSON.stringify({
                  sku: sku
                }),
                success: function(response){
                    window.customEventDispatcher.dispatchEvent('ITEM_ADDED_TO_CART', response);
                    openCartModal(response, buttonText, button)
                },
                error: function(){
                  button.html(buttonText);
                  console.log("Error adding item to your cart");
                }
            });
        });

        $(document).on('close.fndtn.reveal', '#modalStoreSuccess', function () {
            location.reload();
        });

        $(document).on('close.fndtn.reveal', '#modalStore', function () {
            window.customEventDispatcher.removeEventListener('UPDATE_PRICES', updatePrices)
        });
    });
</script><script src="https://checkout.stripe.com/checkout.js"></script>
<link href="https://static.myminifactory.com/css/store/store.css?v108" rel="stylesheet" type="text/css">

<div id="modalStore" class="reveal-modal large" data-reveal aria-hidden="true" role="dialog">
</div>
<div id="modalStoreSuccess" class="reveal-modal large" data-reveal aria-hidden="true" role="dialog">
</div>    
    	<script src="https://static.myminifactory.com/js/moment.min.js?v108" type="text/javascript"></script>
	<script type="text/javascript">
    $('.date_published_ISO_8601').html(moment($('.date_published_ISO_8601').html()).fromNow());
    </script>
	
	    <script type="application/ld+json">
    {
      "@context": "http://schema.org/",
      "@type": "Product",
      "name": "Fisher&#039;s House (Pre-Supported)",
	  "brand": "CastnPlay",
      "url": "https://www.myminifactory.com/object/3d-print-fisher-s-house-pre-supported-141401",
            "author": "Cast n Play",
            "image": "https://cdn2.myminifactory.com/assets/object-assets/5fac3d1e23eda/images/720X720-kot-fishershouse-castnplay.jpg",
      "commentCount": "0",
            "datePublished": "2020-12-18T20:53:36+00:00",
            "description": " | Download free and paid 3D printable STL files",
      "offers": {
          "@type": "Offer",
	  "priceCurrency": "USD",
	  "availability": "https://schema.org/InStock",
	  "price": "8.00",
	  "url": "https://www.myminifactory.com/object/3d-print-fisher-s-house-pre-supported-141401",
	  "seller": {
              "@type": "Organization",
              "name": "Cast n Play"
          }
      }
    }

    </script>
	              </div>
      </div>
    </section>
  </div>
</div>

		<script type="application/json" class="js-react-on-rails-component" data-component-name="Footer" data-dom-id="sfreact-reactRenderer5fde7e63c9bd89.09024017">{"paths":{"about":"\/pages\/about_us","howItWorks":"\/pages\/how-it-works","faq":"\/pages\/faq","blog":"\/blog","careers":"\/pages\/careers","help":"\/pages\/faq","forMakers":"\/pages\/register","browseContent":"\/search\/?store=0&ref=footer","buy3DPrinter":"\/product\/elegoo-mars-pro-tabletop-edition","printOnDemand":"https:\/\/3dcompare.com\/","scanTheWorld":"https:\/\/www.myminifactory.com\/scantheworld","mmfPlus":"\/mmf-plus","designCompetitions":"\/competition","forDesingers":"\/pages\/for-designers","features":"\/pages\/features-for-creators","customize":"\/customize\/maker","monetize":"\/pages\/join_the_store","influence":"\/pages\/studio-designers","organizeCompetition":"\/pages\/organize-design-competition","museums":"https:\/\/cdn.myminifactory.com\/static\/STW_For_Galleries_Archives_and_Museum.pdf","api":"\/pages\/for-developers","android":"https:\/\/play.google.com\/store\/apps\/details?id=com.myminifactoryapps","iOS":"https:\/\/itunes.apple.com\/WebObjects\/MZStore.woa\/wa\/viewSoftware?id=1313773617&mt=8","privacyPolicy":"\/pages\/privacy-policy","terms":"\/pages\/terms-and-conditions","sitemap":"http:\/\/www.myminifactory.com\/sitemap.xml","discord":"https:\/\/discord.gg\/4cmARNQ","youtube":"https:\/\/www.youtube.com\/channel\/UCM1vkJLttfSBkQ9RRJlOVzw","facebook":"https:\/\/www.facebook.com\/myminifactory","twitter":"https:\/\/twitter.com\/myminifactory","instagram":"http:\/\/www.instagram.com\/myminifactory","github":"https:\/\/github.com\/myminifactory"}}</script><div id="sfreact-reactRenderer5fde7e63c9bd89.09024017"><div class="footerWrapper" data-reactroot=""><div class="footerInner"><div class="footerTop"><div class="linksColumn"><h3 class="footerHeading">MYMINIFACTORY</h3><div class="linksGroup"><a class="footerLink" href="/pages/about_us">About</a><a class="footerLink" href="/pages/how-it-works">How it works</a><a class="footerLink" href="/pages/faq">Help / FAQ</a><a class="footerLink" href="/blog">Blog</a><a class="footerLink" href="/pages/careers">Careers</a></div></div><div class="linksColumn"><h3 class="footerHeading">MAKERS</h3><div class="linksGroup"><a class="footerLink" href="/pages/register">For Makers</a><a class="footerLink" href="/search/?store=0&amp;ref=footer">Browse Content</a><a class="footerLink" href="/product/elegoo-mars-pro-tabletop-edition">Buy a 3D Printer</a><a class="footerLink" href="https://3dcompare.com/">Print On Demand</a><a class="footerLink" href="https://www.myminifactory.com/scantheworld">Scan The World</a><a class="footerLink" href="/mmf-plus">MMF+: Support the Community</a></div></div><div class="linksColumn"><h3 class="footerHeading">DESIGNERS</h3><div class="linksGroup"><a class="footerLink" href="/competition">Design Competitions</a><a class="footerLink" href="/pages/for-designers">For Designers</a><a class="footerLink" href="/customize/maker">Customizer</a><a class="footerLink" href="/pages/join_the_store">Monetize</a></div></div><div class="linksColumn"><h3 class="footerHeading">PARTNERS</h3><div class="linksGroup"><a class="footerLink" href="/pages/organize-design-competition">Organize a Competition</a><a class="footerLink" href="https://cdn.myminifactory.com/static/STW_For_Galleries_Archives_and_Museum.pdf">Museums</a><a class="footerLink" href="/pages/for-developers">API</a></div></div><div class="subscribeColumn"><div class="subscribe"><h3 class="footerHeading">SUBSCRIBE</h3><form class="emailSubscribeLine" action="https://myminifactory.us11.list-manage.com/subscribe/post?u=d472931d3b83139f3fe4179d3&amp;id=8b11f7b191" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank"><input type="text" class="emailInput" name="EMAIL" id="mce-EMAIL" placeholder="email address" required=""/><input type="submit" class="subscribeButton" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></form></div><div class="app"><h3 class="footerHeading">APP</h3><div class="linksGroup"><a class="footerLink" href="https://play.google.com/store/apps/details?id=com.myminifactoryapps">Google Android</a><a class="footerLink" href="https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=1313773617&amp;mt=8">Apple iOS</a></div></div></div></div><div class="dividingLine"></div><div class="footerBottom"><div class="copyrightWrapper"><span class="copyrightMain">Copyright, MyMiniFactory, <!-- -->2020<!-- --> / 9-12 Long Ln Barbican, London, EC1A 9HA /<a class="copyrightLink" href="/pages/privacy-policy"> Privacy Policy </a> /<a class="copyrightLink" href="/pages/terms-and-conditions"> Terms &amp; Conditions </a> /<a class="copyrightLink" href="http://www.myminifactory.com/sitemap.xml"> Sitemap</a></span><br/></div><div class="socialIconsWrapper"><div><a title="Discord" class="socialIcon discord" href="https://discord.gg/4cmARNQ" target="blank"><div class="discordInner"><svg class="discordSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245 240"> <path class="discordPath" d="M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"></path><path d="M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"></path></svg></div></a></div><div><a title="Youtube" class="socialIcon youtube" href="https://www.youtube.com/channel/UCM1vkJLttfSBkQ9RRJlOVzw" target="blank"><i class="fa fa-youtube iconInner" aria-hidden="true"></i></a></div><div><a title="Facebook" class="socialIcon facebook" href="https://www.facebook.com/myminifactory" target="blank"><i class="fa fa-facebook-square iconInner" aria-hidden="true"></i></a></div><div><a title="Twitter" class="socialIcon twitter" href="https://twitter.com/myminifactory" target="blank"><i class="fa fa-twitter-square iconInner" aria-hidden="true"></i></a></div><div><a title="Instagram" class="socialIcon instagram" href="http://www.instagram.com/myminifactory" target="blank"><i class="fa fa-instagram iconInner" aria-hidden="true"></i></a></div><div><a title="GitHub" class="socialIcon github" href="https://github.com/myminifactory" target="blank"><i class="fa fa-github iconInner" aria-hidden="true"></i></a></div></div></div></div></div></div>

<script type="text/javascript">
function changeTheRes() {
  if (($(document).width() * window.devicePixelRatio) < 1024) {
    document.querySelector("meta[name=viewport]").setAttribute('content', 'width=device-width, initial-scale='+(1/window.devicePixelRatio)+', maximum-scale=1.0, user-scalable=0');
  }
}
var currWidth = $(document).width() * window.devicePixelRatio;
$( window ).resize(function() {
  changeTheRes();
});
changeTheRes();
</script>

  
        
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41837285-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-41837285-1');
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-4138683835438948",
          enable_page_level_ads: true
      });
</script>

<script src="https://static.myminifactory.com/js/build/runtime.33be03e4.js?v108"></script><script src="https://static.myminifactory.com/js/build/product.41f71d09.js?v108"></script>
<script src="https://static.myminifactory.com/js/build/registration.900a9616.js?v108"></script>
<script src="https://static.myminifactory.com/js/build/add-to-collection-modal.52bbc4e7.js?v108"></script>
  <script src="https://static.myminifactory.com/js/build/footer.192d96e9.js?v108"></script>
      <script src="https://static.myminifactory.com/js/build/store-top-bar.d0978095.js?v108"></script>
  


<script>
// add event listeners here

customEventDispatcher.addEventListener('SHOW_LOGIN', function() {
  $('#loginscreen').foundation('reveal', 'open');
});

function updateJoinButton() {
  link = "https://www.myminifactory.com/pages/about_us";
  text = "Learn More";
  $('.homejoin').html(text)
  $('.homejoin').attr('href', link)
}

</script>

</body>

</html>
